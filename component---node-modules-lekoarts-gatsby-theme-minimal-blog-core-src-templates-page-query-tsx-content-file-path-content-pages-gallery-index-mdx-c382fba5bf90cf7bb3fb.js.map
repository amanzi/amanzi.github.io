{"version":3,"file":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-content-file-path-content-pages-gallery-index-mdx-c382fba5bf90cf7bb3fb.js","mappings":";4NAuBA,MATwEA,IAAA,IAAGC,MAAM,KAAEC,GAAM,SAAEC,GAAUH,EAAA,OACnGI,EAAAA,EAAAA,GAACC,EAAAA,EAAM,MACLD,EAAAA,EAAAA,GAACE,EAAAA,GAAO,CAACC,GAAG,KAAKC,QAAQ,aACtBN,EAAKO,QAERL,EAAAA,EAAAA,GAAA,WAASM,GAAI,CAAEC,GAAI,EAAGH,QAAS,mBAAqBL,GAC7C,EAKJ,MAAMS,EAA4BC,IAAA,IAAGZ,MAAM,KAAEC,IAAQW,EAAA,OAAKT,EAAAA,EAAAA,GAACU,EAAAA,EAAG,CAACL,MAAOP,EAAKO,MAAOM,YAAab,EAAKc,SAAW,ECrBvG,SAASC,EAAmBjB,GAAwC,OAAlCkB,GAA+BlB,EAC9E,OAAOmB,EAAAA,cAACC,EAASF,EACnB,gFCiCA,MArBwBG,KACTC,EAAAA,EAAAA,gBAAc,cAiBfC,KAAKC,aCgCnB,MAvDYxB,IAOK,IAPJ,MACXS,EAAQ,GAAE,YACVM,EAAc,GAAE,SAChBU,EAAW,GAAE,MACbC,EAAQ,GAAE,SACVvB,EAAW,KAAI,aACfwB,EAAe,IACN3B,EACT,MAAMuB,EAAOF,KAEP,UACJO,EACAC,aAAcC,EAAY,QAC1BC,EACAC,gBAAiBC,EACjBC,UAAWC,EAAY,OACvBC,EAAM,aACNC,GACEd,EAEEe,EAAM,CACV7B,MAAOA,EAAQ,GAAGA,OAAWmB,IAAcE,EAC3Cf,YAAaA,GAAekB,EAC5BM,IAAK,GAAGR,IAAUN,GAAY,KAC9BC,MAAO,GAAGK,IAAUL,GAASS,KAE/B,OACEhB,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,QAAMqB,KAAMH,IACZlB,EAAAA,cAAA,aAAQmB,EAAI7B,OACZU,EAAAA,cAAA,QAAMsB,KAAK,cAAcC,QAASJ,EAAIvB,cACtCI,EAAAA,cAAA,QAAMsB,KAAK,QAAQC,QAASJ,EAAIZ,QAChCP,EAAAA,cAAA,QAAMwB,SAAS,WAAWD,QAASJ,EAAI7B,QACvCU,EAAAA,cAAA,QAAMwB,SAAS,SAASD,QAASJ,EAAIC,MACrCpB,EAAAA,cAAA,QAAMwB,SAAS,iBAAiBD,QAASJ,EAAIvB,cAC7CI,EAAAA,cAAA,QAAMwB,SAAS,WAAWD,QAASJ,EAAIZ,QACvCP,EAAAA,cAAA,QAAMwB,SAAS,UAAUD,QAAQ,YACjCvB,EAAAA,cAAA,QAAMwB,SAAS,eAAeD,QAASJ,EAAIvB,cAC3CI,EAAAA,cAAA,QAAMsB,KAAK,eAAeC,QAAQ,wBAClCvB,EAAAA,cAAA,QAAMsB,KAAK,gBAAgBC,QAASJ,EAAI7B,QACxCU,EAAAA,cAAA,QAAMsB,KAAK,cAAcC,QAASJ,EAAIC,MACtCpB,EAAAA,cAAA,QAAMsB,KAAK,sBAAsBC,QAASJ,EAAIvB,cAC9CI,EAAAA,cAAA,QAAMsB,KAAK,gBAAgBC,QAASJ,EAAIZ,QACxCP,EAAAA,cAAA,QAAMsB,KAAK,oBAAoBC,QAASJ,EAAIvB,cAC5CI,EAAAA,cAAA,QAAMsB,KAAK,kBAAkBC,QAASN,IACtCjB,EAAAA,cAAA,QAAMsB,KAAK,eAAeC,QAAQ,wCAClCvB,EAAAA,cAAA,QAAMyB,IAAI,OAAOC,KAAK,YAAYC,MAAM,QAAQC,MAAMC,EAAAA,EAAAA,YAAW,wBACjE7B,EAAAA,cAAA,QAAMyB,IAAI,OAAOC,KAAK,YAAYC,MAAM,QAAQC,MAAMC,EAAAA,EAAAA,YAAW,wBACjE7B,EAAAA,cAAA,QAAMyB,IAAI,mBAAmBE,MAAM,UAAUC,MAAMC,EAAAA,EAAAA,YAAW,2BAC7DrB,EAAeR,EAAAA,cAAA,QAAMyB,IAAI,YAAYG,KAAMpB,IAAmB,KAC9DxB,EACA,20DCbP,IAAI8C,EAAW,WAQX,OAPAA,EAAWC,OAAOC,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,IAE9E,OAAON,CACX,EACOH,EAASa,MAAMC,KAAMP,UAChC,EAeA,IAAIQ,EACkB,qBADlBA,EAEM,SAFNA,EAGU,aAHVA,EAIiB,oBAJjBA,EAKc,iBALdA,EAMoB,uBANpBA,EAOY,eAPZA,EAQW,cARXA,EASe,kBATfA,EAUa,gBAVbA,EAWY,eAXZA,EAYa,gBAZbA,EAaW,cAbXA,EAcU,aAdVA,EAeS,YAfTA,EAgBiB,oBAhBjBA,EAiBiB,oBAjBjBA,EAkBa,gBAlBbA,EAmBY,eAUZC,EAA2B,CAC3BC,KAAM,WACNC,OAAQ,OACRC,MAAO,IACPC,WAAY,qBACZC,OAAQ,OACRC,MAAO,OACPC,SAAU,GACVC,WAAY,gBACZC,iBAAkB,IAClBC,UAAW,GACXC,uBAAwB,IACxBC,gBAAgB,EAChBC,cAAe,EACfC,cAAe,IACfC,WAAY,EACZC,sBAAsB,EACtBC,mBAAmB,EACnBC,aAAc,WACdC,mBAAmB,EACnBC,qBAAsB,EACtBC,eAAgB,GAChBC,gBAAiB,GACjBC,qBAAqB,EACrBC,eAAe,EACfC,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAe,EACfC,kBAAkB,EAClBC,MAAM,EACNC,QAAQ,EACRC,UAAU,EACVC,WAAW,EACXC,UAAU,EACVC,mBAAmB,EACnBC,kBAAkB,EAClBC,YAAY,EACZC,0BAA0B,EAC1BC,gBAAiB,eACjBC,yBAAyB,EACzBC,QAAS,EACTC,wBAAyB,GACzBC,SAAU,GACVC,aAAc,GACdC,SAAU,GACVC,SAAU,GACVC,MAAO,EACPC,YAAa,OACbC,aAAc,OACdC,eAAgB,OAChBC,gBAAiB,OACjBC,UAAU,EACVC,SAAS,EACTC,gBAAiB,cACjBC,eAAgB,GAChBC,aAAa,EACbC,YAAY,EACZC,SAAS,EACTC,UAAW,GACXC,WAAY,GACZC,aAAc,GACdC,cAAUC,EACVC,eAAgB,CACZ9B,UAAU,EACVN,eAAe,EACfwB,UAAU,GAEda,QAAS,GACTC,QAAS,CACLC,aAAc,gBACdC,eAAgB,kBAChBC,cAAe,iBACfC,UAAW,aACXlB,SAAU,WACVmB,UAAW,aACXC,mBAAoB,sCA4B5B,IAAIC,EAAyB,WACzB,SAASA,EAAQ9B,GASb,OARA7C,KAAK4E,kBAAoB,CACrB,qBACA,2BACA,YACA,cAEJ5E,KAAK6C,SAAW7C,KAAK6E,aAAahC,GAClC7C,KAAK8E,aAAe9E,KAAK+E,cAClB/E,IACX,CA6UA,OA5UA2E,EAAQK,aAAe,WACnB,MAAO,uCAAuCC,QAAQ,SAAS,SAAUC,GACrE,IAAIC,EAAqB,GAAhBC,KAAKC,SAAiB,EAC/B,OAD2C,KAALH,EAAWC,EAAS,EAAJA,EAAW,GACxDG,SAAS,GACtB,GACJ,EACAX,EAAQ/E,UAAUiF,aAAe,SAAUhC,EAAU0C,GAEjD,YADgB,IAAZA,IAAsBA,EAAUC,UACZ,iBAAb3C,EACAA,GAEX0C,EAAUA,GAAWC,SAEV,MADF3C,EAAS4C,UAAU,EAAG,GAEpBF,EAAQG,cAAc7C,GAGtB0C,EAAQI,iBAAiB9C,GAExC,EACA8B,EAAQ/E,UAAUgG,MAAQ,SAAUC,GAChC,OAAK7F,KAAK6C,eAGmBoB,IAAzBjE,KAAK6C,SAASnD,OACd,GAAGoG,QAAQhG,KAAKE,KAAK6C,SAAUgD,GAG/BA,EAAK7F,KAAK6C,SAAU,GAEjB7C,MARIA,IASf,EACA2E,EAAQ/E,UAAUmG,oBAAsB,SAAUC,EAAIC,EAAaC,GAE/D,IAAItH,EAAWqH,EAAYhB,QAAQ,cAAc,SAAU3F,EAAG6G,GAC1D,OAAOA,EAAOC,aAClB,KACkD,IAA9CpG,KAAK4E,kBAAkByB,QAAQzH,IAC/BoH,EAAGM,MAAM1H,EAAS2H,OAAO,GAAGC,cAAgB5H,EAAS6H,MAAM,IAAMP,EACjEF,EAAGM,MAAM,SAAW1H,GAAYsH,EAChCF,EAAGM,MAAM,MAAQ1H,GAAYsH,EAC7BF,EAAGM,MAAM,KAAO1H,GAAYsH,EAC5BF,EAAGM,MAAM,IAAM1H,GAAYsH,GAG3BF,EAAGM,MAAM1H,GAAYsH,CAE7B,EACAvB,EAAQ/E,UAAUmF,YAAc,WAC5B,OAAI/E,KAAK6C,eAAqCoB,IAAzBjE,KAAK6C,SAASnD,OACxBM,KAAK6C,SAAS,GAGd7C,KAAK6C,QAEpB,EACA8B,EAAQ/E,UAAU8G,eAAiB,SAAUC,EAAOC,GAChD,IAAIC,EAAiBD,EAAUE,MAAM,KACrC,OAAOH,EACFG,MAAM,KACNC,QAAO,SAAUC,GAAK,OAAOA,CAAG,IAChCC,OAAM,SAAUD,GACjB,OAAsC,IAA/BH,EAAeR,QAAQW,EAClC,GACJ,EACArC,EAAQ/E,UAAUsH,KAAO,SAAUA,EAAMhB,GACrC,YAAcjC,IAAViC,EACKlG,KAAK8E,aAGH9E,KAAK8E,aAAaqC,aAAaD,GAF3B,IAIflH,KAAK4F,OAAM,SAAUI,GACjBA,EAAGoB,aAAaF,EAAMhB,EAC1B,IACOlG,KACX,EACA2E,EAAQ/E,UAAUyH,KAAO,SAAUxE,GAC/B,OAAOyE,EAAItH,KAAK6E,aAAahC,EAAU7C,KAAK6C,UAChD,EACA8B,EAAQ/E,UAAU2H,MAAQ,WACtB,OAAIvH,KAAK6C,eAAqCoB,IAAzBjE,KAAK6C,SAASnD,OACxB4H,EAAItH,KAAK6C,SAAS,IAGlByE,EAAItH,KAAK6C,SAExB,EACA8B,EAAQ/E,UAAU4H,GAAK,SAAUvE,GAC7B,OAAOqE,EAAItH,KAAK6C,SAASI,GAC7B,EACA0B,EAAQ/E,UAAU6H,OAAS,WACvB,OAAOH,EAAItH,KAAK6C,SAAS6E,cAC7B,EACA/C,EAAQ/E,UAAU+H,IAAM,WACpB,OAAO3H,KAAK+E,aAChB,EACAJ,EAAQ/E,UAAUgI,WAAa,SAAUC,GACrC,IAAIC,EAAQD,EAAWf,MAAM,KAI7B,OAHA9G,KAAK4F,OAAM,SAAUI,GACjB8B,EAAMhC,SAAQ,SAAUoB,GAAQ,OAAOlB,EAAG+B,gBAAgBb,EAAO,GACrE,IACOlH,IACX,EACA2E,EAAQ/E,UAAUoI,KAAO,SAAUC,GAC/B,IAAKjI,KAAK8E,aACN,OAAO9E,KAEX,IAAIkI,EAAU1C,SAAS2C,cAAc,OAKrC,OAJAD,EAAQD,UAAYA,EACpBjI,KAAK8E,aAAasD,WAAWC,aAAaH,EAASlI,KAAK8E,cACxD9E,KAAK8E,aAAasD,WAAWE,YAAYtI,KAAK8E,cAC9CoD,EAAQK,YAAYvI,KAAK8E,cAClB9E,IACX,EACA2E,EAAQ/E,UAAUa,SAAW,SAAU+H,GAUnC,YATmB,IAAfA,IAAyBA,EAAa,IAC1CxI,KAAK4F,OAAM,SAAUI,GAEjBwC,EAAW1B,MAAM,KAAKhB,SAAQ,SAAUmC,GAChCA,GACAjC,EAAGyC,UAAUC,IAAIT,EAEzB,GACJ,IACOjI,IACX,EACA2E,EAAQ/E,UAAU+I,YAAc,SAAUH,GAStC,OARAxI,KAAK4F,OAAM,SAAUI,GAEjBwC,EAAW1B,MAAM,KAAKhB,SAAQ,SAAUmC,GAChCA,GACAjC,EAAGyC,UAAUG,OAAOX,EAE5B,GACJ,IACOjI,IACX,EACA2E,EAAQ/E,UAAUiJ,SAAW,SAAUZ,GACnC,QAAKjI,KAAK8E,cAGH9E,KAAK8E,aAAa2D,UAAUK,SAASb,EAChD,EACAtD,EAAQ/E,UAAUmJ,aAAe,SAAUC,GACvC,QAAKhJ,KAAK8E,cAGH9E,KAAK8E,aAAaiE,aAAaC,EAC1C,EACArE,EAAQ/E,UAAUqJ,YAAc,SAAUhB,GACtC,OAAKjI,KAAK8E,cAGN9E,KAAK6I,SAASZ,GACdjI,KAAK2I,YAAYV,GAGjBjI,KAAKS,SAASwH,GAEXjI,MARIA,IASf,EACA2E,EAAQ/E,UAAUsJ,IAAM,SAAUtK,EAAUsH,GACxC,IAAIiD,EAAQnJ,KAIZ,OAHAA,KAAK4F,OAAM,SAAUI,GACjBmD,EAAMpD,oBAAoBC,EAAIpH,EAAUsH,EAC5C,IACOlG,IACX,EAEA2E,EAAQ/E,UAAUwJ,GAAK,SAAUC,EAAQC,GACrC,IAAIH,EAAQnJ,KACZ,OAAKA,KAAK6C,UAGVwG,EAAOvC,MAAM,KAAKhB,SAAQ,SAAUa,GAC3B4C,MAAMC,QAAQ7E,EAAQ8E,eAAe9C,MACtChC,EAAQ8E,eAAe9C,GAAS,IAEpChC,EAAQ8E,eAAe9C,GAAO+C,KAAKJ,GACnCH,EAAMtG,SAAS8G,iBAAiBhD,EAAMG,MAAM,KAAK,GAAIwC,EACzD,IACOtJ,MATIA,IAUf,EAEA2E,EAAQ/E,UAAUgK,KAAO,SAAUjD,EAAO2C,GACtC,IAAIH,EAAQnJ,KAKZ,OAJAA,KAAKoJ,GAAGzC,GAAO,WACXwC,EAAMU,IAAIlD,GACV2C,EAAS3C,EACb,IACO3G,IACX,EACA2E,EAAQ/E,UAAUiK,IAAM,SAAUlD,GAC9B,IAAIwC,EAAQnJ,KACZ,OAAKA,KAAK6C,UAGV1D,OAAO2K,KAAKnF,EAAQ8E,gBAAgB3D,SAAQ,SAAUc,GAC9CuC,EAAMzC,eAAeC,EAAOC,KAC5BjC,EAAQ8E,eAAe7C,GAAWd,SAAQ,SAAUwD,GAChDH,EAAMtG,SAASkH,oBAAoBnD,EAAUE,MAAM,KAAK,GAAIwC,EAChE,IACA3E,EAAQ8E,eAAe7C,GAAa,GAE5C,IACO5G,MAVIA,IAWf,EACA2E,EAAQ/E,UAAUoK,QAAU,SAAUrD,EAAOsD,GACzC,IAAKjK,KAAK8E,aACN,OAAO9E,KAEX,IAAIkK,EAAc,IAAIC,YAAYxD,EAAMG,MAAM,KAAK,GAAI,CACnDmD,OAAQA,GAAU,OAGtB,OADAjK,KAAK8E,aAAasF,cAAcF,GACzBlK,IACX,EAEA2E,EAAQ/E,UAAUyK,KAAO,SAAU7L,GAC/B,IAAI2K,EAAQnJ,KAMZ,OALAsK,MAAM9L,GACD+L,MAAK,SAAUC,GAAO,OAAOA,EAAIC,MAAQ,IACzCF,MAAK,SAAUG,GAChBvB,EAAMtG,SAAS8H,UAAYD,CAC/B,IACO1K,IACX,EACA2E,EAAQ/E,UAAU8K,KAAO,SAAUA,GAC/B,YAAazG,IAATyG,EACK1K,KAAK8E,aAGH9E,KAAK8E,aAAa6F,UAFd,IAIf3K,KAAK4F,OAAM,SAAUI,GACjBA,EAAG2E,UAAYD,CACnB,IACO1K,KACX,EACA2E,EAAQ/E,UAAUgL,OAAS,SAAUF,GASjC,OARA1K,KAAK4F,OAAM,SAAUI,GACG,iBAAT0E,EACP1E,EAAG6E,mBAAmB,YAAaH,GAGnC1E,EAAGuC,YAAYmC,EAEvB,IACO1K,IACX,EACA2E,EAAQ/E,UAAUkL,QAAU,SAAUJ,GAIlC,OAHA1K,KAAK4F,OAAM,SAAUI,GACjBA,EAAG6E,mBAAmB,aAAcH,EACxC,IACO1K,IACX,EACA2E,EAAQ/E,UAAUgJ,OAAS,WAIvB,OAHA5I,KAAK4F,OAAM,SAAUI,GACjBA,EAAGoC,WAAWE,YAAYtC,EAC9B,IACOhG,IACX,EACA2E,EAAQ/E,UAAUmL,MAAQ,WAItB,OAHA/K,KAAK4F,OAAM,SAAUI,GACjBA,EAAG2E,UAAY,EACnB,IACO3K,IACX,EACA2E,EAAQ/E,UAAUoL,UAAY,SAAUA,GACpC,YAAkB/G,IAAd+G,GACAxF,SAASyF,KAAKD,UAAYA,EAC1BxF,SAAS0F,gBAAgBF,UAAYA,EAC9BhL,MAGCmL,OAAOC,aACX5F,SAAS0F,gBAAgBF,WACzBxF,SAASyF,KAAKD,WACd,CAEZ,EACArG,EAAQ/E,UAAUyL,WAAa,SAAUA,GACrC,YAAmBpH,IAAfoH,GACA7F,SAASyF,KAAKI,WAAaA,EAC3B7F,SAAS0F,gBAAgBG,WAAaA,EAC/BrL,MAGCmL,OAAOG,aACX9F,SAAS0F,gBAAgBG,YACzB7F,SAASyF,KAAKI,YACd,CAEZ,EACA1G,EAAQ/E,UAAU2L,OAAS,WACvB,IAAKvL,KAAK8E,aACN,MAAO,CACH0G,KAAM,EACNC,IAAK,GAGb,IAAIC,EAAO1L,KAAK8E,aAAa6G,wBACzBC,EAAiBtE,EAAI,QAAQhB,QAAQuF,WAEzC,MAAO,CACHL,KAAME,EAAKF,KAAOM,WAAWF,GAAkB5L,KAAKqL,aACpDI,IAAKC,EAAKD,IAAMzL,KAAKgL,YAE7B,EACArG,EAAQ/E,UAAU0G,MAAQ,WACtB,OAAKtG,KAAK8E,aAGF9E,KAAK8E,aAAaiH,cACtBZ,OAAOa,iBAAiBhM,KAAK8E,cAHtB,CAAC,CAIhB,EAEAH,EAAQ/E,UAAUY,MAAQ,WACtB,IAAI8F,EAAQtG,KAAKsG,QACjB,OAAQtG,KAAK8E,aAAamH,YACtBH,WAAWxF,EAAM4F,aACjBJ,WAAWxF,EAAM6F,aACzB,EAEAxH,EAAQ/E,UAAUW,OAAS,WACvB,IAAI+F,EAAQtG,KAAKsG,QACjB,OAAQtG,KAAK8E,aAAasH,aACtBN,WAAWxF,EAAM+F,YACjBP,WAAWxF,EAAMgG,cACzB,EACA3H,EAAQ8E,eAAiB,CAAC,EACnB9E,CACX,CAzV4B,GA0V5B,SAAS2C,EAAIzE,GAET,OAnXA,WACI,GAAkC,mBAAvBsI,OAAOhB,YACd,OAAO,EAWXgB,OAAOhB,YAVP,SAAqBxD,EAAO4F,GACxBA,EAASA,GAAU,CACfC,SAAS,EACTC,YAAY,EACZxC,OAAQ,MAEZ,IAAIyC,EAAMlH,SAASmH,YAAY,eAE/B,OADAD,EAAIE,gBAAgBjG,EAAO4F,EAAOC,QAASD,EAAOE,WAAYF,EAAOtC,QAC9DyC,CACX,CAEH,CAdD,GAgBSG,QAAQjN,UAAUkN,UACnBD,QAAQjN,UAAUkN,QACdD,QAAQjN,UAAUmN,mBACdF,QAAQjN,UAAUoN,uBAgW3B,IAAIrI,EAAQ9B,EACvB,CAEA,IAAIoK,EAAwB,CACxB,MACA,UACA,UACA,aACA,OACA,QACA,SACA,YACA,aACA,SACA,QACA,SACA,cACA,WACA,QACA,mBACA,YACA,cACA,kBACA,oBACA,gBACA,SACA,mBACA,aAGJ,SAASC,EAAchG,GAEnB,MAAa,SAATA,EACO,MAIXA,GADAA,GADAA,EAAOA,EAAKjC,QAAQ,QAAS,KACjBsB,OAAO,GAAGC,cAAgBU,EAAKT,MAAM,IACrCxB,QAAQ,aAAa,SAAUkI,GAAK,OAAOA,EAAE,GAAG/G,aAAe,GAE/E,CACA,IAAIgH,EAIS,SAAUpH,EAAIpF,EAAWyM,EAASC,QACvB,IAAZD,IAAsBA,EAAU,GACpC,IACIE,EADOjG,EAAItB,GACGkB,KAAK,iBAAmBoG,EAC1C,GAAKC,EAAL,CAGA,IAAIC,EAAoBD,EAAOzG,MAAM,KAErC,GAAI0G,EAAkB,GAElB,IADA,IAAIC,EAAStC,OAAOuC,WACXnO,EAAI,EAAGA,EAAIiO,EAAkB9N,OAAQH,IAAK,CAC/C,IAAIoO,EAASH,EAAkBjO,GAE/B,GADsBqO,SAASD,EAAO7G,MAAM,KAAK,GAAI,IAC/B2G,EAAQ,CAC1BF,EAASI,EACT,KACJ,CAEIpO,IAAMiO,EAAkB9N,OAAS,IACjC6N,EAASI,EAEjB,CAEJ,IAAIE,EAAON,EAAOzG,MAAM,KACpBtG,EAAQoN,SAASC,EAAK,GAAI,IAC1BtN,EAASqN,SAASC,EAAK,GAAI,IAC3BC,EAASlN,EAAUJ,QACnBuN,EAAUnN,EAAUL,SAAW8M,EAC/BW,EAAW5I,KAAK6I,IAAIH,EAAQtN,GAC5B0N,EAAY9I,KAAK6I,IAAIF,EAASxN,GAC9B4N,EAAQ/I,KAAK6I,IAAID,EAAWxN,EAAO0N,EAAY3N,GACnD,MAAO,CAAEC,MAAOA,EAAQ2N,EAAO5N,OAAQA,EAAS4N,EA1BhD,CA2BJ,EArCAf,EA2Cc,SAAUpH,EAAIpF,EAAW6K,EAAK2C,EAAQC,GAChD,GAAKA,EAAL,CAGA,IAAIC,EAAOhH,EAAItB,GAAIqB,KAAK,OAAOE,QAC/B,GAAK+G,EAAK3G,MAAV,CAGA,IAAI4G,EAAgB3N,EAAU+G,MAAMgE,wBAChC8B,EAASc,EAAc/N,MAEvBgO,EAAU5N,EAAUL,UAAYkL,EAAM2C,GACtCK,EAAUH,EAAK9N,QACfkO,EAAWJ,EAAK/N,SAChBoO,EAAUL,EAAKhI,QACfsI,GAAKnB,EAASgB,GAAW,EACzBH,EAAK/C,SAASC,MACbM,WAAW6C,EAAQzC,cAAgB,IACnCJ,WAAW6C,EAAQE,aAAe,GACnCvH,EAAI6D,QAAQE,aACZkD,EAAc/C,KACdsD,GAAKN,EAAUE,GAAY,EAC3BJ,EAAK/C,SAASE,KACbK,WAAW6C,EAAQtC,aAAe,IAClCP,WAAW6C,EAAQI,YAAc,GAClCzH,EAAI6D,QAAQH,YACZS,EAYJ,MATgB,gBACXmD,IAAM,GACP,QACCE,IAAM,GACP,kBANML,EAAUJ,EAAU7N,MAQ1B,KAPMkO,EAAWL,EAAU9N,OAS3B,MA9BJ,CAJA,CAoCJ,EAlFA6M,EAmFiB,SAAUlK,EAAaC,EAAcC,EAAgBC,EAAiB2L,EAAKC,GAExF,MAAO,yDAA8D/L,EAAc,eAAiBE,EAAiB,aAAeD,EAAe,gBAAkBE,EAAkB,sEAD3K4L,EAAc,UAAYA,EAAc,IAAM,IACiN,SAAYD,EAAM,6DACjS,EAtFA5B,EAuFc,SAAUnK,EAAO+L,EAAKE,EAASC,EAAQpQ,EAAOqQ,GACxD,IAEIC,EAAY,QAAUH,EAAU,KAFnBC,EAAS,WAAcA,EAAS,IAAO,IAED,MADvCpQ,EAAQ,UAAaA,EAAQ,IAAO,IACsB,2CAAgDkE,EAAQ,UAAc+L,EAAM,OAClJM,EAAY,GACZF,IAEAE,GADmC,iBAAZF,EAAuBG,KAAKC,MAAMJ,GAAWA,GAC9CK,KAAI,SAAUC,GAChC,IAAI5H,EAAQ,GAKZ,OAJA3I,OAAO2K,KAAK4F,GAAQ5J,SAAQ,SAAU6J,GAElC7H,GAAS,IAAM6H,EAAM,KAAQD,EAAOC,GAAO,GAC/C,IACO,WAAa7H,EAAQ,YAChC,KAEJ,MAAO,GAAKwH,EAAYD,CAC5B,EAxGAjC,EA0GkB,SAAUwC,GAIxB,IAHA,IAAIC,EAAU,GACVC,EAAQ,GACRd,EAAM,GACDzP,EAAI,EAAGA,EAAIqQ,EAAQlQ,OAAQH,IAAK,CACrC,IAAIwQ,EAAOH,EAAQrQ,GAAGuH,MAAM,KAEZ,KAAZiJ,EAAK,IACLA,EAAKC,OAAO,EAAG,GAEnBF,EAAMpG,KAAKqG,EAAK,IAChBF,EAAQnG,KAAKqG,EAAK,GACtB,CAEA,IADA,IAAItC,EAAStC,OAAOuC,WACXuC,EAAI,EAAGA,EAAIJ,EAAQnQ,OAAQuQ,IAChC,GAAIrC,SAASiC,EAAQI,GAAI,IAAMxC,EAAQ,CACnCuB,EAAMc,EAAMG,GACZ,KACJ,CAEJ,OAAOjB,CACX,EA/HA5B,EAgIe,SAAU8C,GACrB,QAAKA,MAKAA,EAAIC,UAMgB,IAArBD,EAAIE,aAKZ,EAjJAhD,EAkJsB,SAAUiD,EAASC,EAAUC,EAAgBC,EAAiBC,GAWhF,MAAO,8BATHA,GAAYA,EAASC,QACR,iBAERD,GAAYA,EAASE,MACb,eAGA,gBAEmC,YAAgBJ,EAAiB,0PAAsQC,EAAkB,oIAA2IA,EAAkB,ggBAA8hBF,GAAY,IAAM,6DAAkED,EAAU,sBAC1oC,EA9JAjD,EA+JsB,SAAUxM,GAC5B,IAAIgQ,EAAWhQ,EAAU+E,iBAAiB,sNAK1C,MAJsB,GAAGoB,OAAOjH,KAAK8Q,GAAU,SAAUC,GACrD,IAAIvK,EAAQ6E,OAAOa,iBAAiB6E,GACpC,MAAyB,SAAlBvK,EAAMwK,SAA2C,WAArBxK,EAAMyK,UAC7C,GAEJ,EAtKA3D,EA8KmB,SAAU4D,EAAOlN,EAAYtB,EAA0BuB,GACtE,IAAIkN,EAAkB,GAClBC,EAtsBZ,WACI,IAAK,IAAI5R,EAAI,EAAGC,EAAI,EAAG4R,EAAK1R,UAAUC,OAAQH,EAAI4R,EAAI5R,IAAKD,GAAKG,UAAUF,GAAGG,OACxE,IAAIyF,EAAIoE,MAAMjK,GAAI8R,EAAI,EAA3B,IAA8B7R,EAAI,EAAGA,EAAI4R,EAAI5R,IACzC,IAAK,IAAI8R,EAAI5R,UAAUF,GAAI0Q,EAAI,EAAGqB,EAAKD,EAAE3R,OAAQuQ,EAAIqB,EAAIrB,IAAKmB,IAC1DjM,EAAEiM,GAAKC,EAAEpB,GACjB,OAAO9K,CACX,CAgsBsCoM,CAAetE,EAAuBnJ,GA6BpE,MA5BA,GAAGgC,QAAQhG,KAAKkR,GAAO,SAAUQ,GAE7B,IADA,IAAI3N,EAAY,CAAC,EACRtE,EAAI,EAAGA,EAAIiS,EAAK3J,WAAWnI,OAAQH,IAAK,CAC7C,IAAI2H,EAAOsK,EAAK3J,WAAWtI,GAC3B,GAAI2H,EAAKuK,UAAW,CAChB,IAAIC,EAAcxE,EAAchG,EAAKxI,MACjCiT,EAAQ,GACRT,EAAwB7K,QAAQqL,IAAgB,IAChDC,EAAQD,GAERC,IACA9N,EAAU8N,GAASzK,EAAKhB,MAEhC,CACJ,CACA,IAAI0L,EAActK,EAAIkK,GAClBK,EAAMD,EAAYvK,KAAK,OAAOE,QAAQL,KAAK,OAC3CxK,EAAQkV,EAAY1K,KAAK,SACzB4K,EAAQ/N,EACN6N,EAAY1K,KAAKnD,GACjB6N,EAAYvK,KAAK,OAAOE,QAAQL,KAAK,OAC3CrD,EAAUiO,MAAQA,EACdtP,IAA6BqB,EAAUkO,UACvClO,EAAUkO,QAAUrV,GAASmV,GAAO,IAExChO,EAAUgO,IAAMA,GAAOnV,GAAS,GAChCuU,EAAgBvH,KAAK7F,EACzB,IACOoN,CACX,EA9MA7D,EA+MU,WACN,MAAO,4BAA4B4E,KAAKC,UAAUC,UACtD,EAjNA9E,EA0NS,SAAU4B,EAAKmD,EAAclP,GAClC,IAAK+L,EACD,OAAImD,EACO,CACHC,OAAO,QAIXC,QAAQC,MAAM,2DACTrP,EAAQ,GACT,kIAIZ,IAAIyN,EAAU1B,EAAIuD,MAAM,gHACpB5B,EAAQ3B,EAAIuD,MAAM,0EAClBC,EAASxD,EAAIuD,MAAM,4EACvB,OAAI7B,EACO,CACHA,QAASA,GAGRC,EACE,CACHA,MAAOA,GAGN6B,EACE,CACHA,OAAQA,QAFX,CAKT,EAMAC,EAAO,EACPC,EAA8B,WAC9B,SAASA,EAAa7B,EAAS8B,GAmB3B,GAlBA3S,KAAK4S,UAAW,EAChB5S,KAAKiD,MAAQ,EAEbjD,KAAKmE,QAAU,GAEfnE,KAAK6S,YAAa,EAElB7S,KAAK8S,QAAS,EACd9S,KAAK+S,kBAAoB,GAEzB/S,KAAKgT,cAAgB,EACrBhT,KAAKiT,iBAAmB,EACxBjT,KAAKkT,qBAAsB,EAC3BlT,KAAKmT,oBAAqB,EAC1BnT,KAAKoT,uBAAyB,CAC1B3H,IAAK,EACL2C,OAAQ,IAEPyC,EACD,OAAO7Q,KASX,GAPAyS,IACAzS,KAAKyS,KAAOA,EACZzS,KAAKgG,GAAK6K,EACV7Q,KAAKsO,KAAOhH,EAAIuJ,GAChB7Q,KAAKqT,iBAAiBV,GACtB3S,KAAKsT,eAEDtT,KAAKuT,SAAS3P,cACcK,IAA5BjE,KAAKuT,SAAS1P,YACb0F,MAAMC,QAAQxJ,KAAKuT,SAAS1P,WAC7B,KAAM,uEAOV,OALA7D,KAAKwT,aAAexT,KAAKyT,WACzBzT,KAAK0T,oBAEL1T,KAAK2T,OACL3T,KAAK4T,kBACE5T,IACX,CAm0DA,OAl0DA0S,EAAa9S,UAAUyT,iBAAmB,SAAUV,GAGhD,GADA3S,KAAKuT,SAAWrU,EAASA,EAAS,CAAC,EAAGgB,GAA2ByS,GAC7D3S,KAAKuT,SAASvP,UACoB,mBAA3BhE,KAAKuT,SAASvP,SACnBhE,KAAKuT,SAASvP,WACdoJ,IAAkB,CACpB,IAAIlJ,EAAiBhF,EAASA,EAAS,CAAC,EAAGc,KAAKuT,SAASrP,gBAAiBlE,KAAKuT,SAASrP,gBACxFlE,KAAKuT,SAAWrU,EAASA,EAAS,CAAC,EAAGc,KAAKuT,UAAWrP,EAC1D,CACJ,EACAwO,EAAa9S,UAAU8T,kBAAoB,WACnC1T,KAAKuT,SAASlR,oBACdrC,KAAKuT,SAASjR,kBAAmB,GAEhCtC,KAAKuT,SAAS5R,WACf3B,KAAKuT,SAAS3R,cAAe,GAGjC5B,KAAKc,eAAiBd,KAAKuT,SAASzS,eAGhCd,KAAKuT,SAAS3P,UACd5D,KAAKc,gBAAiB,GAErBd,KAAKuT,SAAS3S,YACfZ,KAAKuT,SAAS3S,UAAY4E,SAASyF,MAGvCjL,KAAKuT,SAAS5Q,QAAUyC,KAAK6I,IAAIjO,KAAKuT,SAAS5Q,QAAS3C,KAAKwT,aAAa9T,OAC9E,EACAgT,EAAa9S,UAAU+T,KAAO,WAC1B,IAAIxK,EAAQnJ,KACZA,KAAK6T,kBAAkB7T,KAAKwT,cAC5BxT,KAAK8T,iBACL9T,KAAKsO,KAAKtE,QAAQ/J,EAAe,CAC7B8T,SAAU/T,OAEVA,KAAKuT,SAASrR,UACdlC,KAAKkC,WAET8R,YAAW,WACP7K,EAAMxF,aACNwF,EAAMzF,cACNyF,EAAM8K,oBACV,GAAG,IACHjU,KAAKkU,QACDlU,KAAKuT,SAAShR,YACdvC,KAAKuC,aAEJvC,KAAKuT,SAAS3P,SACf5D,KAAKmU,wBAEb,EACAzB,EAAa9S,UAAUuU,uBAAyB,WAkB5C,IAjBA,IAAIhL,EAAQnJ,KACRoU,EAAU,SAAUnR,GACpB,IAAI4N,EAAUwD,EAAOrD,MAAM/N,GACvBqR,EAAWhN,EAAIuJ,GAGf0D,EAAO5P,EAAQK,eACnBsP,EACKpN,KAAK,aAAcqN,GACnBnL,GAAG,uBAAyBmL,GAAM,SAAUvN,GAC7CA,EAAEwN,iBACF,IAAIC,EAAmBtL,EAAMoK,SAAStQ,OAASA,EAC/CkG,EAAMuL,YAAYD,EAAkB5D,EACxC,GACJ,EACIwD,EAASrU,KAEJiD,EAAQ,EAAGA,EAAQjD,KAAKgR,MAAMtR,OAAQuD,IAC3CmR,EAAQnR,EAEhB,EAOAyP,EAAa9S,UAAU0T,aAAe,WAClC,IAAInK,EAAQnJ,KACZA,KAAKuT,SAASpP,QAAQ2B,SAAQ,SAAU6O,GACpCxL,EAAMhF,QAAQuF,KAAK,IAAIiL,EAAOxL,EAAO7B,GACzC,GACJ,EACAoL,EAAa9S,UAAUgU,gBAAkB,WAChC5T,KAAKuT,SAASjT,WAGmB,uBAA7BN,KAAKuT,SAASjT,YACnB+R,QAAQuC,KAAK,iBAAmB5U,KAAKuT,SAASjT,WAAa,gDAH3D+R,QAAQC,MAAM,qCAKtB,EACAI,EAAa9S,UAAUiV,aAAe,SAAU5R,GAC5C,OAAOqE,EAAItH,KAAK8U,eAAe7R,GACnC,EACAyP,EAAa9S,UAAUkV,eAAiB,SAAU7R,GAC9C,MAAO,YAAcjD,KAAKyS,KAAO,IAAMxP,CAC3C,EACAyP,EAAa9S,UAAUmV,UAAY,SAAUC,GACzC,OAAOA,EAAK,IAAMhV,KAAKyS,IAC3B,EACAC,EAAa9S,UAAUqV,eAAiB,SAAUD,GAC9C,OAAO1N,EAAI,IAAMtH,KAAK+U,UAAUC,GACpC,EACAtC,EAAa9S,UAAUsV,2BAA6B,WAC5ClV,KAAKwT,aAAa9T,OAAS,EAC3BM,KAAKmV,MAAM1U,SAAS,kBAGpBT,KAAKmV,MAAMxM,YAAY,iBAE/B,EACA+J,EAAa9S,UAAUkU,eAAiB,WACpC,IAAI3K,EAAQnJ,KAEZ,KADgBA,KAAKoV,YAAcpV,KAAKoV,WAAWzN,OACnD,CAGA,IAAIvF,EAAW,GACXiT,EAAc,GAEdrV,KAAKuT,SAASnR,WACdA,EAAW,6BAAkCpC,KAAK+U,UAAU,WAAa,iBAAqB/U,KAAKuT,SAASnP,QAAuB,cAAI,8BAAmCpE,KAAKuT,SAASvQ,SAAW,yDAA8DhD,KAAK+U,UAAU,WAAa,iBAAqB/U,KAAKuT,SAASnP,QAAmB,UAAI,8BAAmCpE,KAAKuT,SAASxQ,SAAW,cAEjX,aAAlC/C,KAAKuT,SAAS9Q,kBACd4S,EACI,oEAER,IAAIC,EAAa,GACbtV,KAAKuT,SAASpS,oBAEdmU,GAAc,qBAElB,IAAI/T,EAAiBvB,KAAKuT,SAAShS,eAC7B,oBAAsBvB,KAAKuT,SAAShS,eAAiB,IACrD,GACFC,EAAkBxB,KAAKuT,SAAS/R,gBAC9B,qBAAuBxB,KAAKuT,SAAS/R,gBAAkB,IACvD,GACF+T,EAAqB,gBAAkBvV,KAAKuT,SAAS9S,SAAW,KAAO+E,SAASyF,OAASjL,KAAKuT,SAAS3S,UAAY,YAAc,IACjI4U,EAAYxV,KAAKuT,SAAS5R,UAAY3B,KAAKuT,SAASzR,cAClD,qCAA0C9B,KAAKuT,SAASnP,QAAsB,aAAI,SAAapE,KAAK+U,UAAU,YAAc,uCAC5H,GACFU,EAAezV,KAAKuT,SAASxR,iBAC3B,qCAA0C/B,KAAKuT,SAASnP,QAAwB,eAAI,SAAapE,KAAK+U,UAAU,eAAiB,0CACjI,GACFW,EAAW,yBAA4BH,EAAqB,SAAavV,KAAK+U,UAAU,gBAAkB,qCAA4CxT,EAAiB,IAAMC,EAAkB,mDAAwDxB,KAAK+U,UAAU,eAAiB,wDAA8D/U,KAAK+U,UAAU,YAAc,uDAA2DO,EAAa,iCAAqCtV,KAAK+U,UAAU,cAAgB,mDAAyD/U,KAAK+U,UAAU,YAAc,gEAAqE3S,EAAW,oDAAuDpC,KAAK+U,UAAU,cAAgB,uDAA4DU,EAAe,yBAA2BD,EAAY,sDAA0F,cAAlCxV,KAAKuT,SAAS9Q,gBACh7B4S,EACA,IAAM,8BAAiCrV,KAAK+U,UAAU,iBAAmB,kDAAyF,iBAAlC/U,KAAKuT,SAAS9Q,gBAC9I4S,EACA,IAAM,yEACZ/N,EAAItH,KAAKuT,SAAS3S,WAAWgK,OAAO8K,GAChClQ,SAASyF,OAASjL,KAAKuT,SAAS3S,WAChC0G,EAAItH,KAAKuT,SAAS3S,WAAWsI,IAAI,WAAY,YAEjDlJ,KAAKmV,MAAQnV,KAAKiV,eAAe,YACjCjV,KAAK2V,cAAgB3V,KAAKiV,eAAe,iBACzCjV,KAAK4V,UAAY5V,KAAKiV,eAAe,eACrCjV,KAAKoV,WAAapV,KAAKiV,eAAe,gBACtCjV,KAAK6V,OAAS7V,KAAKiV,eAAe,YAClCjV,KAAK8V,SAAW9V,KAAKiV,eAAe,cACpCjV,KAAK+V,SAAW/V,KAAKiV,eAAe,cACpCjV,KAAK4V,UAAU1M,IAAI,sBAAuBlJ,KAAKuT,SAAS5S,iBAAmB,MAC3E,IAAIqV,EAAkBhW,KAAKuT,SAASpT,KAAO,IAC3CH,KAAKkV,6BACDlV,KAAKuT,SAAS5P,aACdqS,GAAmB,YAEvBhW,KAAKmV,MAAM1U,SAASuV,GACpBhW,KAAK6V,OAAO3M,IAAI,6BAA8BlJ,KAAKuT,SAASnT,QAC5DJ,KAAK6V,OAAO3M,IAAI,sBAAuBlJ,KAAKuT,SAASlT,MAAQ,MACzDL,KAAKuT,SAASjQ,UACdtD,KAAK+V,SAASnL,OAAO,UAAa5K,KAAK+U,UAAU,eAAiB,gDAAwD/U,KAAKuT,SAASnP,QAAkB,SAAI,+CAElKpE,KAAKuD,UACL+D,EAAI6D,QAAQ/B,GAAG,mBAAqBpJ,KAAKyS,KAAO,+BAAiCzS,KAAKyS,MAAM,WACxFtJ,EAAM8M,iBACV,IACAjW,KAAKkW,WACLlW,KAAKmW,qBACLnW,KAAKsE,iBACLtE,KAAKoW,aAhEL,CAiEJ,EACA1D,EAAa9S,UAAUqW,gBAAkB,WACrC,GAAIjW,KAAK4S,SAAU,CACf,IACIyD,EADqBrW,KAAKwT,aAAaxT,KAAKiD,OACNoT,iBAC1CrW,KAAKoT,uBAAyBpT,KAAKsW,4BACnC,IAAIC,EAAKvW,KAAKoT,uBAAwBoD,EAAQD,EAAG9K,IAAK2C,EAASmI,EAAGnI,OAKlE,GAJApO,KAAKyW,iBAAmBrJ,EAAcpN,KAAKgR,MAAMhR,KAAKiD,OAAQjD,KAAKmV,MAAOqB,EAAQpI,EAAQiI,GAAoBrW,KAAKuT,SAASnS,cACxHiV,GACArW,KAAK0W,iBAAiB1W,KAAKiD,MAAOjD,KAAKyW,kBAEvCzW,KAAKc,iBAAmBd,KAAKkT,oBAAqB,CAClD,IAAIyD,EAAW3W,KAAK4W,kBAAkB5W,KAAKyW,kBAC3CzW,KAAKmV,MACA9N,KAAK,6BACLE,QACAL,KAAK,QAASyP,EACvB,CACA3W,KAAKsO,KAAKtE,QAAQ/J,EACtB,CACJ,EACAyS,EAAa9S,UAAU8W,iBAAmB,SAAUzT,EAAOoL,GACvD,IAAIwI,EAAe7W,KAAK8W,kBAAkBzI,GACvBrO,KAAK6U,aAAa5R,GACxBoE,KAAK,kBAAkBH,KAAK,QAAS2P,EACtD,EA2CAnE,EAAa9S,UAAUmX,aAAe,SAAU/F,EAAO/N,GAOnD,GANIjD,KAAKiD,MAAQ+N,EAAMtR,OAAS,IAC5BM,KAAKiD,MAAQ+N,EAAMtR,OAAS,GAEX,IAAjBsR,EAAMtR,SACNM,KAAKiD,MAAQ,GAEZ+N,EAAMtR,OAAX,CAIA,IAAIsX,EAAahX,KAAKwT,aAAavQ,GAAO+L,IAC1ChP,KAAKwT,aAAexC,EACpBhR,KAAKiX,iBACLjX,KAAK6V,OAAO9K,QACZ/K,KAAK+S,kBAAoB,GACzB,IAAImE,EAAS,EAEblX,KAAKwT,aAAa2D,MAAK,SAAUC,EAAaC,GAC1C,OAAID,EAAYpI,MAAQgI,IACpBE,EAASG,GACF,EAGf,IACArX,KAAK+S,kBAAoB/S,KAAKsX,mBAAmBJ,GAAS,GAC1DlX,KAAKuX,YAAYL,GAAQ,GACzBlX,KAAK6U,aAAaqC,GAAQzW,SAAS,cACnCT,KAAKiD,MAAQiU,EACblX,KAAKwX,qBAAqBN,GAC1BlX,KAAKsO,KAAKtE,QAAQ/J,EApBlB,MAFID,KAAKqE,cAuBb,EAEAqO,EAAa9S,UAAU6T,SAAW,WAG9B,GADAzT,KAAKgR,MAAQ,GACRhR,KAAKuT,SAAS3P,QA0Bf,OAAO5D,KAAKuT,SAAS1P,WAAa,GAzBlC,GAA+B,SAA3B7D,KAAKuT,SAAS1Q,SACd7C,KAAKgR,MAAMtH,KAAK1J,KAAKgG,SAEpB,GAAIhG,KAAKuT,SAAS1Q,SACnB,GAAsC,iBAA3B7C,KAAKuT,SAAS1Q,SACrB,GAAI7C,KAAKuT,SAASzQ,aAAc,CAC5B,IAAIA,EAAewE,EAAItH,KAAKuT,SAASzQ,cACrC9C,KAAKgR,MAAQlO,EACRuE,KAAKrH,KAAKuT,SAAS1Q,UACnB8E,KACT,MAEI3H,KAAKgR,MAAQhR,KAAKgG,GAAGL,iBAAiB3F,KAAKuT,SAAS1Q,eAIxD7C,KAAKgR,MAAQhR,KAAKuT,SAAS1Q,cAI/B7C,KAAKgR,MAAQhR,KAAKgG,GAAG5J,SAEzB,OAAOgR,EAAwBpN,KAAKgR,MAAOhR,KAAKuT,SAASzP,WAAY9D,KAAKuT,SAAS/Q,yBAA0BxC,KAAKuT,SAASxP,aAKnI,EACA2O,EAAa9S,UAAU6X,oBAAsB,WACzC,OAAQzX,KAAKuT,SAAS7R,eAClB8D,SAASyF,OAASjL,KAAKuT,SAAS3S,SACxC,EACA8R,EAAa9S,UAAU8B,cAAgB,WACnC,GAAK1B,KAAKyX,sBAAV,CAGAzX,KAAKiT,iBAAmBnH,WAAWxE,EAAI,QAAQhB,QAAQ6F,cACvD,IAAIuL,EAAWlS,SAAS0F,gBAAgBS,wBACpCgM,EAAiBxM,OAAOuC,WAAagK,EAASlX,MAClD8G,EAAI9B,SAASyF,MAAM/B,IAAI,gBAAiByO,EAAiB3X,KAAKiT,iBAAmB,MACjF3L,EAAI9B,SAASyF,MAAMxK,SAAS,kBAL5B,CAMJ,EACAiS,EAAa9S,UAAUgY,eAAiB,WAC/B5X,KAAKyX,wBAGVnQ,EAAI9B,SAASyF,MAAM/B,IAAI,gBAAiBlJ,KAAKiT,iBAAmB,MAChE3L,EAAI9B,SAASyF,MAAMtC,YAAY,mBACnC,EA6BA+J,EAAa9S,UAAU8U,YAAc,SAAUzR,EAAO4N,GAClD,IAAI1H,EAAQnJ,KAGZ,QAFc,IAAViD,IAAoBA,EAAQjD,KAAKuT,SAAStQ,QAE1CjD,KAAK4S,SAAT,CAEA5S,KAAK4S,UAAW,EAChB5S,KAAKmV,MAAMxM,YAAY,iBACvB3I,KAAK0B,gBAEL1B,KAAKoV,WAAW3U,SAAS,WACzB,IAAIoX,EAAyB7X,KAAK8X,0BAA0B7U,EAAOA,GACnEjD,KAAK+S,kBAAoB8E,EACzB,IAAI7G,EAAQ,GACZ6G,EAAuB/R,SAAQ,SAAU0L,GACrCR,EAAQA,EAAS,YAAeQ,EAAO,0BAC3C,IACAxR,KAAK6V,OAAOjL,OAAOoG,GACnBhR,KAAK+X,QAAQ9U,GACb,IAAI+U,EAAY,GAChBhY,KAAKoT,uBAAyBpT,KAAKsW,4BACnC,IAAIC,EAAKvW,KAAKoT,uBAAwB3H,EAAM8K,EAAG9K,IAAK2C,EAASmI,EAAGnI,OAC3DpO,KAAKuT,SAASpS,mBACfnB,KAAKiY,0BAA0BxM,EAAK2C,GAExC,IAAIiI,EAAmBrW,KAAKwT,aAAavQ,GAAOoT,iBAC5CrW,KAAKc,gBAAkB+P,IACvB7Q,KAAKyW,iBAAmBrJ,EAAcyD,EAAS7Q,KAAKmV,MAAO1J,EAAM2C,EAAQiI,GAAoBrW,KAAKuT,SAASnS,cAC3G4W,EAAY5K,EAAmByD,EAAS7Q,KAAKmV,MAAO1J,EAAK2C,EAAQpO,KAAKyW,mBAErEzW,KAAKc,gBAAmBkX,IACzBhY,KAAKmV,MAAM1U,SAAST,KAAKuT,SAAS7S,YAClCV,KAAK6U,aAAa5R,GAAO0F,YAAY,gBAEzC,IAAIuP,EAAUlY,KAAKuT,SAASzS,eACtB,IACAd,KAAKuT,SAAS5S,iBACpBqT,YAAW,WACP7K,EAAMgM,MAAM1U,SAAS,qBACzB,GAAGyX,GACHlY,KAAKiD,MAAQA,EACbjD,KAAKsO,KAAKtE,QAAQ/J,GAElBD,KAAK6U,aAAa5R,GAAOxC,SAAS,cAClCT,KAAK6S,YAAa,EAElB7S,KAAKgT,cAAgB1L,EAAI6D,QAAQH,YACjCgJ,YAAW,WAGP,GAAI7K,EAAMrI,gBAAkBkX,EAAW,CACnC,IAAIG,EAAiBhP,EAAM0L,aAAa5R,GACxCkV,EAAejP,IAAI,YAAa8O,GAChChE,YAAW,WACPmE,EACK1X,SAAS,2CACTyI,IAAI,sBAAuBC,EAAMoK,SAAS1S,uBAAyB,MACxEsI,EAAMgM,MAAM1U,SAAS,qBACzB,IACAuT,YAAW,WACPmE,EAAejP,IAAI,YAAa,uBACpC,GAAG,IACP,CACA8K,YAAW,WACP7K,EAAMyM,UAAUnV,SAAS,MACzB0I,EAAMiM,WAAW3U,SAAS,aAC9B,GAAG,IACHuT,YAAW,WACH7K,EAAMoK,SAASpR,WACfqD,SAASyF,OAAS9B,EAAMoK,SAAS3S,WACjCuI,EAAMhH,WAEd,GAAGgH,EAAMoK,SAAS5S,iBAAmB,IAEhCwI,EAAMrI,gBAAmBkX,GAC1BhE,YAAW,WACP7K,EAAMgM,MAAM1U,SAAS,aACzB,GAAG0I,EAAMoK,SAAS5S,kBAGtBwI,EAAMiP,MAAMnV,GAAO,GAAO,GAAO,GACjCkG,EAAMmF,KAAKtE,QAAQ/J,EACvB,IACIuF,SAASyF,OAASjL,KAAKuT,SAAS3S,WAChC0G,EAAI,QAAQ7G,SAAS,QA/Ef,CAiFd,EAOAiS,EAAa9S,UAAU0W,0BAA4B,WAC/C,GAAItW,KAAKuT,SAASpS,kBACd,MAAO,CACHsK,IAAK,EACL2C,OAAQ,GAGhB,IAAI3C,EAAMzL,KAAK+V,SAASpO,MAAMyE,cAAgB,EAC1C2F,EAAU/R,KAAKmV,MAAM9N,KAAK,+BAA+BM,MACzD0Q,EAAgBrY,KAAKuT,SAASjS,sBAC7ByQ,GAAWA,EAAQ3F,cACpB,EACAkM,EAAiBtY,KAAKmV,MAAM9N,KAAK,mBAAmBM,MAGxD,MAAO,CACH8D,IAAKA,EACL2C,QAJckK,EAAiBA,EAAelM,aAAe,GACtCiM,EAK/B,EACA3F,EAAa9S,UAAUqY,0BAA4B,SAAUxM,EAAK2C,QAClD,IAAR3C,IAAkBA,EAAM,QACb,IAAX2C,IAAqBA,EAAS,GAClCpO,KAAK8V,SAAS5M,IAAI,MAAOuC,EAAM,MAAMvC,IAAI,SAAUkF,EAAS,KAChE,EACAsE,EAAa9S,UAAUsW,SAAW,WAC9B,IAAI/M,EAAQnJ,KAEZgU,YAAW,WACP7K,EAAMgM,MAAMxM,YAAY,iBACpBQ,EAAMoK,SAASxS,cAAgB,IAC/BoI,EAAMgM,MAAM/L,GAAG,uCAAuC,WAClDD,EAAMgM,MAAMxM,YAAY,iBACxB4P,aAAapP,EAAMqP,gBAEnBrP,EAAMqP,eAAiBxE,YAAW,WAC9B7K,EAAMgM,MAAM1U,SAAS,gBACzB,GAAG0I,EAAMoK,SAASxS,cACtB,IACAoI,EAAMgM,MAAMnL,QAAQ,gBAE5B,GAAGhK,KAAKuT,SAASvS,cACrB,EACA0R,EAAa9S,UAAU6Y,gBAAkB,SAAUC,GAC/C,GAAI1Y,KAAKuT,SAASrS,qBACd,IACIyX,YAAY,CACR/H,SAAU,CAAC8H,EAAK/Q,QAExB,CACA,MAAOX,GACHqL,QAAQuC,KAAK,qJACjB,CAER,EAKAlC,EAAa9S,UAAU2D,QAAU,WAC7B,GAAIvD,KAAKuT,SAAShQ,QAAS,CACvB,IAAIqV,EAAc,wFAAiG5Y,KAAK+U,UAAU,sBAAwB,iCAAsC/U,KAAKiD,MAAQ,GAAK,yCAA4CjD,KAAK+U,UAAU,kBAAoB,4BAAiC/U,KAAKwT,aAAa9T,OAAS,iBAC7VM,KAAKmV,MAAM9N,KAAKrH,KAAKuT,SAAS/P,iBAAiBoH,OAAOgO,EAC1D,CACJ,EAKAlG,EAAa9S,UAAUmY,QAAU,SAAU9U,GACvC,IAAI8O,EACA8G,EAOJ,GANI7Y,KAAKwT,aAAavQ,GAAO4V,WACzBA,EAAa7Y,KAAKwT,aAAavQ,GAAO4V,WAGtC9G,EAAU/R,KAAKwT,aAAavQ,GAAO8O,SAElC8G,EACD,GAAI9G,EAAS,CAGT,IAAI+G,EAAK/G,EAAQtM,UAAU,EAAG,GACnB,MAAPqT,GAAqB,MAAPA,IAGV/G,EAFA/R,KAAKuT,SAAS7Q,0BACb1C,KAAKuT,SAAS3P,QACL0D,EAAItH,KAAKgR,OACdxJ,GAAGvE,GACHoE,KAAK0K,GACLxK,QACAmD,OAGKpD,EAAIyK,GAASxK,QAAQmD,OAG3C,MAEIqH,EAAU,GAGlB,GAAsC,aAAlC/R,KAAKuT,SAAS9Q,gBACVoW,EACA7Y,KAAKmV,MAAM9N,KAAK,gBAAgBgD,KAAKwO,GAGrC7Y,KAAKmV,MAAM9N,KAAK,gBAAgBqD,KAAKqH,OAGxC,CACD,IAAIgH,EAAezR,EAAItH,KAAK8U,eAAe7R,IACvC4V,EACAE,EAAa1O,KAAKwO,GAGlBE,EAAanO,OAAO,4BAAgCmH,EAAU,SAEtE,CAEI,MAAOA,IACS,KAAZA,EACA/R,KAAKmV,MACA9N,KAAKrH,KAAKuT,SAAS9Q,iBACnBhC,SAAS,iBAGdT,KAAKmV,MACA9N,KAAKrH,KAAKuT,SAAS9Q,iBACnBkG,YAAY,kBAGzB3I,KAAKsO,KAAKtE,QAAQ/J,EAA6B,CAC3CgD,MAAOA,GAEf,EAMAyP,EAAa9S,UAAU+C,QAAU,SAAUM,GACvC,IAAK,IAAI1D,EAAI,EAAGA,GAAKS,KAAKuT,SAAS5Q,WAC3BpD,GAAKS,KAAKwT,aAAa9T,OAASuD,GADI1D,IAIxCS,KAAKuX,YAAYtU,EAAQ1D,GAAG,GAEhC,IAAK,IAAI0Q,EAAI,EAAGA,GAAKjQ,KAAKuT,SAAS5Q,WAC3BM,EAAQgN,EAAI,GADwBA,IAIxCjQ,KAAKuX,YAAYtU,EAAQgN,GAAG,EAEpC,EACAyC,EAAa9S,UAAUgX,kBAAoB,SAAUvI,GACjD,OAAKA,EAEE,SAAWA,EAAU7N,MAAQ,sCAAwC6N,EAAU7N,MAAQ,EAAI,qCAAuC6N,EAAU9N,OAAS,EAAI,+BAAiC8N,EAAU9N,OAAS,KADzM,EAEf,EACAmS,EAAa9S,UAAUkX,kBAAoB,SAAUzI,GACjD,OAAKA,EAEE,SAAWA,EAAU7N,MAAQ,+BAAiC6N,EAAU9N,OAAS,KAD7E,EAEf,EACAmS,EAAa9S,UAAUoZ,qBAAuB,SAAUC,EAAehW,EAAO4O,GAC1E,IAAIqH,EAIJ,GAHKlZ,KAAKuT,SAAS3P,UACfsV,EAAe5R,EAAItH,KAAKgR,OAAOxJ,GAAGvE,IAElCiW,EAAc,CACd,IAAIC,OAAe,EAOnB,KAFIA,EAJCnZ,KAAKuT,SAASxP,aAIAmV,EAAahS,KAAKlH,KAAKuT,SAASxP,cAHhCmV,EAAa7R,KAAK,OAAOE,QAAQL,KAAK,QAMrD,MAAO,GACX,IACIkS,EAAkB,QAAUvH,EAAM,WADvB7R,KAAK4W,kBAAkB5W,KAAKyW,kBACoB,+BAAqC0C,EAAe,OAGnH,OAFAF,EAAcxY,SAAS,kBACvBT,KAAKmV,MAAM1U,SAAS,0BACb2Y,CACX,CACA,MAAO,EACX,EACA1G,EAAa9S,UAAUyZ,aAAe,SAAUrK,EAAKiK,EAAehW,GAChE,IAAIqW,EAAqBtZ,KAAKwT,aAAavQ,GACvC4O,EAAMyH,EAAmBzH,IAAK1C,EAASmK,EAAmBnK,OAAQpQ,EAAQua,EAAmBva,MAAOqQ,EAAUkK,EAAmBlK,QAIjIF,EAAU2C,EAAM,QAAUA,EAAM,IAAM,GAOtCxC,EAAY,kCANZrP,KAAKuZ,gCACQvZ,KAAKgZ,qBAAqBC,EAAehW,EAAOiM,GAGhD9B,EAAmBnK,EAAO+L,EAAKE,EAASC,EAAQpQ,EAAOqQ,IAEN,aAClE6J,EAAcnO,QAAQuE,EAC1B,EACAqD,EAAa9S,UAAU4Z,kBAAoB,SAAUC,EAAQC,EAA2BC,EAAQC,GAC5F,IAAIC,EAAcJ,EAAOpS,KAAK,cAAcE,QACxC6F,EAAoByM,EAAYlS,QAChC+R,EACAC,KAGAE,EAAYzQ,GAAG,oBAAoB,WAC/BuQ,GAAUA,GACd,IACAE,EAAYzQ,GAAG,YAAY,WACvBwQ,GAAWA,GACf,IAER,EASAlH,EAAa9S,UAAUka,eAAiB,SAAUf,EAAc9V,EAAO8W,EAAO1Z,EAAO2Z,EAAcN,GAC/F,IAAIvQ,EAAQnJ,KACZA,KAAKwZ,kBAAkBT,EAAcW,GAA2B,WAC5DvQ,EAAM8Q,qBAAqBlB,EAAc9V,EAAO8W,EAAO1Z,EAAO2Z,EAClE,IAAG,WACCjB,EAAatY,SAAS,4BACtBsY,EAAarO,KAAK,8BACdvB,EAAMoK,SAASnP,QAA4B,mBAC3C,UACR,GACJ,EACAsO,EAAa9S,UAAUqa,qBAAuB,SAAUhB,EAAehW,EAAO8W,EAAO1Z,EAAO2Z,GACxF,IAAI7Q,EAAQnJ,KACRsZ,EAAqBtZ,KAAKwT,aAAavQ,GAGvCiX,EAASF,GACiC,UAA1Cha,KAAKma,aAAab,KACjBA,EAAmBc,OAClB/Z,EACA,EACN2T,YAAW,WACPiF,EAAcxY,SAAS,4BACvB0I,EAAMmF,KAAKtE,QAAQ/J,EAAwB,CACvCgD,MAAOA,EACP8W,MAAOA,GAAS,EAChBC,aAAcA,GAEtB,GAAGE,EACP,EACAxH,EAAa9S,UAAU2Z,8BAAgC,WACnD,QAAWvZ,KAAK6S,aACZ7S,KAAKc,iBACLd,KAAKyW,iBACb,EAEA/D,EAAa9S,UAAUiU,kBAAoB,SAAU7C,GACjD,IAAI7H,EAAQnJ,KACZgR,EAAMlL,SAAQ,SAAU+K,EAAS5N,GAC7B4N,EAAQwF,iBAAmBjJ,EAAcyD,EAAQ7B,MAAO6B,EAAQwJ,MAAOpX,GACnE4N,EAAQwF,kBACRlN,EAAMoK,SAASlS,oBACdwP,EAAQuJ,QACTvJ,EAAQwF,iBAAiB3F,UACzBG,EAAQuJ,OAAS,wBAA0BvJ,EAAQwF,iBAAiB3F,QAAQ,GAAK,qBAEzF,GACJ,EAOAgC,EAAa9S,UAAU2X,YAAc,SAAUtU,EAAOqX,GAClD,IAAInR,EAAQnJ,KACRsZ,EAAqBtZ,KAAKwT,aAAavQ,GACvCgW,EAAgB3R,EAAItH,KAAK8U,eAAe7R,IACxCmX,EAASd,EAAmBc,OAAQjL,EAASmK,EAAmBnK,OAAQpQ,EAAQua,EAAmBva,MAAOqQ,EAAUkK,EAAmBlK,QACvIJ,EAAMsK,EAAmBtK,IACzBqL,EAAQf,EAAmBe,MAC3BE,EAAcF,GAA0B,iBAAVA,EAAqB9K,KAAKC,MAAM6K,GAASA,EAC3E,GAAIf,EAAmBkB,WAAY,CAC/B,IAAIC,EAAYnB,EAAmBkB,WAAW1T,MAAM,KACpDkI,EAAM5B,EAAuBqN,IAAczL,CAC/C,CACA,IAAI0L,EAAYpB,EAAmBjD,iBAC/BQ,EAAe,GACf8D,IAAWrB,EAAmBqB,OAC9BX,GAAgBha,KAAK6S,WAErBkH,EAAQ,EASZ,GARIC,IAEID,EADA/Z,KAAKc,gBAAkBd,KAAKyW,iBACpBzW,KAAKuT,SAAS1S,uBAAyB,GAGvCb,KAAKuT,SAAS5S,iBAAmB,KAG5CsY,EAAcpQ,SAAS,aAAc,CACtC,GAAI6R,EAAW,CACX,IAAInE,EAAKvW,KAAKoT,uBAAwBwH,EAAQrE,EAAG9K,IAAK2C,EAASmI,EAAGnI,OAC9DyM,EAAYzN,EAAcpN,KAAKgR,MAAM/N,GAAQjD,KAAKmV,MAAOyF,EAAQxM,EAAQsM,GAAa1a,KAAKuT,SAASnS,cACxGyV,EAAe7W,KAAK8W,kBAAkB+D,EAC1C,CACA,GAAIF,EAAQ,CACR,IAAIG,EAAS1N,EAAsBpN,KAAKuT,SAASrQ,YAAalD,KAAKuT,SAASpQ,aAAcnD,KAAKuT,SAASnQ,eAAgBpD,KAAKuT,SAASlQ,gBAAiB2L,EAAKsK,EAAmBrK,aAC/KgK,EAAcnO,QAAQgQ,EAC1B,MACK,GAAIV,EAAQ,CACb,IAAI9J,EAAW,GACS0J,GACpBha,KAAKc,gBACLd,KAAKyW,mBAELnG,EAAWtQ,KAAKgZ,qBAAqBC,EAAehW,EAAO,KAE3D6X,EAAS1N,EAA2BgN,EAAQ9J,GAAY,GAAIuG,EAAc7W,KAAKuT,SAASnP,QAAmB,UAAGsW,GAClHzB,EAAcnO,QAAQgQ,EAC1B,MACK,GAAIJ,EAAW,CACZI,EAAS,sCAA2CjE,EAAe,WACvEoC,EAAcnO,QAAQgQ,EAC1B,MAGI,GADA9a,KAAKqZ,aAAarK,EAAKiK,EAAehW,GAClCkM,GAAUC,EAAS,CACnB,IAAIsJ,EAAOO,EAAc5R,KAAK,cAC9BrH,KAAKyY,gBAAgBC,EACzB,EAEA0B,GAAUM,IACV1a,KAAKsO,KAAKtE,QAAQ/J,EAAmB,CACjCgD,MAAOA,EACP+L,IAAKA,EACL+L,WAAYR,EACZS,YAAaZ,IAGrBpa,KAAKsO,KAAKtE,QAAQ/J,EAA2B,CAAEgD,MAAOA,IAClDjD,KAAK6S,YAC6B,aAAlC7S,KAAKuT,SAAS9Q,iBACdzC,KAAK+X,QAAQ9U,EAErB,CAEA,IAAIiX,EAAS,EAGTH,IAAUzS,EAAI9B,SAASyF,MAAMpC,SAAS,kBACtCqR,EAASH,GAGT/Z,KAAKuZ,kCACLvF,YAAW,WACPiF,EACKtQ,YAAY,2CACZf,WAAW,QACpB,GAAG5H,KAAKuT,SAAS1S,uBAAyB,KACrCoY,EAAcpQ,SAAS,cACxBmL,YAAW,WACP,GAA+C,UAA3C7K,EAAMgR,aAAab,GAAiC,CACpD,IAAIzH,EAAMyH,EAAmBzH,IACzB3C,EAAU2C,EAAM,QAAUA,EAAM,IAAM,GAI1C,GAHAoH,EACK5R,KAAK,gBACLuD,OAAOwC,EAAmBnK,EAAO+L,EAAKE,EAASC,EAAQpQ,EAAOua,EAAmBlK,UAClFD,GAAUC,EAAS,CACnB,IAAIsJ,EAAOO,EAAc5R,KAAK,cAC9B8B,EAAMsP,gBAAgBC,EAC1B,CACJ,EAC+C,UAA3CvP,EAAMgR,aAAab,IACyB,UAA3CnQ,EAAMgR,aAAab,IAChBc,KACJjR,EAAM2Q,eAAeb,EAAehW,EAAO8W,EAAOG,GAAQ,GAAM,GAEhE/Q,EAAMqQ,kBAAkBP,KAAkByB,IAAaA,EAAUtI,OAAUgI,IAAS,WAChFjR,EAAM8R,4BAA4BhY,EAAOgW,EAAeiB,EAC5D,IAAG,WACC/Q,EAAM8R,4BAA4BhY,EAAOgW,EAAeiB,EAC5D,IAER,GAAGla,KAAKuT,SAAS1S,uBAAyB,MAIlDoY,EAAcxY,SAAS,aAClBT,KAAKuZ,kCACqC,UAA1CvZ,KAAKma,aAAab,IAAoCc,IACvDpa,KAAK8Z,eAAeb,EAAehW,EAAO8W,EAAOG,EAAQF,KAAiBU,IAAaA,EAAUtI,OAAUgI,IAGzGpa,KAAKc,gBAAmBd,KAAKyW,mBAC/BwC,EAAcpQ,SAAS,iBACtB7I,KAAK6S,YACNmB,YAAW,WACPiF,EAAcxY,SAAS,cAC3B,GAAGT,KAAKuT,SAAS5S,kBAIrBX,KAAK6S,YAAa,GACN,IAARyH,IACKrB,EAAcpQ,SAAS,gBASxB7I,KAAK2C,QAAQM,GARbgW,EACK5R,KAAK,cACLE,QACA6B,GAAG,oBAAoB,WACxBD,EAAMxG,QAAQM,EAClB,IAMZ,EAQAyP,EAAa9S,UAAUqb,4BAA8B,SAAUhY,EAAOgW,EAAe5Y,GACjF,IAAI8I,EAAQnJ,KACZgU,YAAW,WACPiF,EAAc5R,KAAK,iBAAiBuB,SACpCqQ,EAActQ,YAAY,kBAC1BQ,EAAMgM,MAAMxM,YAAY,0BACxBQ,EAAM+J,qBAAsB,EAC5B/J,EAAMxG,QAAQM,EAClB,GAAG5C,EAAQ,IACf,EACAqS,EAAa9S,UAAUkY,0BAA4B,SAAU7U,EAAOiY,EAAWC,GAC3E,IAAIhS,EAAQnJ,UACU,IAAlBmb,IAA4BA,EAAgB,GAChD,IAAItD,EAAyB,GAEzBuD,EAAwBhW,KAAKiW,IAAIF,EAAe,GACpDC,EAAwBhW,KAAK6I,IAAImN,EAAuBpb,KAAKwT,aAAa9T,QAC1E,IAAI4b,EAAgB,WAAatb,KAAKyS,KAAO,IAAMyI,EACnD,GAAIlb,KAAKwT,aAAa9T,QAAU,EAI5B,OAHAM,KAAKwT,aAAa1N,SAAQ,SAAUyV,EAAUtY,GAC1C4U,EAAuBnO,KAAK,WAAaP,EAAMsJ,KAAO,IAAMxP,EAChE,IACO4U,EAEX,GAAI5U,GAASjD,KAAKwT,aAAa9T,OAAS,GAAK,EAAG,CAC5C,IAAK,IAAI8b,EAAMvY,EAAOuY,EAAMvY,EAAQmY,EAAwB,GAAKI,GAAO,EAAGA,IACvE3D,EAAuBnO,KAAK,WAAa1J,KAAKyS,KAAO,IAAM+I,GAE/D,IAAIC,EAAwB5D,EAAuBnY,OACnD,IAAS8b,EAAM,EAAGA,EAAMJ,EAAwBK,EAAuBD,IACnE3D,EAAuBnO,KAAK,WAAa1J,KAAKyS,KAAO,KAAOxP,EAAQuY,EAAM,GAElF,KACK,CACD,IAASA,EAAMvY,EAAOuY,GAAOxb,KAAKwT,aAAa9T,OAAS,GACpD8b,EAAMvY,EAAQmY,EAAwB,EAAGI,IACzC3D,EAAuBnO,KAAK,WAAa1J,KAAKyS,KAAO,IAAM+I,GAG/D,IADIC,EAAwB5D,EAAuBnY,OAC1C8b,EAAM,EAAGA,EAAMJ,EAAwBK,EAAuBD,IACnE3D,EAAuBnO,KAAK,WAAa1J,KAAKyS,KAAO,KAAOxP,EAAQuY,EAAM,GAElF,CAYA,OAXIxb,KAAKuT,SAASvR,OACViB,IAAUjD,KAAKwT,aAAa9T,OAAS,EACrCmY,EAAuBnO,KAAK,WAAa1J,KAAKyS,KAAlB,MAEb,IAAVxP,GACL4U,EAAuBnO,KAAK,WAAa1J,KAAKyS,KAAO,KAAOzS,KAAKwT,aAAa9T,OAAS,MAGxC,IAAnDmY,EAAuBxR,QAAQiV,IAC/BzD,EAAuBnO,KAAK,WAAa1J,KAAKyS,KAAO,IAAMyI,GAExDrD,CACX,EACAnF,EAAa9S,UAAU0X,mBAAqB,SAAUrU,EAAOiY,GACzD,IAAI/R,EAAQnJ,KACR6X,EAAyB7X,KAAK8X,0BAA0B7U,EAAOiY,EAAWlb,KAAKuT,SAAS3Q,yBAW5F,OAVAiV,EAAuB/R,SAAQ,SAAU0L,IACU,IAA3CrI,EAAM4J,kBAAkB1M,QAAQmL,IAChCrI,EAAM0M,OAAOjL,OAAO,YAAe4G,EAAO,2BAElD,IACAxR,KAAK+S,kBAAkBjN,SAAQ,SAAU0L,IACS,IAA1CqG,EAAuBxR,QAAQmL,IAC/BlK,EAAI,IAAMkK,GAAM5I,QAExB,IACOiP,CACX,EAIAnF,EAAa9S,UAAU8b,sBAAwB,WAC3C,IAAIR,EAAY,EAChB,IACI,IAAIS,EAAgB3b,KAAKmV,MACpB9N,KAAK,eACLE,QACAL,KAAK,MACVgU,EAAYtN,SAAS+N,EAAc7U,MAAM,KAAK,KAAO,CACzD,CACA,MAAOwL,GACH4I,EAAY,CAChB,CACA,OAAOA,CACX,EACAxI,EAAa9S,UAAUgc,iBAAmB,SAAU3Y,GAChD,GAAIjD,KAAKuT,SAASjQ,SAAU,CACxB,IAAIgW,EAAqBtZ,KAAKwT,aAAavQ,GAG3C,IAFyD,IAAnCqW,EAAmBuC,aACF,UAAnCvC,EAAmBuC,YAEnB7b,KAAKmV,MAAM1U,SAAS,wBAEnB,CACD,IAAIqb,EAAY9b,KAAKiV,eAAe,eACpCjV,KAAKmV,MAAMxM,YAAY,oBACvBmT,EAAU5U,KAAK,OAAQoS,EAAmBuC,aACtCvC,EAAmBtK,KACnBsK,EAAmBhW,UACnBwY,EAAU5U,KAAK,WAAYoS,EAAmBhW,SAEtD,CACJ,CACJ,EACAoP,EAAa9S,UAAUmc,mBAAqB,SAAUC,EAAWC,EAAkBC,GAC/E,IAAI/S,EAAQnJ,KACRA,KAAK6S,YACLqJ,EAAkBzb,SAAS,qBAE/BuT,YAAW,WAEP7K,EAAMgM,MAAM1U,SAAS,eACrB0I,EAAMgM,MACD9N,KAAK,YACLsB,YAAY,+BACC,SAAdqT,GAEAC,EAAiBxb,SAAS,iBAC1Byb,EAAkBzb,SAAS,mBAI3Bwb,EAAiBxb,SAAS,iBAC1Byb,EAAkBzb,SAAS,kBAG/BuT,YAAW,WACP7K,EAAMgM,MAAM9N,KAAK,YAAYsB,YAAY,cACzCsT,EAAiBxb,SAAS,cAE1B0I,EAAMgM,MAAMxM,YAAY,cAC5B,GAAG,GACP,GAAG3I,KAAK6S,WAAa7S,KAAKuT,SAAStS,WAAa,EACpD,EAcAyR,EAAa9S,UAAUwY,MAAQ,SAAUnV,EAAOkZ,EAAWC,EAAWJ,GAClE,IAAI7S,EAAQnJ,KACRkb,EAAYlb,KAAK0b,wBAGrB,GAFA1b,KAAK+S,kBAAoB/S,KAAKsX,mBAAmBrU,EAAOiY,IAEpDlb,KAAK6S,YAAcqI,IAAcjY,EAArC,CAGA,IAAIoZ,EAAuBrc,KAAKwT,aAAa9T,OAC7C,IAAKM,KAAK8S,OAAQ,CACV9S,KAAKuT,SAAShQ,SACdvD,KAAKwX,qBAAqBvU,GAE9B,IAAIgZ,EAAmBjc,KAAK6U,aAAa5R,GACrCqZ,EAAsBtc,KAAK6U,aAAaqG,GACxC5B,EAAqBtZ,KAAKwT,aAAavQ,GACvCyX,EAAYpB,EAAmBjD,iBAGnC,GAFArW,KAAKmV,MAAMjO,KAAK,qBAAsBlH,KAAKma,aAAab,IACxDtZ,KAAK4b,iBAAiB3Y,GAClByX,EAAW,CACX,IAAInE,EAAKvW,KAAKoT,uBAAwBmJ,EAAQhG,EAAG9K,IAAK2C,EAASmI,EAAGnI,OAC9DyM,EAAYzN,EAAcpN,KAAKgR,MAAM/N,GAAQjD,KAAKmV,MAAOoH,EAAQnO,EAAQsM,GAAa1a,KAAKuT,SAASnS,cACxGpB,KAAK0W,iBAAiBzT,EAAO4X,EACjC,CAkBA,GAjBA7a,KAAKsO,KAAKtE,QAAQ/J,EAAsB,CACpCib,UAAWA,EACXjY,MAAOA,EACPkZ,YAAaA,EACbC,YAAaA,IAEjBpc,KAAK8S,QAAS,EACdyF,aAAavY,KAAKwY,gBAClBxY,KAAKwc,aAAavZ,GACb+Y,IACG/Y,EAAQiY,EACRc,EAAY,OAEP/Y,EAAQiY,IACbc,EAAY,SAGfG,EAGA,CACDnc,KAAKmV,MACA9N,KAAK,YACLsB,YAAY,0CACjB,IAAI8T,OAAY,EACZC,OAAY,EACZL,EAAuB,GACvBI,EAAYxZ,EAAQ,EACpByZ,EAAYzZ,EAAQ,GACN,IAAVA,GAAeiY,IAAcmB,EAAuB,GAK/CpZ,IAAUoZ,EAAuB,GACxB,IAAdnB,KAJAwB,EAAY,EACZD,EAAYJ,EAAuB,KAUvCI,EAAY,EACZC,EAAY,GAEE,SAAdV,EACAhc,KAAK6U,aAAa6H,GAAWjc,SAAS,iBAGtCT,KAAK6U,aAAa4H,GAAWhc,SAAS,iBAE1Cwb,EAAiBxb,SAAS,aAC9B,MAlCIT,KAAK+b,mBAAmBC,EAAWC,EAAkBK,GAoCpDtc,KAAK6S,WAINmB,YAAW,WACP7K,EAAMoO,YAAYtU,GAAO,GAEc,aAAnCkG,EAAMoK,SAAS9Q,iBACf0G,EAAM4O,QAAQ9U,EAEtB,GAAGjD,KAAKuT,SAASlT,MAAQ,IAAM8b,EAAY,EAAInc,KAAKuT,SAAStS,aAT7DjB,KAAKuX,YAAYtU,GAAO,GAW5B+Q,YAAW,WACP7K,EAAM2J,QAAS,EACfwJ,EAAoB3T,YAAY,qBAChCQ,EAAMmF,KAAKtE,QAAQ/J,EAAqB,CACpCib,UAAWA,EACXjY,MAAOA,EACPkZ,UAAWA,EACXC,UAAWA,GAEnB,IAAIpc,KAAK6S,WAAa7S,KAAKuT,SAASlT,MAAQ,IAAM,MAAQ8b,EAAY,EAAInc,KAAKuT,SAAStS,YAC5F,CACAjB,KAAKiD,MAAQA,CA9Fb,CA+FJ,EACAyP,EAAa9S,UAAU4X,qBAAuB,SAAUvU,GACpDjD,KAAKiV,eAAe,sBAAsBvK,KAAKzH,EAAQ,EAAI,GAC/D,EACAyP,EAAa9S,UAAU+c,mBAAqB,WACxC3c,KAAKiV,eAAe,kBAAkBvK,KAAK1K,KAAKwT,aAAa9T,OAAS,GAC1E,EACAgT,EAAa9S,UAAUua,aAAe,SAAU3I,GAC5C,OAAIA,EAAK6E,iBACE,QAEF7E,EAAKmJ,OACH,SAGA,OAEf,EACAjI,EAAa9S,UAAUgd,UAAY,SAAUC,EAAaC,EAAW9V,GACjE,IAAI+V,EAAYD,EAAUE,MAAQH,EAAYG,MAC1CC,EAAYH,EAAUI,MAAQL,EAAYK,MAC1CC,GAAa,EAcjB,GAbInd,KAAKod,eACLD,GAAa,EAGT/X,KAAKiY,IAAIN,GAAa,IACtB/c,KAAKod,eAAiB,aACtBD,GAAa,GAER/X,KAAKiY,IAAIJ,GAAa,KAC3Bjd,KAAKod,eAAiB,WACtBD,GAAa,GAGhBA,EAAL,CAGA,IAAIlE,EAAgBjZ,KAAK6U,aAAa7U,KAAKiD,OAC3C,GAA4B,eAAxBjD,KAAKod,eAAiC,CACtCpW,SAAsCA,EAAEwN,iBAExCxU,KAAKmV,MAAM1U,SAAS,eAEpBT,KAAKsd,aAAarE,EAAe8D,EAAW,GAE5C,IAAIvc,EAAQyY,EAActR,MAAM4V,YAE5BC,EAD4B,GAARhd,EAAc,IACN4E,KAAKiY,IAAiB,GAAZN,EAAkB,KAC5D/c,KAAKsd,aAAatd,KAAKmV,MAAM9N,KAAK,kBAAkBE,SAAU/G,EAAQuc,EAAYS,EAAQ,GAC1Fxd,KAAKsd,aAAatd,KAAKmV,MAAM9N,KAAK,kBAAkBE,QAAS/G,EAAQuc,EAAYS,EAAQ,EAC7F,MACK,GAA4B,aAAxBxd,KAAKod,gBACNpd,KAAKuT,SAAS3R,aAAc,CAC5BoF,SAAsCA,EAAEwN,iBACxCxU,KAAKoV,WAAW3U,SAAS,wBACzB,IAAIgd,EAAU,EAAIrY,KAAKiY,IAAIJ,GAAa9R,OAAOuS,YAC/C1d,KAAK4V,UAAU1M,IAAI,UAAWuU,GAC9B,IAAIE,EAAQ,EAAIvY,KAAKiY,IAAIJ,IAAkC,EAApB9R,OAAOuC,YAC9C1N,KAAKsd,aAAarE,EAAe,EAAGgE,EAAWU,EAAOA,GAClDvY,KAAKiY,IAAIJ,GAAa,KACtBjd,KAAKmV,MACA1U,SAAS,iBACTkI,YAAY,qBAEzB,CA5BJ,CA8BJ,EACA+J,EAAa9S,UAAUge,SAAW,SAAUd,EAAWD,EAAalW,GAChE,IACIkX,EADA1U,EAAQnJ,KAGe,aAAvBA,KAAKuT,SAASpT,MACdH,KAAKmV,MAAM1U,SAAS,YAGxBuT,YAAW,WACP7K,EAAMiM,WAAWzM,YAAY,wBAC7BQ,EAAMgM,MACDxM,YAAY,6BACZlI,SAAS,sBACd,IAAIqd,GAAe,EACnB,GAA6B,eAAzB3U,EAAMiU,eAAiC,CACvCS,EAAWf,EAAUE,MAAQH,EAAYG,MACzC,IAAIe,EAAc3Y,KAAKiY,IAAIP,EAAUE,MAAQH,EAAYG,OACrDa,EAAW,GACXE,EAAc5U,EAAMoK,SAAS9P,gBAC7B0F,EAAM6U,eAAc,GACpBF,GAAe,GAEVD,EAAW,GAChBE,EAAc5U,EAAMoK,SAAS9P,iBAC7B0F,EAAM8U,eAAc,GACpBH,GAAe,EAEvB,MACK,GAA6B,aAAzB3U,EAAMiU,eAA+B,CAE1C,GADAS,EAAWzY,KAAKiY,IAAIP,EAAUI,MAAQL,EAAYK,OAC9C/T,EAAMoK,SAAS5R,UACfwH,EAAMoK,SAAS3R,cACfic,EAAW,IAEX,YADA1U,EAAM9E,eAIN8E,EAAMyM,UAAU1M,IAAI,UAAW,EAEvC,CAEA,GADAC,EAAMgM,MAAM9N,KAAK,YAAYO,WAAW,SACpCkW,GACA1Y,KAAKiY,IAAIP,EAAUE,MAAQH,EAAYG,OAAS,EAAG,CAEnD,IAAIkB,EAAS5W,EAAIX,EAAMuX,QACnB/U,EAAMgV,gBAAgBD,IACtB/U,EAAMmF,KAAKtE,QAAQ/J,EAE3B,CACAkJ,EAAMiU,oBAAiBnZ,CAC3B,IAEA+P,YAAW,WACF7K,EAAMgM,MAAMtM,SAAS,gBACE,aAAxBM,EAAMoK,SAASpT,MACfgJ,EAAMgM,MAAMxM,YAAY,WAEhC,GAAG3I,KAAKuT,SAASlT,MAAQ,IAC7B,EACAqS,EAAa9S,UAAU8D,YAAc,WACjC,IAAIyF,EAAQnJ,KACR6c,EAAc,CAAC,EACfC,EAAY,CAAC,EACbsB,GAAU,EACVC,GAAY,EACZre,KAAKuT,SAAS7P,cACd1D,KAAK6V,OAAOzM,GAAG,iBAAiB,SAAUpC,GACtCmC,EAAMgK,oBAAqB,EAC3B,IAAImL,EAAQnV,EAAM0L,aAAa1L,EAAMlG,QAChCqE,EAAIN,EAAEkX,QAAQrV,SAAS,aACxByV,EAAM3W,MAAMmB,SAAS9B,EAAEkX,SACtB/U,EAAMgM,MAAMtM,SAAS,cACrBM,EAAM2J,QACc,IAArB9L,EAAEuX,QAAQ7e,SACV2e,GAAY,EACZlV,EAAMqV,YAAc,QACpBrV,EAAMsV,mBACN5B,EAAc,CACVG,MAAOhW,EAAEuX,QAAQ,GAAGvB,MACpBE,MAAOlW,EAAEuX,QAAQ,GAAGrB,OAGhC,IACAld,KAAK6V,OAAOzM,GAAG,gBAAgB,SAAUpC,GACjCqX,GACsB,UAAtBlV,EAAMqV,aACe,IAArBxX,EAAEuX,QAAQ7e,SACVod,EAAY,CACRE,MAAOhW,EAAEuX,QAAQ,GAAGvB,MACpBE,MAAOlW,EAAEuX,QAAQ,GAAGrB,OAExB/T,EAAMyT,UAAUC,EAAaC,EAAW9V,GACxCoX,GAAU,EAElB,IACApe,KAAK6V,OAAOzM,GAAG,eAAe,SAAUzC,GACpC,GAA0B,UAAtBwC,EAAMqV,YAAyB,CAC/B,GAAIJ,EACAA,GAAU,EACVjV,EAAMyU,SAASd,EAAWD,EAAalW,QAEtC,GAAI0X,EAAW,CAChB,IAAIH,EAAS5W,EAAIX,EAAMuX,QACnB/U,EAAMgV,gBAAgBD,IACtB/U,EAAMmF,KAAKtE,QAAQ/J,EAE3B,CACAkJ,EAAMqV,iBAAcva,EACpBoa,GAAY,CAChB,CACJ,IAER,EACA3L,EAAa9S,UAAU+D,WAAa,WAChC,IAAIwF,EAAQnJ,KACR6c,EAAc,CAAC,EACfC,EAAY,CAAC,EACb4B,GAAY,EACZN,GAAU,EACVpe,KAAKuT,SAAS5P,aACd3D,KAAKmV,MAAM/L,GAAG,gBAAgB,SAAUpC,GACpCmC,EAAMgK,oBAAqB,EAC3B,IAAImL,EAAQnV,EAAM0L,aAAa1L,EAAMlG,QACjCqE,EAAIN,EAAEkX,QAAQrV,SAAS,YACvByV,EAAM3W,MAAMmB,SAAS9B,EAAEkX,WAClB/U,EAAMgM,MAAMtM,SAAS,cAAiBM,EAAM2J,SAC7C9L,EAAEwN,iBACGrL,EAAM2J,SACP3J,EAAMsV,mBACN5B,EAAc,CACVG,MAAOhW,EAAEgW,MACTE,MAAOlW,EAAEkW,OAEbwB,GAAY,EAEZvV,EAAMgM,MAAMxN,MAAM0D,YAAc,EAChClC,EAAMgM,MAAMxN,MAAM0D,YAAc,EAEhClC,EAAMgM,MACDxM,YAAY,WACZlI,SAAS,eACd0I,EAAMmF,KAAKtE,QAAQ/J,KAInC,IACAqH,EAAI6D,QAAQ/B,GAAG,sBAAwBpJ,KAAKyS,MAAM,SAAUzL,GACpD0X,GAAavV,EAAMyJ,WACnBwL,GAAU,EACVtB,EAAY,CACRE,MAAOhW,EAAEgW,MACTE,MAAOlW,EAAEkW,OAEb/T,EAAMyT,UAAUC,EAAaC,GAC7B3T,EAAMmF,KAAKtE,QAAQ/J,GAE3B,IACAqH,EAAI6D,QAAQ/B,GAAG,oBAAsBpJ,KAAKyS,MAAM,SAAU9L,GACtD,GAAKwC,EAAMyJ,SAAX,CAGA,IAAIsL,EAAS5W,EAAIX,EAAMuX,QACnBE,GACAA,GAAU,EACVjV,EAAMyU,SAASd,EAAWD,EAAalW,GACvCwC,EAAMmF,KAAKtE,QAAQ/J,IAEdkJ,EAAMgV,gBAAgBD,IAC3B/U,EAAMmF,KAAKtE,QAAQ/J,GAGnBye,IACAA,GAAY,EACZvV,EAAMgM,MAAMxM,YAAY,eAAelI,SAAS,WAbpD,CAeJ,IAER,EACAiS,EAAa9S,UAAUqU,mBAAqB,WACxC,IAAI9K,EAAQnJ,KACZA,KAAK6V,OAAOzM,GAAG,YAAY,SAAUzC,IAC5BwC,EAAMgK,oBACPhK,EAAMgV,gBAAgB7W,EAAIX,EAAMuX,UAChC/U,EAAMmF,KAAKtE,QAAQ/J,EAE3B,GACJ,EACAyS,EAAa9S,UAAU6e,iBAAmB,WACtC,IAAIE,EAAa3e,KAAKiD,MAAQ,EAC1B2b,EAAa5e,KAAKiD,MAAQ,EAC1BjD,KAAKuT,SAASvR,MAAQhC,KAAKwT,aAAa9T,OAAS,IAC9B,IAAfM,KAAKiD,MACL2b,EAAa5e,KAAKwT,aAAa9T,OAAS,EAEnCM,KAAKiD,QAAUjD,KAAKwT,aAAa9T,OAAS,IAC/Cif,EAAa,IAGrB3e,KAAKmV,MAAM9N,KAAK,YAAYsB,YAAY,+BACpCiW,GAAc,GACd5e,KAAK6U,aAAa+J,GAAYne,SAAS,iBAE3CT,KAAK6U,aAAa8J,GAAYle,SAAS,gBAC3C,EAUAiS,EAAa9S,UAAUoe,cAAgB,SAAU7B,GAC7C,IAAIhT,EAAQnJ,KACR6e,EAAQ7e,KAAKuT,SAASvR,KACtBma,GAAanc,KAAKwT,aAAa9T,OAAS,IACxCmf,GAAQ,GAEP7e,KAAK8S,SACF9S,KAAKiD,MAAQ,EAAIjD,KAAKwT,aAAa9T,QACnCM,KAAKiD,QACLjD,KAAKsO,KAAKtE,QAAQ/J,EAA0B,CACxCgD,MAAOjD,KAAKiD,QAEhBjD,KAAKoY,MAAMpY,KAAKiD,QAASkZ,GAAW,EAAO,SAGvC0C,GACA7e,KAAKiD,MAAQ,EACbjD,KAAKsO,KAAKtE,QAAQ/J,EAA0B,CACxCgD,MAAOjD,KAAKiD,QAEhBjD,KAAKoY,MAAMpY,KAAKiD,QAASkZ,GAAW,EAAO,SAEtCnc,KAAKuT,SAASlR,oBAAsB8Z,IACzCnc,KAAKmV,MAAM1U,SAAS,gBACpBuT,YAAW,WACP7K,EAAMgM,MAAMxM,YAAY,eAC5B,GAAG,MAInB,EAWA+J,EAAa9S,UAAUqe,cAAgB,SAAU9B,GAC7C,IAAIhT,EAAQnJ,KACR6e,EAAQ7e,KAAKuT,SAASvR,KACtBma,GAAanc,KAAKwT,aAAa9T,OAAS,IACxCmf,GAAQ,GAEP7e,KAAK8S,SACF9S,KAAKiD,MAAQ,GACbjD,KAAKiD,QACLjD,KAAKsO,KAAKtE,QAAQ/J,EAA0B,CACxCgD,MAAOjD,KAAKiD,MACZkZ,UAAWA,IAEfnc,KAAKoY,MAAMpY,KAAKiD,QAASkZ,GAAW,EAAO,SAGvC0C,GACA7e,KAAKiD,MAAQjD,KAAKwT,aAAa9T,OAAS,EACxCM,KAAKsO,KAAKtE,QAAQ/J,EAA0B,CACxCgD,MAAOjD,KAAKiD,MACZkZ,UAAWA,IAEfnc,KAAKoY,MAAMpY,KAAKiD,QAASkZ,GAAW,EAAO,SAEtCnc,KAAKuT,SAASlR,oBAAsB8Z,IACzCnc,KAAKmV,MAAM1U,SAAS,eACpBuT,YAAW,WACP7K,EAAMgM,MAAMxM,YAAY,cAC5B,GAAG,MAInB,EACA+J,EAAa9S,UAAUsC,SAAW,WAC9B,IAAIiH,EAAQnJ,KACZsH,EAAI6D,QAAQ/B,GAAG,oBAAsBpJ,KAAKyS,MAAM,SAAUzL,GAClDmC,EAAMyJ,WACoB,IAA1BzJ,EAAMoK,SAAStR,QACD,KAAd+E,EAAE8X,UACF9X,EAAEwN,iBACErL,EAAMoK,SAASpS,mBACfgI,EAAMgM,MAAMtM,SAAS,kBACrBM,EAAMgM,MAAMtM,SAAS,sBACrBM,EAAMgM,MAAMxM,YAAY,sBAGxBQ,EAAM9E,gBAGV8E,EAAMyJ,UAAYzJ,EAAMqK,aAAa9T,OAAS,IAC5B,KAAdsH,EAAE8X,UACF9X,EAAEwN,iBACFrL,EAAM8U,iBAEQ,KAAdjX,EAAE8X,UACF9X,EAAEwN,iBACFrL,EAAM6U,iBAGlB,GACJ,EACAtL,EAAa9S,UAAUsU,MAAQ,WAC3B,IAAI/K,EAAQnJ,KACZA,KAAKiV,eAAe,WAAW7L,GAAG,YAAY,WAC1CD,EAAM8U,eACV,IACAje,KAAKiV,eAAe,WAAW7L,GAAG,YAAY,WAC1CD,EAAM6U,eACV,GACJ,EACAtL,EAAa9S,UAAU4c,aAAe,SAAUvZ,GAE5C,IAAKjD,KAAKuT,SAASvR,MAAQhC,KAAKuT,SAASjR,iBAAkB,CACvD,IAAIyc,EAAQ/e,KAAKiV,eAAe,WAC5B+J,EAAQhf,KAAKiV,eAAe,WAC5BhS,EAAQ,IAAMjD,KAAKwT,aAAa9T,OAChCsf,EAAM9X,KAAK,WAAY,YAAYzG,SAAS,YAG5Cue,EAAMpX,WAAW,YAAYe,YAAY,YAE/B,IAAV1F,EACA8b,EAAM7X,KAAK,WAAY,YAAYzG,SAAS,YAG5Cse,EAAMnX,WAAW,YAAYe,YAAY,WAEjD,CACJ,EACA+J,EAAa9S,UAAU0d,aAAe,SAAU2B,EAAKC,EAAQC,EAAQC,EAAQC,QAC1D,IAAXD,IAAqBA,EAAS,QACnB,IAAXC,IAAqBA,EAAS,GAClCJ,EAAI/V,IAAI,YAAa,eACjBgW,EACA,OACAC,EACA,oBACAC,EACA,KACAC,EACA,OACR,EACA3M,EAAa9S,UAAU2C,WAAa,WAChC,IAAI4G,EAAQnJ,KACRsf,EAAW,EACftf,KAAKmV,MAAM/L,GAAG,YAAY,SAAUpC,GAChC,GAAKA,EAAEuY,UAAUpW,EAAMqK,aAAa9T,OAAS,GAA7C,CAGAsH,EAAEwN,iBACF,IAAIgL,GAAM,IAAIC,MAAOC,UACjBF,EAAMF,EAAW,MAGrBA,EAAWE,EACPxY,EAAEuY,OAAS,EACXpW,EAAM6U,gBAEDhX,EAAEuY,OAAS,GAChBpW,EAAM8U,gBAXV,CAaJ,GACJ,EACAvL,EAAa9S,UAAU+f,eAAiB,SAAUzB,GAC9C,OAAQA,EAAOrV,SAAS,aACpBqV,EAAOrV,SAAS,YAChBqV,EAAOrV,SAAS,cACxB,EACA6J,EAAa9S,UAAUue,gBAAkB,SAAUD,GAC/C,IAAI0B,EAAa5f,KAAK6U,aAAa7U,KAAKiD,OACnCoE,KAAK,yBACLM,MACL,OAAQuW,EAAOrV,SAAS,oBACpBqV,EAAOrV,SAAS,yBACf+W,GAAcA,EAAW9W,SAASoV,EAAOvW,MAClD,EAKA+K,EAAa9S,UAAU0E,eAAiB,WACpC,IAAI6E,EAAQnJ,KACZA,KAAKiV,eAAe,eAAe7L,GAAG,YAAY,WAC9CD,EAAMiM,WAAWnM,YAAY,aAC7BE,EAAM8M,iBACV,GACJ,EACAvD,EAAa9S,UAAUigB,gBAAkB,WACrC,IAAK,IAAI5c,EAAQ,EAAGA,EAAQjD,KAAKgR,MAAMtR,OAAQuD,IAAS,CACpD,IACIqR,EAAWhN,EADDtH,KAAKgR,MAAM/N,IAEzBqR,EAASzK,IAAI,uBAAyByK,EAASpN,KAAK,cACxD,CACJ,EACAwL,EAAa9S,UAAUuC,UAAY,WAC/B,IAAIgH,EAAQnJ,KACZA,KAAKoV,WAAWzN,MAAMmY,MAAM,CACxBC,eAAe,IAEnBzY,EAAI6D,QAAQ/B,GAAG,oBAAsBpJ,KAAKyS,MAAM,SAAUzL,GACtD,GAAKmC,EAAMyJ,WAGkB,QAAV5L,EAAE2I,KAA+B,IAAd3I,EAAE8X,SACxC,CAGA,IAAIkB,EAAe5S,EAA2BjE,EAAMiM,WAAWzN,OAC3DsY,EAAmBD,EAAa,GAChCE,EAAkBF,EAAaA,EAAatgB,OAAS,GACrDsH,EAAEmZ,SACE3a,SAAS4a,gBAAkBH,IAC3BC,EAAgBJ,QAChB9Y,EAAEwN,kBAIFhP,SAAS4a,gBAAkBF,IAC3BD,EAAiBH,QACjB9Y,EAAEwN,iBAbV,CAgBJ,GACJ,EACA9B,EAAa9S,UAAUuW,mBAAqB,WACxC,IAAIhN,EAAQnJ,KACZ,GAAKA,KAAKuT,SAAS5R,SAAnB,CAEA,IAAI0e,GAAY,EAChBrgB,KAAKiV,eAAe,YAAY7L,GAAG,YAAY,WAC3CD,EAAM9E,cACV,IACIrE,KAAKuT,SAAS1R,aAGd7B,KAAKmV,MAAM/L,GAAG,gBAAgB,SAAUpC,GACpC,IAAIkX,EAAS5W,EAAIN,EAAEkX,QAEfmC,IADAlX,EAAMwW,eAAezB,EAM7B,IACAle,KAAKmV,MAAM/L,GAAG,gBAAgB,WAC1BiX,GAAY,CAChB,IACArgB,KAAKmV,MAAM/L,GAAG,cAAc,SAAUpC,GAClC,IAAIkX,EAAS5W,EAAIN,EAAEkX,QACf/U,EAAMwW,eAAezB,IAAWmC,IAC3BlX,EAAMgM,MAAMtM,SAAS,gBACtBM,EAAM9E,eAGlB,IA3BM,CA6Bd,EAYAqO,EAAa9S,UAAUyE,aAAe,SAAUic,GAC5C,IAAInX,EAAQnJ,KACZ,IAAKA,KAAK4S,WAAc5S,KAAKuT,SAAS5R,WAAa2e,EAC/C,OAAO,EAEXtgB,KAAKsO,KAAKtE,QAAQ/J,GACdD,KAAKuT,SAAS9R,sBAAwBzB,KAAKuT,SAAS7R,eACpD4F,EAAI6D,QAAQH,UAAUhL,KAAKgT,eAE/B,IACIgF,EADApG,EAAc5R,KAAKgR,MAAMhR,KAAKiD,OAElC,GAAIjD,KAAKc,gBAAkB8Q,EAAa,CACpC,IAAI2E,EAAKvW,KAAKoT,uBAAwBmN,EAAQhK,EAAG9K,IAAK2C,EAASmI,EAAGnI,OAC9DoS,EAAKxgB,KAAKwT,aAAaxT,KAAKiD,OAAQoT,EAAmBmK,EAAGnK,iBAAkB+D,EAASoG,EAAGpG,OACxF/L,EAAYjB,EAAcwE,EAAa5R,KAAKmV,MAAOoL,EAAQnS,EAAQiI,GAAoB+D,GAAUpa,KAAKuT,SAASnS,cACnH4W,EAAY5K,EAAmBwE,EAAa5R,KAAKmV,MAAOoL,EAAOnS,EAAQC,EAC3E,CACIrO,KAAKc,gBAAkBkX,GACvBhY,KAAKmV,MAAM1U,SAAS,iCACpBT,KAAK6U,aAAa7U,KAAKiD,OAClBxC,SAAS,yBACTyI,IAAI,sBAAuBlJ,KAAKuT,SAAS1S,uBAAyB,MAClEqI,IAAI,YAAa8O,KAGtBhY,KAAKmV,MAAM1U,SAAS,iBAGpBT,KAAKmV,MAAMxM,YAAY,uBAK3B3I,KAAKygB,iBACLzgB,KAAK6S,YAAa,EAClB7S,KAAKkT,qBAAsB,EAC3BlT,KAAKc,eAAiBd,KAAKuT,SAASzS,eACpCyX,aAAavY,KAAKwY,gBAClBxY,KAAKwY,gBAAiB,EACtBlR,EAAI,QAAQqB,YAAY,SACxB3I,KAAKmV,MAAMxM,YAAY,iCAEvB3I,KAAK4V,UAAUjN,YAAY,MAAMO,IAAI,UAAW,GAChD,IAAIwX,EAAgB1gB,KAAKc,gBAAkBkX,EACrC5S,KAAKiW,IAAIrb,KAAKuT,SAAS1S,uBAAwBb,KAAKuT,SAAS5S,kBAC7DX,KAAKuT,SAAS5S,iBA2BpB,OA1BAX,KAAKoV,WAAWzM,YAAY,cAE5BqL,YAAW,WACH7K,EAAMrI,gBAAkBkX,GACxB7O,EAAMgM,MAAMxM,YAAY,sBAE5BQ,EAAMiM,WAAWzM,YAAY,WAE7BQ,EAAMyO,iBAENzO,EAAMyM,UACDhO,WAAW,SACXsB,IAAI,sBAAuBC,EAAMoK,SAAS5S,iBAAmB,MAClEwI,EAAMgM,MAAMxM,YAAY,cAAgBQ,EAAMoK,SAAS7S,YACvDyI,EAAM0L,aAAa1L,EAAMlG,OAAO0F,YAAY,yBAC5CQ,EAAM0M,OAAO9K,QACT5B,EAAMyJ,UACNzJ,EAAMmF,KAAKtE,QAAQ/J,EAAqB,CACpC8T,SAAU5K,IAGdA,EAAMiM,WAAWzN,OACjBwB,EAAMiM,WAAWzN,MAAMgZ,OAE3BxX,EAAMyJ,UAAW,CACrB,GAAG8N,EAAgB,KACZA,EAAgB,GAC3B,EACAhO,EAAa9S,UAAUwW,YAAc,WACjCpW,KAAKmE,QAAQ2B,SAAQ,SAAU8a,GAC3B,IACIA,EAAOjN,MACX,CACA,MAAOkN,GACHxO,QAAQuC,KAAK,qEACjB,CACJ,GACJ,EACAlC,EAAa9S,UAAU6gB,eAAiB,SAAUK,GAC9C9gB,KAAKmE,QAAQ2B,SAAQ,SAAU8a,GAC3B,IACQE,EACAF,EAAOE,UAGPF,EAAOvc,cAAgBuc,EAAOvc,cAEtC,CACA,MAAOwc,GACHxO,QAAQuC,KAAK,qEACjB,CACJ,GACJ,EAeAlC,EAAa9S,UAAUmhB,QAAU,SAAUvN,GAClCxT,KAAKuT,SAAS3P,SACf5D,KAAK6f,kBAGL7f,KAAKwT,aADLA,GAIoBxT,KAAKyT,WAE7BzT,KAAKiX,iBACLjX,KAAKmU,yBACLnU,KAAKsO,KAAKtE,QAAQ/J,EACtB,EACAyS,EAAa9S,UAAUqX,eAAiB,WACpCjX,KAAK6T,kBAAkB7T,KAAKwT,cAC5BxT,KAAK2c,qBACL3c,KAAKkV,4BACT,EACAxC,EAAa9S,UAAUohB,eAAiB,WACpChhB,KAAKygB,gBAAe,GACfzgB,KAAKuT,SAAS3P,SACf5D,KAAK6f,kBAETvY,EAAI6D,QAAQtB,IAAI,aAAe7J,KAAKyS,MACpCzS,KAAKsO,KAAKzE,IAAI,OACd7J,KAAKoV,WAAWxM,QACpB,EAcA8J,EAAa9S,UAAUkhB,QAAU,WAC7B,IAAIG,EAAejhB,KAAKqE,cAAa,GAOrC,OANI4c,EACAjN,WAAWhU,KAAKghB,eAAeE,KAAKlhB,MAAOihB,GAG3CjhB,KAAKghB,iBAEFC,CACX,EACOvO,CACX,CA72DiC,GAm3DjC,IAAIyO,EACoB,qBADpBA,EAEQ,SAFRA,EAGY,aAHZA,EAImB,oBAJnBA,EAMsB,uBANtBA,EAOc,eAPdA,EAQa,cARbA,EASiB,kBATjBA,EAUe,gBAVfA,EAWc,eAXdA,GAYe,gBAZfA,GAaa,cAbbA,GAcY,aAdZA,GAeW,YAfXA,GAgBmB,oBAhBnBA,GAiBmB,oBAjBnBA,GAkBe,gBAlBfA,GAmBc,eAnBdA,GAoBc,eApBdA,GAqBe,gBArBfA,GAsBkB,mBAtBlBA,GAuBgB,iBAsJpB,GApJS,SAAU5K,GACf,IAAIna,EAAWma,EAAGna,SAAUglB,EAAoB7K,EAAG6K,kBAAmBC,EAAqB9K,EAAG8K,mBAAoBC,EAAS/K,EAAG+K,OAAQC,EAAahL,EAAGgL,WAAYC,EAAoBjL,EAAGiL,kBAAmBC,EAAuBlL,EAAGkL,qBAAsBC,EAAenL,EAAGmL,aAAcC,EAAcpL,EAAGoL,YAAaC,EAAkBrL,EAAGqL,gBAAiBC,EAAgBtL,EAAGsL,cAAeC,EAAevL,EAAGuL,aAAcC,EAAgBxL,EAAGwL,cAAeC,EAAczL,EAAGyL,YAAaC,EAAa1L,EAAG0L,WAAYC,EAAY3L,EAAG2L,UAAWC,EAAoB5L,EAAG4L,kBAAmBC,EAAoB7L,EAAG6L,kBAAmBC,EAAgB9L,EAAG8L,cAAeC,EAAe/L,EAAG+L,aAAcC,EAAehM,EAAGgM,aAAcC,EAAgBjM,EAAGiM,cAAeC,EAAmBlM,EAAGkM,iBAAkBC,EAAiBnM,EAAGmM,eAAgBC,EAjtFh0B,SAAgBrjB,EAAG0H,GACf,IAAI3H,EAAI,CAAC,EACT,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAMqH,EAAEX,QAAQ1G,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCH,OAAOyjB,sBACtB,KAAIrjB,EAAI,EAAb,IAAgBI,EAAIR,OAAOyjB,sBAAsBtjB,GAAIC,EAAII,EAAED,OAAQH,IAC3DyH,EAAEX,QAAQ1G,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUijB,qBAAqB/iB,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,IAF4B,CAItD,OAAOF,CACX,CAusF40ByjB,CAAOvM,EAAI,CAAC,WAAY,oBAAqB,qBAAsB,SAAU,aAAc,oBAAqB,uBAAwB,eAAgB,cAAe,kBAAmB,gBAAiB,eAAgB,gBAAiB,cAAe,aAAc,YAAa,oBAAqB,oBAAqB,gBAAiB,eAAgB,eAAgB,gBAAiB,mBAAoB,mBAC1tCwM,GAAM,IAAAC,QAAO,MACbC,GAAiB,IAAAC,cAAY,WACzB7B,GAAsB0B,GAAOA,EAAII,SACjCJ,EAAII,QAAQxZ,iBAAiBwX,GAA8B,SAAWxa,GAClE0a,EAAmB1a,EAAMsD,OAC5B,IAEDqX,GAAUyB,GAAOA,EAAII,SACrBJ,EAAII,QAAQxZ,iBAAiBwX,GAAkB,SAAWxa,GACtD2a,EAAO3a,EAAMsD,OAChB,IAEDsX,GAAcwB,GAAOA,EAAII,SACzBJ,EAAII,QAAQxZ,iBAAiBwX,GAAsB,SAAWxa,GAC1D4a,EAAW5a,EAAMsD,OACpB,IAEDuX,GAAqBuB,GAAOA,EAAII,SAChCJ,EAAII,QAAQxZ,iBAAiBwX,GAA6B,SAAWxa,GACjE6a,EAAkB7a,EAAMsD,OAC3B,IAEDwX,GAAwBsB,GAAOA,EAAII,SACnCJ,EAAII,QAAQxZ,iBAAiBwX,GAAgC,SAAWxa,GACpE8a,EAAqB9a,EAAMsD,OAC9B,IAEDyX,GAAgBqB,GAAOA,EAAII,SAC3BJ,EAAII,QAAQxZ,iBAAiBwX,GAAwB,SAAWxa,GAC5D+a,EAAa/a,EAAMsD,OACtB,IAED0X,GAAeoB,GAAOA,EAAII,SAC1BJ,EAAII,QAAQxZ,iBAAiBwX,GAAuB,SAAWxa,GAC3Dgb,EAAYhb,EAAMsD,OACrB,IAED2X,GAAmBmB,GAAOA,EAAII,SAC9BJ,EAAII,QAAQxZ,iBAAiBwX,GAA2B,SAAWxa,GAC/Dib,EAAgBjb,EAAMsD,OACzB,IAED4X,GAAiBkB,GAAOA,EAAII,SAC5BJ,EAAII,QAAQxZ,iBAAiBwX,GAAyB,SAAWxa,GAC7Dkb,EAAclb,EAAMsD,OACvB,IAED6X,GAAgBiB,GAAOA,EAAII,SAC3BJ,EAAII,QAAQxZ,iBAAiBwX,GAAwB,SAAWxa,GAC5Dmb,EAAanb,EAAMsD,OACtB,IAED8X,GAAiBgB,GAAOA,EAAII,SAC5BJ,EAAII,QAAQxZ,iBAAiBwX,IAAyB,SAAWxa,GAC7Dob,EAAcpb,EAAMsD,OACvB,IAED+X,GAAee,GAAOA,EAAII,SAC1BJ,EAAII,QAAQxZ,iBAAiBwX,IAAuB,SAAWxa,GAC3Dqb,EAAYrb,EAAMsD,OACrB,IAEDgY,GAAcc,GAAOA,EAAII,SACzBJ,EAAII,QAAQxZ,iBAAiBwX,IAAsB,SAAWxa,GAC1Dsb,EAAWtb,EAAMsD,OACpB,IAEDiY,GAAaa,GAAOA,EAAII,SACxBJ,EAAII,QAAQxZ,iBAAiBwX,IAAqB,SAAWxa,GACzDub,EAAUvb,EAAMsD,OACnB,IAEDkY,GAAqBY,GAAOA,EAAII,SAChCJ,EAAII,QAAQxZ,iBAAiBwX,IAA6B,SAAWxa,GACjEwb,EAAkBxb,EAAMsD,OAC3B,IAEDmY,GAAqBW,GAAOA,EAAII,SAChCJ,EAAII,QAAQxZ,iBAAiBwX,IAA6B,SAAWxa,GACjEyb,EAAkBzb,EAAMsD,OAC3B,IAEDoY,GAAiBU,GAAOA,EAAII,SAC5BJ,EAAII,QAAQxZ,iBAAiBwX,IAAyB,SAAWxa,GAC7D0b,EAAc1b,EAAMsD,OACvB,IAEDqY,GAAgBS,GAAOA,EAAII,SAC3BJ,EAAII,QAAQxZ,iBAAiBwX,IAAwB,SAAWxa,GAC5D2b,EAAa3b,EAAMsD,OACtB,IAEDsY,GAAgBQ,GAAOA,EAAII,SAC3BJ,EAAII,QAAQxZ,iBAAiBwX,IAAwB,SAAWxa,GAC5D4b,EAAa5b,EAAMsD,OACtB,IAEDuY,GAAiBO,GAAOA,EAAII,SAC5BJ,EAAII,QAAQxZ,iBAAiBwX,IAAyB,SAAWxa,GAC7D6b,EAAc7b,EAAMsD,OACvB,IAEDwY,GAAoBM,GAAOA,EAAII,SAC/BJ,EAAII,QAAQxZ,iBAAiBwX,IAA4B,SAAWxa,GAChE8b,EAAiB9b,EAAMsD,OAC1B,IAEDyY,GAAkBK,GAAOA,EAAII,SAC7BJ,EAAII,QAAQxZ,iBAAiBwX,IAA0B,SAAWxa,GAC9D+b,EAAe/b,EAAMsD,OACxB,GAET,GAAG,CACCoX,EACAI,EACAa,EACAC,EACAC,EACAC,EACAC,EACAf,EACAG,EACAO,EACAF,EACAT,EACAU,EACAP,EACAL,EACAU,EACAD,EACAD,EACAT,EACAD,EACAS,EACAH,IASJ,OAPA,IAAAwB,YAAU,WACNH,IACA,IAzKcjd,EAyKVqd,GAzKUrd,EAyKoB+c,EAAII,QAxKnC,IAAIzQ,EAAa1M,EAwK2B2c,IAC/C,OAAO,WACHU,EAAevC,SACnB,CACJ,GAAG,CAACmC,EAAgBN,KACZ,IAAAxa,eAAc,MAAO,CAAEF,UAAW,qBAAuBmZ,GAAwC,IAAKkC,IAAKP,GAAO3mB,EAC9H,EC71FI,GAAW,WAQX,OAPA,GAAW+C,OAAOC,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,IAE9E,OAAON,CACX,EACO,GAASU,MAAMC,KAAMP,UAChC,EAEI8jB,GAAqB,CACrBC,WAAW,EACXC,cAAc,EACdC,qBAAsB,SACtBC,gBAAiB,SACjBC,WAAY,IACZC,YAAa,OACbC,YAAa,EACbC,mBAAoB,iBACpBC,aAAa,EACbC,iBAAiB,EACjBC,kBAAkB,EAClBC,wBAAyB,GACzBC,sBAAsB,EACtBC,iBAAkB,EAClBC,uBAAwB,CACpBC,iBAAkB,sBAStB,GAIiB,oBAJjB,GAKc,iBALd,GAOY,eAPZ,GAUa,gBAmBbC,GAA2B,WAC3B,SAASA,EAAUzQ,EAAUzM,GAQzB,OAPAtH,KAAKykB,gBAAkB,EACvBzkB,KAAK0kB,gBAAkB,EACvB1kB,KAAK2kB,WAAa,EAClB3kB,KAAK4kB,gBAAiB,EAEtB5kB,KAAK6kB,KAAO9Q,EACZ/T,KAAKsH,IAAMA,EACJtH,IACX,CA8XA,OA7XAwkB,EAAU5kB,UAAU+T,KAAO,WAEvB3T,KAAKuT,SAAW,GAAS,GAAS,CAAC,EAAGgQ,IAAqBvjB,KAAK6kB,KAAKtR,UACrEvT,KAAKykB,gBAAkB,EACvBzkB,KAAK0kB,gBACD1kB,KAAK6kB,KAAKrR,aAAa9T,QAClBM,KAAKuT,SAASqQ,WAAa5jB,KAAKuT,SAASuQ,aAElD9jB,KAAK2kB,WAAa,EAClB3kB,KAAK8kB,wBACA9kB,KAAK6kB,KAAKtR,SAASpS,oBACpBnB,KAAKuT,SAASyQ,aAAc,GAE5BhkB,KAAKuT,SAASiQ,YACdxjB,KAAK+kB,QACD/kB,KAAKuT,SAASkQ,cACVzjB,KAAKuT,SAAS0Q,iBACdjkB,KAAKikB,kBAELjkB,KAAKuT,SAAS2Q,kBACdlkB,KAAKkkB,mBAETlkB,KAAK4kB,gBAAiB,GAGtB5kB,KAAK4kB,gBAAiB,EAE1B5kB,KAAKglB,iBACLhlB,KAAKilB,gBAEb,EACAT,EAAU5kB,UAAUmlB,MAAQ,WACxB,IAAI5b,EAAQnJ,KACZA,KAAKklB,iBACLllB,KAAKmlB,iCACLnlB,KAAKolB,SAAS7d,QAAQ6B,GAAG,wBAAwB,SAAUpC,GACvD,IAAIqe,EAAUlc,EAAM7B,IAAIN,EAAEkX,QACrBmH,EAAQtc,aAAa,oBAG1BiL,YAAW,WAGP,GAAI7K,EAAMyb,iBAAmBzb,EAAM0b,KAAK/R,OAAQ,CAC5C,IAAI7P,EAAQ2K,SAASyX,EAAQne,KAAK,oBAClCiC,EAAM0b,KAAKzM,MAAMnV,GAAO,GAAO,GAAM,EACzC,CACJ,GAAG,GACP,IACAjD,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAuB,UAAU,SAAUzC,GACzD,IAAI1D,EAAQ0D,EAAMsD,OAAOhH,MACzBkG,EAAMsa,aAAaxgB,EACvB,IACAjD,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAsB,UAAU,WAC9CD,EAAMsb,gBAAkBtb,EAAM0b,KAAK1P,MAAMxN,MAAM4V,WACnD,IACAvd,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAwB,UAAU,WAChDD,EAAMmc,mBACV,IACAtlB,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAA2B,UAAU,WAC9CD,EAAM0b,KAAKjS,UAEhBoB,YAAW,WACP7K,EAAMsb,gBAAkBtb,EAAM0b,KAAK1P,MAAMxN,MAAM4V,YAC/CpU,EAAMsa,aAAata,EAAM0b,KAAK5hB,OAC9BkG,EAAMsb,gBAAkBtb,EAAM0b,KAAK1P,MAAMxN,MAAM4V,WACnD,GAAG,GACP,GACJ,EACAiH,EAAU5kB,UAAUslB,eAAiB,WACjC,IAAIK,EAAuB,kBACvBvlB,KAAKuT,SAASoQ,kBACd4B,GAAwB,kBAAoBvlB,KAAKuT,SAASoQ,iBAE9D,IAAIjZ,EAAO,eAAkB6a,EAAuB,8EACpDvlB,KAAK6kB,KAAK1P,MAAM1U,SAAS,gBACgB,mBAArCT,KAAKuT,SAASwQ,mBACd/jB,KAAK6kB,KAAKlP,cAAc/K,OAAOF,GAG/B1K,KAAK6kB,KAAK1P,MAAMvK,OAAOF,GAE3B1K,KAAKwlB,YAAcxlB,KAAK6kB,KAAK1P,MAAM9N,KAAK,mBAAmBE,QAC3DvH,KAAKolB,SAAWplB,KAAK6kB,KAAK1P,MAAM9N,KAAK,aAAaE,QAC9CvH,KAAKuT,SAASkQ,cACdzjB,KAAK6kB,KAAK1P,MACL9N,KAAK,aACL6B,IAAI,sBAAuBlJ,KAAK6kB,KAAKtR,SAASlT,MAAQ,MACtD6I,IAAI,QAASlJ,KAAK0kB,gBAAkB,MACpCxb,IAAI,WAAY,YAEzBlJ,KAAKylB,iBAAiBzlB,KAAK6kB,KAAKrR,aACpC,EACAgR,EAAU5kB,UAAUqkB,gBAAkB,WAClC,IAAI9a,EAAQnJ,KACR0lB,EAAiB,CACjBC,MAAO,CACHC,OAAQ,EACRC,KAAM,GAEVzH,SAAS,EACT0H,cAAe,EACfC,UAAW,IAAItG,KACfuG,QAAS,IAAIvG,KACbwG,cAAe,GAEfC,GAAa,EACjBlmB,KAAKwlB,YAAY/kB,SAAS,WAC1BT,KAAK6kB,KAAK1P,MACL9N,KAAK,aACLE,QACA6B,GAAG,sBAAsB,SAAUpC,GAChCmC,EAAMub,gBAAkBvb,EAAMsb,kBAE9Bzd,EAAEwN,iBACFkR,EAAeC,MAAMC,OAAS5e,EAAEgW,MAChC0I,EAAeK,UAAY,IAAItG,KAC/BtW,EAAMyb,gBAAiB,EACvBsB,GAAa,EAEb/c,EAAM0b,KAAK1P,MAAMxN,MAAM0D,YAAc,EACrClC,EAAM0b,KAAK1P,MAAMxN,MAAM0D,YAAc,EAErClC,EAAMqc,YACD7c,YAAY,WACZlI,SAAS,eAEtB,IACAT,KAAKsH,IAAI6D,QAAQ/B,GAAG,4BAA8BpJ,KAAK6kB,KAAKpS,MAAM,SAAUzL,GACnEmC,EAAM0b,KAAKjS,UAEZsT,IACAR,EAAeC,MAAME,KAAO7e,EAAEgW,MAC9B0I,EAAiBvc,EAAMgd,iBAAiBT,GAEhD,IACA1lB,KAAKsH,IAAI6D,QAAQ/B,GAAG,0BAA4BpJ,KAAK6kB,KAAKpS,MAAM,WACvDtJ,EAAM0b,KAAKjS,WAEZ8S,EAAetH,QACfsH,EAAiBvc,EAAMid,gBAAgBV,GAGvCvc,EAAMyb,gBAAiB,EAEvBsB,IACAA,GAAa,EACb/c,EAAMqc,YAAY7c,YAAY,eAAelI,SAAS,YAE9D,GACJ,EACA+jB,EAAU5kB,UAAUskB,iBAAmB,WACnC,IAAI/a,EAAQnJ,KACR0lB,EAAiB,CACjBC,MAAO,CACHC,OAAQ,EACRC,KAAM,GAEVzH,SAAS,EACT0H,cAAe,EACfC,UAAW,IAAItG,KACfuG,QAAS,IAAIvG,KACbwG,cAAe,GAEnBjmB,KAAKolB,SAAShc,GAAG,iBAAiB,SAAUpC,GACpCmC,EAAMub,gBAAkBvb,EAAMsb,kBAC9Bzd,EAAEwN,iBACFkR,EAAeC,MAAMC,OAAS5e,EAAEqf,cAAc,GAAGrJ,MACjD7T,EAAMyb,gBAAiB,EACvBc,EAAeK,UAAY,IAAItG,KAEvC,IACAzf,KAAKolB,SAAShc,GAAG,gBAAgB,SAAUpC,GACnCmC,EAAMub,gBAAkBvb,EAAMsb,kBAC9Bzd,EAAEwN,iBACFkR,EAAeC,MAAME,KAAO7e,EAAEqf,cAAc,GAAGrJ,MAC/C0I,EAAiBvc,EAAMgd,iBAAiBT,GAEhD,IACA1lB,KAAKolB,SAAShc,GAAG,eAAe,WACxBsc,EAAetH,QACfsH,EAAiBvc,EAAMid,gBAAgBV,GAGvCvc,EAAMyb,gBAAiB,CAE/B,GACJ,EAEAJ,EAAU5kB,UAAU0lB,kBAAoB,WACpC,IAAInc,EAAQnJ,KAEZA,KAAKwlB,YAAY/kB,SAAS,4BAC1BuT,YAAW,WACP7K,EAAMub,gBACFvb,EAAM0b,KAAKrR,aAAa9T,QACnByJ,EAAMoK,SAASqQ,WAAaza,EAAMoK,SAASuQ,aACpD3a,EAAMic,SAASlc,IAAI,QAASC,EAAMub,gBAAkB,MACpDvb,EAAMic,SAASra,QACf5B,EAAMsc,iBAAiBtc,EAAM0b,KAAKrR,cAClCrK,EAAMsa,aAAata,EAAM0b,KAAK5hB,MAClC,GAAG,IACH+Q,YAAW,WACP7K,EAAMqc,YAAY7c,YAAY,2BAClC,GAAG,IACP,EAEA6b,EAAU5kB,UAAU0d,aAAe,SAAUpX,GACzClG,KAAKolB,SAASlc,IAAI,YAAa,gBAAkBhD,EAAQ,gBAC7D,EACAse,EAAU5kB,UAAU0mB,sBAAwB,SAAU9a,GAOlD,OANIA,EAAOxL,KAAK0kB,gBAAkB1kB,KAAKykB,kBACnCjZ,EAAOxL,KAAK0kB,gBAAkB1kB,KAAKykB,iBAEnCjZ,EAAO,IACPA,EAAO,GAEJA,CACX,EACAgZ,EAAU5kB,UAAU6jB,aAAe,SAAUxgB,GAEzC,GADAjD,KAAKolB,SAASlc,IAAI,sBAAuBlJ,KAAK6kB,KAAKtR,SAASlT,MAAQ,MAChEL,KAAKuT,SAASkQ,aAAc,CAC5B,IAAI8C,EAAW,EACf,OAAQvmB,KAAKuT,SAASmQ,sBAClB,IAAK,OACD6C,EAAW,EACX,MACJ,IAAK,SACDA,EACIvmB,KAAKykB,gBAAkB,EAAIzkB,KAAKuT,SAASqQ,WAAa,EAC1D,MACJ,IAAK,QACD2C,EAAWvmB,KAAKykB,gBAAkBzkB,KAAKuT,SAASqQ,WAExD5jB,KAAK2kB,YACA3kB,KAAKuT,SAASqQ,WAAa5jB,KAAKuT,SAASuQ,aAAe7gB,EACrD,EACAsjB,EACJvmB,KAAK2kB,WAAa3kB,KAAK0kB,gBAAkB1kB,KAAKykB,kBAC9CzkB,KAAK2kB,WAAa3kB,KAAK0kB,gBAAkB1kB,KAAKykB,iBAE9CzkB,KAAK2kB,WAAa,IAClB3kB,KAAK2kB,WAAa,GAEtB3kB,KAAKsd,aAAatd,KAAK2kB,WAC3B,CACJ,EACAH,EAAU5kB,UAAUumB,iBAAmB,SAAUT,GAU7C,OATAA,EAAeI,cAAgB9lB,KAAK2kB,WACpCe,EAAetH,SAAU,EACzBsH,EAAeO,eAAgB,IAAIxG,MAAO+G,UAC1Cd,EAAeI,eACXJ,EAAeC,MAAME,KAAOH,EAAeC,MAAMC,OACrDF,EAAeI,cAAgB9lB,KAAKsmB,sBAAsBZ,EAAeI,eAEzE9lB,KAAKsd,aAAaoI,EAAeI,eACjC9lB,KAAKwlB,YAAY/kB,SAAS,eACnBilB,CACX,EACAlB,EAAU5kB,UAAUwmB,gBAAkB,SAAUV,GAC5CA,EAAetH,SAAU,EACzBsH,EAAeM,QAAU,IAAIvG,KAC7Bzf,KAAKwlB,YAAY7c,YAAY,eAC7B,IAAI8d,EAAgBf,EAAeM,QAAQQ,UACvCd,EAAeK,UAAUS,UACzBE,EAAehB,EAAeC,MAAME,KAAOH,EAAeC,MAAMC,OAChEe,EAASvhB,KAAKiY,IAAIqJ,GAAgBD,EAwBtC,OArBIE,EAAS,KACTjB,EAAeM,QAAQQ,UAAYd,EAAeO,cAAgB,KAClEU,GAAU,GACG,IACTA,GAAU,GAEdA,GAEQA,GAAUvhB,KAAKiY,IAAIqJ,GAAgB1mB,KAAKykB,iBAChDzkB,KAAKolB,SAASlc,IAAI,sBAAuB9D,KAAK6I,IAAI0Y,EAAS,EAAG,GAAK,YACnED,GAA8BC,EAC9B3mB,KAAK2kB,WAAa3kB,KAAKsmB,sBAAsBtmB,KAAK2kB,WAAa+B,GAC/D1mB,KAAKsd,aAAatd,KAAK2kB,aAGvB3kB,KAAK2kB,WAAae,EAAeI,cAEjC1gB,KAAKiY,IAAIqI,EAAeC,MAAME,KAAOH,EAAeC,MAAMC,QAC1D5lB,KAAKuT,SAAS4Q,0BACdnkB,KAAK4kB,gBAAiB,GAEnBc,CACX,EACAlB,EAAU5kB,UAAUgnB,aAAe,SAAU9U,EAAO7O,EAAO4O,GACvD,IACIgV,EADAC,EAAiB9mB,KAAK6kB,KAAKrR,aAAavQ,GAAOoT,kBAAoB,CAAC,EAIhEwQ,EAFJC,EAAepW,SACX1Q,KAAKuT,SAAS6Q,qBAEV,wBACI0C,EAAepW,QAAQ,GACvB,IACA1Q,KAAKuT,SAAS8Q,iBACd,OAODvS,EAEf,IAAI5C,EAAU2C,EAAM,QAAUA,EAAM,IAAM,GAC1C,MAAO,yBAA4B5O,EAAQ,2BAA+BA,IAAUjD,KAAK6kB,KAAK5hB,MAAQ,UAAY,IAAM,2BAA+BjD,KAAKuT,SAASqQ,WAAa,eAAiB5jB,KAAKuT,SAASsQ,YAAc,gCAAkC7jB,KAAKuT,SAASuQ,YAAc,2BAA8B5U,EAAU,qBAAwBjM,EAAQ,UAAc4jB,EAAW,sBAClY,EACArC,EAAU5kB,UAAUmnB,iBAAmB,SAAU/V,GAE7C,IADA,IAAIgW,EAAY,GACPznB,EAAI,EAAGA,EAAIyR,EAAMtR,OAAQH,IAC9BynB,GAAahnB,KAAK4mB,aAAa5V,EAAMzR,GAAGuS,MAAOvS,EAAGyR,EAAMzR,GAAGsS,KAE/D,OAAOmV,CACX,EACAxC,EAAU5kB,UAAU6lB,iBAAmB,SAAUzU,GAC7C,IAAIgW,EAAYhnB,KAAK+mB,iBAAiB/V,GACtChR,KAAKolB,SAAS1a,KAAKsc,EACvB,EACAxC,EAAU5kB,UAAUklB,sBAAwB,WACpC9kB,KAAKuT,SAASkQ,cACdzjB,KAAK6kB,KAAK1P,MAAM1U,SAAS,mBAEjC,EAEA+jB,EAAU5kB,UAAUulB,+BAAiC,WACjD,IAAIhc,EAAQnJ,KAEZA,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAuB,UAAU,SAAUzC,GACzD,IAAIsgB,EAAS9d,EAAM0b,KAAK1P,MAAM9N,KAAK,kBAC/BpE,EAAQ0D,EAAMsD,OAAOhH,MACzBgkB,EAAOte,YAAY,UACnBse,EAAOzf,GAAGvE,GAAOxC,SAAS,SAC9B,GACJ,EAEA+jB,EAAU5kB,UAAUolB,eAAiB,WACjC,IAAI7b,EAAQnJ,KACRA,KAAKuT,SAASyQ,cACdhkB,KAAK6kB,KAAK1P,MAAM1U,SAAS,iBACzBT,KAAK6kB,KAAK9O,SAASnL,OAAO,qCACtB5K,KAAKuT,SAAS+Q,uBAAyC,iBACvD,+CACJtkB,KAAK6kB,KAAK1P,MACL9N,KAAK,oBACLE,QACA6B,GAAG,YAAY,WAChBD,EAAM0b,KAAK1P,MAAMlM,YAAY,qBACjC,IAER,EACAub,EAAU5kB,UAAUqlB,cAAgB,WAChC,IAAI9b,EAAQnJ,KACZA,KAAKsH,IAAI6D,QAAQ/B,GAAG,0BAA4BpJ,KAAK6kB,KAAKpS,MAAM,SAAUzL,GACjEmC,EAAM0b,KAAKjS,UAAazJ,EAAMoK,SAASyQ,cAE1B,KAAdhd,EAAE8X,SACF9X,EAAEwN,iBACFrL,EAAM0b,KAAK1P,MAAM1U,SAAS,uBAEP,KAAduG,EAAE8X,UACP9X,EAAEwN,iBACFrL,EAAM0b,KAAK1P,MAAMxM,YAAY,uBAErC,GACJ,EACA6b,EAAU5kB,UAAUkhB,QAAU,WACtB9gB,KAAKuT,SAASiQ,YACdxjB,KAAKsH,IAAI6D,QAAQtB,IAAI,mBAAqB7J,KAAK6kB,KAAKpS,MACpDzS,KAAK6kB,KAAKvW,KAAKzE,IAAI,aACnB7J,KAAK6kB,KAAKvW,KAAKzE,IAAI,UACnB7J,KAAKwlB,YAAY5c,SACjB5I,KAAK6kB,KAAK1P,MAAMxM,YAAY,gBAEpC,EACO6b,CACX,CAzY8B,GA2Y9B,MC5cI,GAAW,WAQX,OAPA,GAAWrlB,OAAOC,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,IAE9E,OAAON,CACX,EACO,GAASU,MAAMC,KAAMP,UAChC,EAEIynB,GAAe,CACfvJ,MAAO,EACPwJ,MAAM,EACNC,cAAc,EACdC,YAAY,EACZC,oBAAoB,EACpBC,gBAAiB,CACbC,OAAQ,aACRC,QAAS,eAEbC,gBAAiB,IACjBC,kBAAmB,CACfH,OAAQ,UACRC,QAAS,WACTG,eAAgB,qBASpB,GAIiB,oBAJjB,GAOY,eAPZ,GAQW,cARX,GASe,kBATf,GAWY,eAXZ,GAoBY,eApBZ,GAqBa,gBArBb,GAsBgB,mBAtBhB,GAuBc,iBAOdC,GAAsB,WACtB,SAASA,EAAK9T,EAAUzM,GAKpB,OAHAtH,KAAK6kB,KAAO9Q,EACZ/T,KAAKsH,IAAMA,EACXtH,KAAKuT,SAAW,GAAS,GAAS,CAAC,EAAG2T,IAAelnB,KAAK6kB,KAAKtR,UACxDvT,IACX,CA42BA,OA12BA6nB,EAAKjoB,UAAUkoB,eAAiB,WAC5B,IAAIC,EAAY/nB,KAAKuT,SAAS+T,mBACxB,eAAkBtnB,KAAK6kB,KAAK9P,UAAU,cAAgB,+BAAqC/U,KAAKuT,SAASoU,kBAA0B,OAAI,qDAA2D3nB,KAAK6kB,KAAK9P,UAAU,eAAiB,+BAAqC/U,KAAKuT,SAASoU,kBAA0B,OAAI,0CACxT,GACF3nB,KAAKuT,SAAS8T,aACdU,GAAa,eAAkB/nB,KAAK6kB,KAAK9P,UAAU,kBAAoB,+BAAqC/U,KAAKuT,SAASoU,kBAAkC,eAAI,YAAgB3nB,KAAKuT,SAASgU,gBAAgBC,OAAS,uBAE3NxnB,KAAK6kB,KAAK1P,MAAM1U,SAAS,8BACzBT,KAAK6kB,KAAK9O,SAASxO,QAAQqD,OAAOmd,EACtC,EAOAF,EAAKjoB,UAAUooB,WAAa,SAAUrhB,GAClC,IAAIwC,EAAQnJ,KAERka,EAASla,KAAKuT,SAASmU,gBAAkB/gB,EAAMsD,OAAO8P,MAEtD/Z,KAAKsH,IAAI,QAAQC,QAAQsB,SAAS,iBAClClC,EAAMsD,OAAO8P,MAEbG,EAAS,EAITla,KAAKsH,IAAI,QAAQC,QAAQoB,YAAY,gBAEzC3I,KAAKioB,gBAAkBjU,YAAW,WACzB7K,EAAM+e,aAAa/e,EAAM0b,KAAK5hB,SAGnCkG,EAAM0b,KAAKhQ,aAAalO,EAAMsD,OAAOhH,OAAOxC,SAAS,eACjDkG,EAAMsD,OAAOhH,QAAUkG,EAAM0b,KAAK5hB,OAClCkG,EAAMgf,oBAEd,GAAGjO,EAAS,GAChB,EACA2N,EAAKjoB,UAAUwoB,0BAA4B,WAEvCpoB,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAyB,QAASpJ,KAAKgoB,WAAW9G,KAAKlhB,MAC7E,EACA6nB,EAAKjoB,UAAUyoB,aAAe,SAAUrhB,GACpC,MAAO,CACH4H,EAAG5H,EAAEgW,MACLlO,EAAG9H,EAAEkW,MAEb,EACA2K,EAAKjoB,UAAU0oB,cAAgB,SAAUthB,GAGrC,MAAO,CACH4H,EAHI5H,EAAEuX,QAAQ,GAAGvB,MAIjBlO,EAHI9H,EAAEuX,QAAQ,GAAGrB,MAKzB,EACA2K,EAAKjoB,UAAU2oB,qBAAuB,SAAU5K,EAAO6K,GACnD,IAAIC,EAASzoB,KAAK6kB,KACbhQ,aAAa7U,KAAK6kB,KAAK5hB,OACvBoE,KAAK,aACLE,QACAI,MACDpH,EAAS,EACTC,EAAQ,EACRkL,EAAO+c,EAAO9c,wBACdgS,GACApd,EAASkoB,EAAOC,aAAe/K,EAC/Bnd,EAAQioB,EAAOlL,YAAcI,GAExB6K,GACLjoB,EAASmL,EAAKnL,OAASioB,EAAY9c,EAAKnL,OACxCC,EAAQkL,EAAKlL,MAAQgoB,EAAY9c,EAAKlL,QAGtCD,EAASmL,EAAKnL,OACdC,EAAQkL,EAAKlL,OAEjB,IAAImoB,EAASpoB,EAASP,KAAKuO,cAAchO,OAEzC,MAAO,CACHqoB,OAFSpoB,EAAQR,KAAKuO,cAAc/N,MAGpCmoB,OAAQA,EAEhB,EACAd,EAAKjoB,UAAUuoB,kBAAoB,WAC/BnoB,KAAKuO,cAAgBvO,KAAK6kB,KAAK/O,SAASnO,MAAMgE,uBAClD,EAOAkc,EAAKjoB,UAAUipB,UAAY,SAAUlL,EAAO6K,EAAWM,EAAYC,GAC/D,KAAI3jB,KAAKiY,IAAImL,IAAc,GAA3B,CAEA,IAIIQ,EACAC,EALAC,EAAUlpB,KAAKuO,cAAc/N,MAAQ,EAAIR,KAAKuO,cAAc/C,KAC5D2d,EAAUnpB,KAAKuO,cAAchO,OAAS,EACtCP,KAAKuO,cAAc9C,IACnBzL,KAAKgL,UAGK,IAAV2S,IACA3d,KAAKopB,iBAAkB,GAE3B,IAAIC,EAAoBrpB,KAAKuoB,qBAAqB,EAAGC,GACjDG,EAASU,EAAkBV,OAAQC,EAASS,EAAkBT,OAC9D5oB,KAAKopB,kBACLJ,EAAYhpB,KAAKwL,MAAQxL,KAAK2d,MAAQ6K,GACtCS,EAAYjpB,KAAKyL,KAAOzL,KAAK2d,MAAQ6K,GACrCxoB,KAAKgd,MAAQkM,EAAUF,EACvBhpB,KAAKkd,MAAQiM,EAAUF,EACvBjpB,KAAKopB,iBAAkB,GAE3B,IACIxa,EACAE,EAFAwa,EAAqBtpB,KAAKupB,0BAA0Bf,GAGpDgB,EAAKN,EAAUlpB,KAAKgd,MACpByM,EAAKN,EAAUnpB,KAAKkd,MACxB,GAAIS,EAAQ6K,EAAY,EAAG,CACvB,IAAIkB,GAAY/L,EAAQ6K,GAAapjB,KAAKiY,IAAImL,GAO9C5Z,GANA4a,GACKhB,EAAY,GAAKgB,EAAKA,GACnBxpB,KAAKwL,MAAQke,GAAYlB,EAAY,GAAK,EAAI,KAI7CkB,EACT5a,GAJA2a,GACKjB,EAAY,GAAKiB,EAAKA,GACnBzpB,KAAKyL,KAAOie,GAAYlB,EAAY,GAAK,EAAI,KAE5CkB,CACb,KACK,CAED9a,EAAI4a,GADAE,GAAY/L,EAAQ6K,GAAaA,GAErC1Z,EAAI2a,EAAKC,CACb,CACIZ,IACIF,EACI5oB,KAAK2pB,qBAAqB/a,EAAG0a,EAAmBM,MAChDhb,EAAI0a,EAAmBM,KAElB5pB,KAAK6pB,sBAAsBjb,EAAG0a,EAAmBQ,QACtDlb,EAAI0a,EAAmBQ,MAIvBnM,EAAQ,IACJ/O,EAAI0a,EAAmBM,KACvBhb,EAAI0a,EAAmBM,KAElBhb,EAAI0a,EAAmBQ,OAC5Blb,EAAI0a,EAAmBQ,OAK/BnB,EACI3oB,KAAK+pB,oBAAoBjb,EAAGwa,EAAmBU,MAC/Clb,EAAIwa,EAAmBU,KAElBhqB,KAAKiqB,uBAAuBnb,EAAGwa,EAAmBY,QACvDpb,EAAIwa,EAAmBY,MAKvBvM,EAAQ,IAEJ7O,EAAIwa,EAAmBU,KACvBlb,EAAIwa,EAAmBU,KAElBlb,EAAIwa,EAAmBY,OAC5Bpb,EAAIwa,EAAmBY,QAKvClqB,KAAKmqB,cAAc,CACfvb,EAAGA,EACHE,EAAGA,EACH6O,MAAOA,IAEX3d,KAAKwL,KAAOoD,EACZ5O,KAAKyL,IAAMqD,EACPia,GACA/oB,KAAKoqB,kBAzFC,CA2Fd,EACAvC,EAAKjoB,UAAUyqB,oBAAsB,SAAUpnB,GAC3C,GAAKjD,KAAKkoB,aAAajlB,GAAvB,CAGA,IAAIwlB,EAASzoB,KAAK6kB,KAAKhQ,aAAa5R,GAAOoE,KAAK,aAAaE,QAC7DvH,KAAKsqB,YAAa,EAClB7B,EAAO9f,YAAY,0DACnB3I,KAAK6kB,KAAK1P,MAAMxM,YAAY,kBAC5B8f,EAAOvf,IAAI,QAAS,QAAQA,IAAI,SAAU,QAC1C8K,YAAW,WACPyU,EAAO9f,YAAY,gBACvB,GAAG,GARH,CASJ,EACAkf,EAAKjoB,UAAUwqB,iBAAmB,WAC9B,IAAIjhB,EAAQnJ,KACRyoB,EAASzoB,KAAK6kB,KACbhQ,aAAa7U,KAAK6kB,KAAK5hB,OACvBoE,KAAK,aACLE,QACLyM,YAAW,WACP,IAAIuW,EAAkBphB,EAAMqhB,iCACxBrhB,EAAMwU,OAAS4M,IACf9B,EAAOhoB,SAAS,iBAChB0I,EAAMmhB,YAAa,EAE3B,GAhOuB,KAiOvBtW,YAAW,WACP,IAAIuW,EAAkBphB,EAAMqhB,iCAC5B,GAAIrhB,EAAMwU,OAAS4M,EAAiB,CAChC,IAAIlB,EAAoBlgB,EAAMof,qBAAqBpf,EAAMwU,OACzD8K,EACKvf,IAAI,QAASuf,EAAO9gB,MAAMyI,aAAe,MACzClH,IAAI,SAAUuf,EAAO9gB,MAAM8iB,cAAgB,MAChDthB,EAAM0b,KAAK1P,MAAM1U,SAAS,kBACtB4oB,EAAkBT,QAAUS,EAAkBV,OAC9CF,EAAOhoB,SAAS,oBAEX4oB,EAAkBT,SACtBS,EAAkBV,OACnBF,EAAOhoB,SAAS,uBAEV4oB,EAAkBT,QACxBS,EAAkBV,QAClBF,EAAOhoB,SAAS,qBAExB,CACJ,GAAGiqB,IACP,EAKA7C,EAAKjoB,UAAUuqB,cAAgB,SAAU7jB,GACrC,IAAIqkB,EAAa3qB,KAAK6kB,KACjBhQ,aAAa7U,KAAK6kB,KAAK5hB,OACvBoE,KAAK,gBACLE,QACDkhB,EAASzoB,KAAK6kB,KACbhQ,aAAa7U,KAAK6kB,KAAK5hB,OACvBoE,KAAK,aACLE,QACDqjB,EAAc5qB,KAAK6kB,KAAK1P,MACvB9N,KAAK,6BACLE,QACLvH,KAAK2d,MAAQrX,EAAMqX,MACnB8K,EAAOvf,IAAI,YAAa,WAAa5C,EAAMqX,MAAQ,KAAOrX,EAAMqX,MAAQ,QACxEiN,EAAY1hB,IAAI,YAAa,WAAa5C,EAAMqX,MAAQ,KAAOrX,EAAMqX,MAAQ,QAC7E,IAAI3F,EAAY,eAAiB1R,EAAMsI,EAAI,OAAStI,EAAMwI,EAAI,SAC9D6b,EAAWzhB,IAAI,YAAa8O,EAChC,EAKA6P,EAAKjoB,UAAUirB,cAAgB,SAAU5nB,EAAO0D,GAC5C,IAAIwC,EAAQnJ,KACZ,IAAIA,KAAK8qB,eAAT,CAGA9qB,KAAK8qB,gBAAiB,EACtB,IAAIlZ,EAAc5R,KAAK6kB,KAAKrR,aAAaxT,KAAK6kB,KAAK5hB,OACnDjD,KAAKqqB,oBAAoBpnB,GACzB+Q,YAAW,WAEP,GAAKpC,EAAY5C,MACb7F,EAAM0b,KAAK1P,MAAMtM,SAAS,0BAD9B,CAIA,IAAI8U,EAAQxU,EAAMqhB,iCACdO,EAAY5hB,EAAMwU,MAClBxU,EAAM0b,KAAK1P,MAAMtM,SAAS,aAC1BM,EAAMwU,MAAQ,EAGdxU,EAAMwU,MAAQxU,EAAM6hB,SAASrN,GAEjCxU,EAAM8hB,aAAatkB,GACnBwC,EAAM+hB,UAAU/hB,EAAMwU,OACtBxU,EAAM0f,UAAU1f,EAAMwU,MAAOxU,EAAMwU,MAAQoN,GAAW,GAAM,EAX5D,CAYJ,GAAG,IACH/W,YAAW,WACP7K,EAAM0b,KAAK1P,MAAMxM,YAAY,eAAelI,SAAS,UACzD,GAAG,IACHuT,YAAW,WACP7K,EAAM2hB,gBAAiB,CAC3B,GAAGJ,IA3BH,CA4BJ,EACA7C,EAAKjoB,UAAUurB,gBAAkB,SAAUloB,GACvC,IAAIwlB,EAASzoB,KAAK6kB,KAAKhQ,aAAa5R,GAAOoE,KAAK,aAAaE,QACzD6I,EAAepQ,KAAK6kB,KAAKrR,aAAavQ,GAAOzC,MACjD,OAAO4P,EACDtE,WAAWsE,GACXqY,EAAO9gB,MAAMyI,YACvB,EACAyX,EAAKjoB,UAAUwrB,mBAAqB,SAAUhb,EAAc5P,GAUxD,OAPI4P,GAAgB5P,EACP4P,EAAe5P,GACN,EAGV,CAGhB,EACAqnB,EAAKjoB,UAAU4qB,+BAAiC,WAC5C,IAIIhqB,EAJSR,KAAK6kB,KACbhQ,aAAa7U,KAAK6kB,KAAK5hB,OACvBoE,KAAK,aACLE,QACcI,MAAM4V,YACrBnN,EAAepQ,KAAKmrB,gBAAgBnrB,KAAK6kB,KAAK5hB,QAAUzC,EAC5D,OAAOR,KAAKorB,mBAAmBhb,EAAc5P,EACjD,EACAqnB,EAAKjoB,UAAUyrB,aAAe,SAAU1kB,GACpC,IAAIgf,EAAQ,CAAC,EACb,GAAIhf,EACAgf,EAAM/W,EAAIjI,EAAMqW,OAASrW,EAAM4X,QAAQ,GAAGvB,MAC1C2I,EAAM7W,EAAInI,EAAMuW,OAASvW,EAAM4X,QAAQ,GAAGrB,UAEzC,CACD,IAAI3O,EAAgBvO,KAAK6kB,KAAK/O,SACzBnO,MACAgE,wBACLga,EAAM/W,EAAIL,EAAc/N,MAAQ,EAAI+N,EAAc/C,KAClDma,EAAM7W,EACFP,EAAchO,OAAS,EAAIP,KAAKgL,UAAYuD,EAAc9C,GAClE,CACA,OAAOka,CACX,EACAkC,EAAKjoB,UAAUqrB,aAAe,SAAUtkB,GACpC,IAAI2kB,EAAYtrB,KAAKqrB,aAAa1kB,GAClC3G,KAAKgd,MAAQsO,EAAU1c,EACvB5O,KAAKkd,MAAQoO,EAAUxc,CAC3B,EACA+Y,EAAKjoB,UAAU2rB,4BAA8B,WACvBvrB,KAAK6kB,KAAK5P,eAAe,kBAEtCtM,YAAY3I,KAAKuT,SAASgU,gBAAgBC,QAC1C/mB,SAAST,KAAKuT,SAASgU,gBAAgBE,QAChD,EAEAI,EAAKjoB,UAAUsrB,UAAY,SAAUvN,GASjC,OARA3d,KAAK6kB,KAAK1P,MAAMxM,YAAY,4CACxBgV,EAAQ,GACR3d,KAAK6kB,KAAK1P,MAAM1U,SAAS,aACzBT,KAAKurB,+BAGLvrB,KAAKwrB,YAEF7N,EAAQ,CACnB,EACAkK,EAAKjoB,UAAUorB,SAAW,SAAUrN,GAChC,IAAI4M,EAAkBvqB,KAAKwqB,iCAO3B,OANI7M,EAAQ,EACRA,EAAQ,EAEHA,EAAQ4M,IACb5M,EAAQ4M,GAEL5M,CACX,EACAkK,EAAKjoB,UAAU+T,KAAO,WAClB,IAAIxK,EAAQnJ,KACZ,GAAKA,KAAKuT,SAAS4T,KAAnB,CAGAnnB,KAAK8nB,iBACL9nB,KAAKooB,4BACL,IAAIqD,EAAS,KACbzrB,KAAK6kB,KAAK1P,MAAM/L,GAAG,eAAe,SAAUzC,GACnCwC,EAAM7B,IAAIX,EAAMuX,QAAQrV,SAAS,aAGtCM,EAAM0hB,cAAc1hB,EAAM0b,KAAK5hB,MAAO0D,EAC1C,IACA3G,KAAK6kB,KAAK1P,MAAM/L,GAAG,iBAAiB,SAAUzC,GAC1C,IAAI0e,EAAUlc,EAAM7B,IAAIX,EAAMuX,QACD,IAAzBvX,EAAM4X,QAAQ7e,QAAgB2lB,EAAQxc,SAAS,cAC1C4iB,GAMDlT,aAAakT,GACbA,EAAS,KACT9kB,EAAM6N,iBACNrL,EAAM0hB,cAAc1hB,EAAM0b,KAAK5hB,MAAO0D,IARtC8kB,EAASzX,YAAW,WAChByX,EAAS,IACb,GAAG,KASf,IACAzrB,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAA2B,SAAW,GAAuB,SAAW,GAAsB,SAAW,GAA0B,SAAW,GAAwB,SAAS,WAC7L,GAAKD,EAAM0b,KAAKjS,UACXzJ,EAAM+e,aAAa/e,EAAM0b,KAAK5hB,SAC/BkG,EAAM0b,KAAKrG,YAFf,CAKA,IAAIkN,EAAQviB,EAAM0b,KACbhQ,aAAa1L,EAAM0b,KAAK5hB,OACxBoE,KAAK,gBACLE,QACL4B,EAAMsC,IAAM,EACZtC,EAAMqC,KAAO,EACbrC,EAAMgf,oBACNhf,EAAMwiB,mBAAmBD,EAAO,CAAE9c,EAAG,EAAGE,EAAG,IAC3C3F,EAAMigB,iBAAkB,CATxB,CAUJ,IAEAppB,KAAKsH,IAAI6D,QAAQ/B,GAAG,wBAA0BpJ,KAAK6kB,KAAKpS,MAAM,WACrDtJ,EAAM0b,KAAKjS,WAEhBzJ,EAAM6B,UAAY7B,EAAM7B,IAAI6D,QAAQH,YACxC,IACAhL,KAAK6kB,KAAK5P,eAAe,eAAe7L,GAAG,YAAY,WAEnD,GAAKD,EAAM+e,aAAa/e,EAAM0b,KAAK5hB,OAAnC,CAGA,IAAIiV,EAAU,EACV/O,EAAMmhB,aACNnhB,EAAMkhB,oBAAoBlhB,EAAM0b,KAAK5hB,OACrCiV,EAAU,IAEdlE,YAAW,WACP,IAAI2J,EAAQxU,EAAMwU,MAAQxU,EAAMoK,SAASoK,MACrCA,EAAQ,IACRA,EAAQ,GAEZxU,EAAM+hB,UAAUvN,GAChBxU,EAAM0f,UAAUlL,GAAQxU,EAAMoK,SAASoK,OAAO,GAAOxU,EAAMoK,SAAS6T,aACxE,GAAGlP,EAbH,CAcJ,IACAlY,KAAK6kB,KAAK5P,eAAe,cAAc7L,GAAG,YAAY,WAClDD,EAAMqe,QACV,IACAxnB,KAAK6kB,KAAK5P,eAAe,kBAAkB7L,GAAG,YAAY,WACtDD,EAAM0hB,cAAc1hB,EAAM0b,KAAK5hB,MACnC,IACAjD,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAsB,SAAS,WAC7CD,EAAM0b,KAAK1P,MAAM9N,KAAK,YAAYsB,YAAY,cAClD,IACA3I,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAqB,SAAS,WAC5CD,EAAM6B,UAAY7B,EAAM7B,IAAI6D,QAAQH,YAEpC7B,EAAM6T,MAAQ7T,EAAM0b,KAAK1P,MAAM3U,QAAU,EACzC2I,EAAM+T,MAAQ/T,EAAM0b,KAAK1P,MAAM5U,SAAW,EAAI4I,EAAM6B,UACpD7B,EAAMwU,MAAQ,CAClB,IAEA3d,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAsB,SAAS,SAAUzC,GACvD,IAAIuU,EAAYvU,EAAMsD,OAAOiR,UAC7B/R,EAAMwU,MAAQ,EACdxU,EAAMigB,iBAAkB,EACxBjgB,EAAM2hB,gBAAiB,EACvB3hB,EAAMqiB,UAAUtQ,GAChB/R,EAAMkhB,oBAAoBnP,GACtB/R,EAAM+e,aAAa/e,EAAM0b,KAAK5hB,QAC9BkG,EAAMgf,mBAEd,IAEAnoB,KAAK4rB,WACL5rB,KAAK6rB,YACL7rB,KAAK8rB,YAEL9rB,KAAKioB,iBAAkB,EACvBjoB,KAAKopB,iBAAkB,EACvBppB,KAAK8qB,gBAAiB,CAtGtB,CAuGJ,EACAjD,EAAKjoB,UAAU4nB,OAAS,WAEpB,GAAKxnB,KAAKkoB,aAAaloB,KAAK6kB,KAAK5hB,OAAjC,CAGA,IAAI0a,EAAQ3d,KAAK2d,MAAQ3d,KAAKuT,SAASoK,MAClC3d,KAAKuT,SAAS6T,eACfzJ,EAAQ3d,KAAKgrB,SAASrN,IAE1B3d,KAAKkrB,UAAUvN,GACf3d,KAAK6oB,UAAUlL,EAAOvY,KAAK6I,IAAIjO,KAAKuT,SAASoK,MAAOA,EAAQ3d,KAAK2d,QAAQ,GAAO3d,KAAKuT,SAAS6T,aAN9F,CAOJ,EAEAS,EAAKjoB,UAAU4rB,UAAY,SAAUvoB,GACjCjD,KAAK6kB,KAAK1P,MAAMxM,YAAY,qCAC5B,IAAIojB,EAAc/rB,KAAK6kB,KAAK5P,eAAe,kBACvCqJ,EAAQte,KAAK6kB,KAAKhQ,kBAAuB5Q,IAAVhB,EAAsBA,EAAQjD,KAAK6kB,KAAK5hB,OAC3E8oB,EACKpjB,YAAY3I,KAAKuT,SAASgU,gBAAgBE,SAC1ChnB,SAAST,KAAKuT,SAASgU,gBAAgBC,QAC5ClJ,EAAMjX,KAAK,gBAAgBE,QAAQK,WAAW,SAC9C0W,EAAMjX,KAAK,aAAaE,QAAQK,WAAW,SAC3C5H,KAAK2d,MAAQ,EACb3d,KAAKwL,KAAO,EACZxL,KAAKyL,IAAM,EAEXzL,KAAKirB,cACT,EACApD,EAAKjoB,UAAUosB,iBAAmB,SAAUhlB,GACxC,OAAO5B,KAAK6mB,MAAMjlB,EAAEuX,QAAQ,GAAGvB,MAAQhW,EAAEuX,QAAQ,GAAGvB,QAC/ChW,EAAEuX,QAAQ,GAAGvB,MAAQhW,EAAEuX,QAAQ,GAAGvB,QAClChW,EAAEuX,QAAQ,GAAGrB,MAAQlW,EAAEuX,QAAQ,GAAGrB,QAC9BlW,EAAEuX,QAAQ,GAAGrB,MAAQlW,EAAEuX,QAAQ,GAAGrB,OAC/C,EACA2K,EAAKjoB,UAAUisB,UAAY,WACvB,IAAI1iB,EAAQnJ,KACRksB,EAAY,EACZC,GAAe,EACfC,EAAY,EACZrB,EAAY,EACZzM,EAAQte,KAAK6kB,KAAKhQ,aAAa7U,KAAK6kB,KAAK5hB,OAC7CjD,KAAK6kB,KAAK1P,MAAM/L,GAAG,iBAAiB,SAAUpC,GAE1C,GADAsX,EAAQnV,EAAM0b,KAAKhQ,aAAa1L,EAAM0b,KAAK5hB,OACtCkG,EAAM+e,aAAa/e,EAAM0b,KAAK5hB,QAGV,IAArB+D,EAAEuX,QAAQ7e,OAAc,CAExB,GADAsH,EAAEwN,iBACErL,EAAM0b,KAAK1P,MAAMtM,SAAS,0BAC1B,OAEJujB,EAAYjjB,EAAMwU,OAAS,EAC3BxU,EAAM0b,KAAK1P,MAAMxM,YAAY,4CAC7BQ,EAAM8hB,aAAajkB,GACnBmC,EAAMkhB,oBAAoBlhB,EAAM0b,KAAK5hB,OACrCkG,EAAM0b,KAAKrG,YAAc,QACzB0N,EAAY/iB,EAAM6iB,iBAAiBhlB,EACvC,CACJ,IACAhH,KAAK6kB,KAAKhP,OAAOzM,GAAG,gBAAgB,SAAUpC,GAC1C,GAAyB,IAArBA,EAAEuX,QAAQ7e,QACiB,UAA3ByJ,EAAM0b,KAAKrG,cACVrV,EAAM7B,IAAIN,EAAEkX,QAAQrV,SAAS,YAC1ByV,EAAM3W,MAAMmB,SAAS9B,EAAEkX,SAAU,CACrClX,EAAEwN,iBACF,IAAI6X,EAAUljB,EAAM6iB,iBAAiBhlB,GACjC6W,EAAWqO,EAAYG,EAI3B,IAHKF,GAAgB/mB,KAAKiY,IAAIQ,GAAY,IACtCsO,GAAe,GAEfA,EAAc,CACdpB,EAAY5hB,EAAMwU,MAClB,IAAI2O,EAASlnB,KAAKiW,IAAI,EAAG+Q,EAAwB,KAAXvO,GACtC1U,EAAMwU,MACFvY,KAAKmnB,MAAkC,KAA3BD,EAASE,OAAOC,UAAkB,IAClD,IAAIC,EAAOvjB,EAAMwU,MAAQoN,EACzB5hB,EAAM0f,UAAU1f,EAAMwU,MAAOvY,KAAKmnB,MAAgC,KAAzBG,EAAOF,OAAOC,UAAkB,KAAK,GAAO,EACzF,CACJ,CACJ,IACAzsB,KAAK6kB,KAAKhP,OAAOzM,GAAG,eAAe,SAAUpC,GACzC,GAA+B,UAA3BmC,EAAM0b,KAAKrG,cACVrV,EAAM7B,IAAIN,EAAEkX,QAAQrV,SAAS,YAC1ByV,EAAM3W,MAAMmB,SAAS9B,EAAEkX,SAAU,CAGrC,GAFAiO,GAAe,EACfD,EAAY,EACR/iB,EAAMwU,OAAS,EACfxU,EAAMqiB,gBAEL,CACD,IAAIjB,EAAkBphB,EAAMqhB,iCAC5B,GAAIrhB,EAAMwU,OAAS4M,EAAiB,CAChC,IAAI/B,EAAY+B,EAAkBphB,EAAMwU,MACtB,IAAd6K,IACAA,EAAY,KAEhBrf,EAAM0f,UAAU0B,EAAiB/B,GAAW,GAAO,EACvD,CACArf,EAAMoiB,8BACNpiB,EAAM0b,KAAK1P,MAAM1U,SAAS,YAC9B,CACA0I,EAAM0b,KAAKrG,iBAAcva,CAC7B,CACJ,GACJ,EACA4jB,EAAKjoB,UAAU+sB,aAAe,SAAU9P,EAAaC,EAAW8L,EAAQD,EAAQlC,GAC5E,IAAIC,EAAe5J,EAAUlO,EAAIiO,EAAYjO,EACzCge,EAAe9P,EAAUhO,EAAI+N,EAAY/N,EACzC6X,EAASvhB,KAAKiY,IAAIqJ,GAAgBD,EAAgB,EAClDoG,EAASznB,KAAKiY,IAAIuP,GAAgBnG,EAAgB,EAClDE,EAAS,IACTA,GAAU,GAEVkG,EAAS,IACTA,GAAU,GAEdnG,GAA8BC,EAC9BiG,GAA8BC,EAC9B,IAAInB,EAAQ1rB,KAAK6kB,KACZhQ,aAAa7U,KAAK6kB,KAAK5hB,OACvBoE,KAAK,gBACLE,QACDsW,EAAW,CAAC,EAChBA,EAASjP,EAAI5O,KAAKwL,KAAOkb,EACzB7I,EAAS/O,EAAI9O,KAAKyL,IAAMmhB,EACxB,IAAItD,EAAqBtpB,KAAKupB,6BAC1BnkB,KAAKiY,IAAIqJ,GAAgB,IAAMthB,KAAKiY,IAAIuP,GAAgB,MACpDjE,IACI3oB,KAAK+pB,oBAAoBlM,EAAS/O,EAAGwa,EAAmBU,MACxDnM,EAAS/O,EAAIwa,EAAmBU,KAE3BhqB,KAAKiqB,uBAAuBpM,EAAS/O,EAAGwa,EAAmBY,QAChErM,EAAS/O,EAAIwa,EAAmBY,OAGpCtB,IACI5oB,KAAK2pB,qBAAqB9L,EAASjP,EAAG0a,EAAmBM,MACzD/L,EAASjP,EAAI0a,EAAmBM,KAE3B5pB,KAAK6pB,sBAAsBhM,EAASjP,EAAG0a,EAAmBQ,QAC/DjM,EAASjP,EAAI0a,EAAmBQ,OAGpCnB,EACA3oB,KAAKyL,IAAMoS,EAAS/O,EAGpB+O,EAAS/O,EAAI9O,KAAKyL,IAElBmd,EACA5oB,KAAKwL,KAAOqS,EAASjP,EAGrBiP,EAASjP,EAAI5O,KAAKwL,KAEtBxL,KAAK2rB,mBAAmBD,EAAO7N,GAC/B7d,KAAKopB,iBAAkB,EAE/B,EACAvB,EAAKjoB,UAAUktB,kBAAoB,SAAUjQ,EAAaC,EAAW8L,EAAQD,EAAQW,GACjF,IAAIzL,EAAW,CAAC,EAChB,GAAI8K,GAEA,GADA9K,EAAS/O,EAAI9O,KAAKyL,KAAOqR,EAAUhO,EAAI+N,EAAY/N,GAC/C9O,KAAK+pB,oBAAoBlM,EAAS/O,EAAGwa,EAAmBU,MAAO,CAC/D,IAAI+C,EAAWzD,EAAmBU,KAAOnM,EAAS/O,EAClD+O,EAAS/O,EAAIwa,EAAmBU,KAAO+C,EAAW,CACtD,MACK,GAAI/sB,KAAKiqB,uBAAuBpM,EAAS/O,EAAGwa,EAAmBY,MAAO,CACvE,IAAI8C,EAAWnP,EAAS/O,EAAIwa,EAAmBY,KAC/CrM,EAAS/O,EAAIwa,EAAmBY,KAAO8C,EAAW,CACtD,OAGAnP,EAAS/O,EAAI9O,KAAKyL,IAEtB,GAAImd,GAEA,GADA/K,EAASjP,EAAI5O,KAAKwL,MAAQsR,EAAUlO,EAAIiO,EAAYjO,GAChD5O,KAAK2pB,qBAAqB9L,EAASjP,EAAG0a,EAAmBM,MAAO,CAChE,IAAIqD,EAAW3D,EAAmBM,KAAO/L,EAASjP,EAClDiP,EAASjP,EAAI0a,EAAmBM,KAAOqD,EAAW,CACtD,MACK,GAAIjtB,KAAK6pB,sBAAsBhM,EAASjP,EAAG0a,EAAmBQ,MAAO,CACtE,IAAIoD,EAAUrP,EAASjP,EAAI0a,EAAmBQ,KAC9CjM,EAASjP,EAAI0a,EAAmBQ,KAAOoD,EAAU,CACrD,OAGArP,EAASjP,EAAI5O,KAAKwL,KAEtB,OAAOqS,CACX,EACAgK,EAAKjoB,UAAU+pB,qBAAuB,SAAU/a,EAAGgb,GAC/C,OAAOhb,GAAKgb,CAChB,EACA/B,EAAKjoB,UAAUiqB,sBAAwB,SAAUjb,EAAGkb,GAChD,OAAOlb,GAAKkb,CAChB,EACAjC,EAAKjoB,UAAUmqB,oBAAsB,SAAUjb,EAAGkb,GAC9C,OAAOlb,GAAKkb,CAChB,EACAnC,EAAKjoB,UAAUqqB,uBAAyB,SAAUnb,EAAGob,GACjD,OAAOpb,GAAKob,CAChB,EACArC,EAAKjoB,UAAUsoB,aAAe,SAAUjlB,GACpC,IAAI2O,EAAc5R,KAAK6kB,KAAKrR,aAAavQ,GACzC,MAA+C,UAAxCjD,KAAK6kB,KAAK1K,aAAavI,EAClC,EACAiW,EAAKjoB,UAAU2pB,0BAA4B,SAAU5L,GACjD,IAAI8K,EAASzoB,KAAK6kB,KACbhQ,aAAa7U,KAAK6kB,KAAK5hB,OACvBoE,KAAK,aACLE,QACD6G,EAASpO,KAAK6kB,KAAKzR,uBAAuBhF,OAC1C+e,EAAU1E,EAAO9gB,MAAMgE,wBACvByhB,EAAcD,EAAQ5sB,OACtB8sB,EAAaF,EAAQ3sB,MAezB,OAdImd,IACAyP,GAA4BzP,EAAQyP,EACpCC,GAA0B1P,EAAQ0P,GAMb,CACrBrD,MALQoD,EAAcptB,KAAKuO,cAAchO,QAAU,EAMnD2pB,MALQlqB,KAAKuO,cAAchO,OAAS6sB,GAAe,EAAIhf,EAMvDwb,MALQyD,EAAartB,KAAKuO,cAAc/N,OAAS,EAMjDspB,MALQ9pB,KAAKuO,cAAc/N,MAAQ6sB,GAAc,EAQzD,EACAxF,EAAKjoB,UAAU+rB,mBAAqB,SAAUrd,EAAMuP,GAChDvP,EAAKpF,IAAI,YAAa,eAAiB2U,EAASjP,EAAI,OAASiP,EAAS/O,EAAI,SAC9E,EACA+Y,EAAKjoB,UAAUksB,UAAY,WACvB,IAUIxC,EACAoC,EAXAviB,EAAQnJ,KACR6c,EAAc,CAAC,EACfC,EAAY,CAAC,EACbsB,GAAU,EAEVwK,GAAS,EAETD,GAAS,EACT5C,EAAY,IAAItG,KAIhBnB,GAHU,IAAImB,KAGNzf,KAAK6kB,KAAKhQ,aAAa7U,KAAK6kB,KAAK5hB,QAC7CjD,KAAK6kB,KAAKhP,OAAOzM,GAAG,iBAAiB,SAAUpC,GAE3C,GAAKmC,EAAM+e,aAAa/e,EAAM0b,KAAK5hB,SAGnCqb,EAAQnV,EAAM0b,KAAKhQ,aAAa1L,EAAM0b,KAAK5hB,QACtCkG,EAAM7B,IAAIN,EAAEkX,QAAQrV,SAAS,YAC9ByV,EAAM3W,MAAMmB,SAAS9B,EAAEkX,UACF,IAArBlX,EAAEuX,QAAQ7e,QACVyJ,EAAM0b,KAAK1P,MAAMtM,SAAS,cAAc,CACxC7B,EAAEwN,iBACFuR,EAAY,IAAItG,KAChBtW,EAAM0b,KAAKrG,YAAc,YACzBkN,EAAQviB,EAAM0b,KACThQ,aAAa1L,EAAM0b,KAAK5hB,OACxBoE,KAAK,gBACLE,QACL,IAAI8hB,EAAoBlgB,EAAMof,qBAAqB,GACnDI,EAASU,EAAkBV,SAC3BC,EAASS,EAAkBT,SACbD,KACV9L,EAAc1T,EAAMmf,cAActhB,IAEtCsiB,EAAqBngB,EAAMogB,4BAE3BpgB,EAAM0b,KAAK1P,MAAM1U,SAAS,2CAC9B,CACJ,IACAT,KAAK6kB,KAAKhP,OAAOzM,GAAG,gBAAgB,SAAUpC,GAC1C,GAAyB,IAArBA,EAAEuX,QAAQ7e,QACiB,cAA3ByJ,EAAM0b,KAAKrG,cACVrV,EAAM7B,IAAIN,EAAEkX,QAAQrV,SAAS,YAC1ByV,EAAM3W,MAAMmB,SAAS9B,EAAEkX,SAAU,CACrClX,EAAEwN,iBACFrL,EAAM0b,KAAKrG,YAAc,YACzB1B,EAAY3T,EAAMmf,cAActhB,GAChC,IAAI6W,EAAW1U,EAAM2jB,kBAAkBjQ,EAAaC,EAAW8L,EAAQD,EAAQW,IAC3ElkB,KAAKiY,IAAIP,EAAUlO,EAAIiO,EAAYjO,GAAK,IACxCxJ,KAAKiY,IAAIP,EAAUhO,EAAI+N,EAAY/N,GAAK,MACxCsP,GAAU,EACVjV,EAAMwiB,mBAAmBD,EAAO7N,GAExC,CACJ,IACA7d,KAAK6kB,KAAKhP,OAAOzM,GAAG,eAAe,SAAUpC,GACzC,GAA+B,cAA3BmC,EAAM0b,KAAKrG,cACVrV,EAAM7B,IAAIN,EAAEkX,QAAQrV,SAAS,YAC1ByV,EAAM3W,MAAMmB,SAAS9B,EAAEkX,SAAU,CAIrC,GAHAlX,EAAEwN,iBACFrL,EAAM0b,KAAKrG,iBAAcva,EACzBkF,EAAM0b,KAAK1P,MAAMxM,YAAY,qBACxByV,EACD,OAEJA,GAAU,EAEV,IAAIqI,GADM,IAAIhH,MACc+G,UAAYT,EAAUS,UAClDrd,EAAMwjB,aAAa9P,EAAaC,EAAW8L,EAAQD,EAAQlC,EAC/D,CACJ,GACJ,EACAoB,EAAKjoB,UAAUgsB,SAAW,WACtB,IASI7F,EACAC,EACAsD,EACAoC,EAZAviB,EAAQnJ,KACR6c,EAAc,CAAC,EACfC,EAAY,CAAC,EACboJ,GAAa,EACb9H,GAAU,EAEVwK,GAAS,EAETD,GAAS,EAKb3oB,KAAK6kB,KAAK1P,MAAM/L,GAAG,qBAAqB,SAAUpC,GAE9C,GAAKmC,EAAM+e,aAAa/e,EAAM0b,KAAK5hB,OAAnC,CAGA,IAAIqb,EAAQnV,EAAM0b,KAAKhQ,aAAa1L,EAAM0b,KAAK5hB,OAC/C,GAAIkG,EAAM7B,IAAIN,EAAEkX,QAAQrV,SAAS,YAC7ByV,EAAM3W,MAAMmB,SAAS9B,EAAEkX,QAAS,CAChC6H,EAAY,IAAItG,KAChBiM,EAAQviB,EAAM0b,KACThQ,aAAa1L,EAAM0b,KAAK5hB,OACxBoE,KAAK,gBACLE,QACL,IAAI8hB,EAAoBlgB,EAAMof,qBAAqB,GACnDI,EAASU,EAAkBV,OAC3BC,EAASS,EAAkBT,OACvBzf,EAAM0b,KAAK1P,MAAMtM,SAAS,cACtBM,EAAM7B,IAAIN,EAAEkX,QAAQrV,SAAS,eAC5B+f,GAAUD,KACX3hB,EAAEwN,iBACFqI,EAAc1T,EAAMkf,aAAarhB,GACjCsiB,EAAqBngB,EAAMogB,4BAC3BrD,GAAa,EACb/c,EAAM0b,KAAK1P,MACNxM,YAAY,WACZlI,SAAS,wDAI1B,CAzBA,CA0BJ,IACAT,KAAKsH,IAAI6D,QAAQ/B,GAAG,2BAA6BpJ,KAAK6kB,KAAKpS,MAAM,SAAUzL,GACvE,GAAIkf,EAAY,CACZ9H,GAAU,EACVtB,EAAY3T,EAAMkf,aAAarhB,GAC/B,IAAI6W,EAAW1U,EAAM2jB,kBAAkBjQ,EAAaC,EAAW8L,EAAQD,EAAQW,GAC/EngB,EAAMwiB,mBAAmBD,EAAO7N,EACpC,CACJ,IACA7d,KAAKsH,IAAI6D,QAAQ/B,GAAG,yBAA2BpJ,KAAK6kB,KAAKpS,MAAM,SAAUzL,GACrE,GAAIkf,EAAY,CAKZ,GAJAF,EAAU,IAAIvG,KACdyG,GAAa,EACb/c,EAAM0b,KAAK1P,MAAMxM,YAAY,oBAEzByV,IACCvB,EAAYjO,IAAMkO,EAAUlO,GACzBiO,EAAY/N,IAAMgO,EAAUhO,GAAI,CACpCgO,EAAY3T,EAAMkf,aAAarhB,GAC/B,IAAIyf,EAAgBT,EAAQQ,UAAYT,EAAUS,UAClDrd,EAAMwjB,aAAa9P,EAAaC,EAAW8L,EAAQD,EAAQlC,EAC/D,CACArI,GAAU,CACd,CACAjV,EAAM0b,KAAK1P,MAAMxM,YAAY,eAAelI,SAAS,UACzD,GACJ,EACAonB,EAAKjoB,UAAUyE,aAAe,WAC1BrE,KAAKwrB,YACLxrB,KAAK8qB,gBAAiB,CAC1B,EACAjD,EAAKjoB,UAAUkhB,QAAU,WAErB9gB,KAAKsH,IAAI6D,QAAQtB,IAAI,kBAAoB7J,KAAK6kB,KAAKpS,MACnDzS,KAAK6kB,KAAKvW,KAAKzE,IAAI,YACnB7J,KAAK6kB,KAAKvW,KAAKzE,IAAI,SACnB0O,aAAavY,KAAKioB,iBAClBjoB,KAAKioB,iBAAkB,CAC3B,EACOJ,CACX,CAp3ByB,GAs3BzB,MCt7BI,GAAW,WAQX,OAPA,GAAW1oB,OAAOC,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,IAE9E,OAAON,CACX,EACO,GAASU,MAAMC,KAAMP,UAChC,EAOI,GASe,kBATf,GAUa,gBAVb,GAWY,eAXZ,GAaW,cAbX,GAeS,YAfT,GAwBU,aAxBV,GAyBe,kBAzBf,GA0Bc,iBAGd6tB,GAAmB,CACnBC,UAAU,EACVC,mBAAmB,EACnBC,kBAAmB,IACnBC,aAAa,EACbC,wBAAwB,EACxBC,kBAAkB,EAClBC,yBAA0B,cAC1BC,sBAAuB,CACnBC,eAAgB,oBA4KxB,GApK8B,WAC1B,SAASC,EAASja,GAId,OAHA/T,KAAK6kB,KAAO9Q,EAEZ/T,KAAKuT,SAAW,GAAS,GAAS,CAAC,EAAG+Z,IAAmBttB,KAAK6kB,KAAKtR,UAC5DvT,IACX,CA2JA,OA1JAguB,EAASpuB,UAAU+T,KAAO,WACtB,IAAIxK,EAAQnJ,KACPA,KAAKuT,SAASga,WAGnBvtB,KAAKiuB,UAAW,EAEhBjuB,KAAKkuB,UAAW,EAEhBluB,KAAKmuB,mBAAoB,EACzBnuB,KAAKouB,qBAAsB,EAEvBpuB,KAAKuT,SAASqa,kBACd5tB,KAAKoC,WAGLpC,KAAKuT,SAASma,aACd1tB,KAAK6kB,KAAK1P,MAAMvK,OAAO,sEAGvB5K,KAAKuT,SAASia,mBACdxtB,KAAK6kB,KAAKvW,KAAK1E,KAAK,GAAyB,aAAa,WACtDT,EAAMklB,eACV,IAGJruB,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAqB,oCAAoC,WACnED,EAAM8kB,WACN9kB,EAAMmlB,eACNnlB,EAAMglB,mBAAoB,EAElC,IAEAnuB,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAmB,kCAAkC,YAC9DD,EAAM8kB,UAAY9kB,EAAMglB,oBACzBhlB,EAAMklB,gBACNllB,EAAMglB,mBAAoB,EAElC,IACAnuB,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAuB,aAAa,WAClDD,EAAMolB,mBACDplB,EAAM+kB,UAAY/kB,EAAM8kB,UACzB9kB,EAAMmlB,eACNnlB,EAAMilB,qBAAsB,GAG5BjlB,EAAMilB,qBAAsB,EAEhCjlB,EAAM+kB,UAAW,CACrB,IAEAluB,KAAK6kB,KAAKvW,KAAKlF,GAAG,GAAsB,aAAa,WAC7CD,EAAMilB,sBACLjlB,EAAM8kB,UACP9kB,EAAMoK,SAASoa,yBACfxkB,EAAMklB,gBACNllB,EAAMilB,qBAAsB,EAEpC,IAEApuB,KAAKuuB,kBACT,EACAP,EAASpuB,UAAU2uB,gBAAkB,WACjC,IAAIplB,EAAQnJ,KACZ,GAAIA,KAAKuT,SAASma,aAAe1tB,KAAKkuB,SAAU,CAC5C,IAAIM,EAAkBxuB,KAAK6kB,KAAK1P,MAAM9N,KAAK,oBACvConB,EAAezuB,KAAK6kB,KAAK1P,MAAM9N,KAAK,gBACpCrH,KAAKiuB,WACLQ,EAAa7mB,WAAW,SACxB4mB,EAAgB7lB,YAAY,YAC5BqL,YAAW,WACPya,EAAavlB,IAAI,aAAc,UAC1BC,EAAM0b,KAAKtR,SAASlT,MACjB8I,EAAMoK,SAASka,mBACnB,cACJe,EAAgB/tB,SAAS,WAC7B,GAAG,IAEX,CACJ,EAEAutB,EAASpuB,UAAUwC,SAAW,WAC1B,IAAI+G,EAAQnJ,KACR0uB,EAAQ,uBAA0B1uB,KAAKuT,SAASua,sBAAsC,eAAI,+DAE9F9tB,KAAK6kB,KAAK1P,MACL9N,KAAKrH,KAAKuT,SAASsa,0BACnBjjB,OAAO8jB,GACZ1uB,KAAK6kB,KAAK1P,MACL9N,KAAK,uBACLE,QACA6B,GAAG,qBAAqB,WACrBD,EAAM0b,KAAK1P,MAAMtM,SAAS,oBAC1BM,EAAMmlB,eAGDnlB,EAAM8kB,UACP9kB,EAAMklB,eAGlB,GACJ,EAEAL,EAASpuB,UAAUyuB,cAAgB,WAC/B,IAAIllB,EAAQnJ,KACZA,KAAK6kB,KAAK1P,MACL9N,KAAK,gBACL6B,IAAI,aAAc,UAClBlJ,KAAK6kB,KAAKtR,SAASlT,MAChBL,KAAKuT,SAASka,mBAClB,cACJztB,KAAK6kB,KAAK1P,MAAM1U,SAAS,oBACzBT,KAAK6kB,KAAK1P,MAAM9N,KAAK,oBAAoB5G,SAAS,YAClDT,KAAK6kB,KAAKvW,KAAKtE,QAAQ,GAAwB,CAC3C/G,MAAOjD,KAAK6kB,KAAK5hB,QAErBjD,KAAKiuB,SAAWU,aAAY,WACpBxlB,EAAM0b,KAAK5hB,MAAQ,EAAIkG,EAAM0b,KAAKrR,aAAa9T,OAC/CyJ,EAAM0b,KAAK5hB,QAGXkG,EAAM0b,KAAK5hB,MAAQ,EAEvBkG,EAAM0b,KAAKvW,KAAKtE,QAAQ,GAAmB,CACvC/G,MAAOkG,EAAM0b,KAAK5hB,QAEtBkG,EAAM+kB,UAAW,EACjB/kB,EAAM0b,KAAKzM,MAAMjP,EAAM0b,KAAK5hB,OAAO,GAAO,EAAO,OACrD,GAAGjD,KAAK6kB,KAAKtR,SAASlT,MAAQL,KAAKuT,SAASka,kBAChD,EAEAO,EAASpuB,UAAU0uB,aAAe,WAC1BtuB,KAAKiuB,WACLjuB,KAAK6kB,KAAKvW,KAAKtE,QAAQ,GAAuB,CAC1C/G,MAAOjD,KAAK6kB,KAAK5hB,QAErBjD,KAAK6kB,KAAK1P,MAAM9N,KAAK,gBAAgBO,WAAW,SAChD5H,KAAK6kB,KAAK1P,MAAMxM,YAAY,oBAC5B3I,KAAK6kB,KAAK1P,MAAM9N,KAAK,oBAAoBsB,YAAY,aAEzDimB,cAAc5uB,KAAKiuB,UACnBjuB,KAAKiuB,UAAW,CACpB,EACAD,EAASpuB,UAAUyE,aAAe,WAC9BrE,KAAKsuB,cACT,EACAN,EAASpuB,UAAUkhB,QAAU,WACrB9gB,KAAKuT,SAASga,UACdvtB,KAAK6kB,KAAK1P,MAAM9N,KAAK,oBAAoBuB,SAG7C5I,KAAK6kB,KAAKvW,KAAKzE,IAAI,gBACnB7J,KAAK6kB,KAAKvW,KAAKzE,IAAI,YACvB,EACOmkB,CACX,CAlK6B,GC9DzB,GAAW,WAQX,OAPA,GAAW7uB,OAAOC,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,IAE9E,OAAON,CACX,EACO,GAASU,MAAMC,KAAMP,UAChC,EAEIovB,GAAqB,CACrBC,YAAY,EACZC,wBAAyB,CACrBC,iBAAkB,sBAItBC,GAA4B,WAC5B,SAASA,EAAWlb,EAAUzM,GAM1B,OAJAtH,KAAK6kB,KAAO9Q,EACZ/T,KAAKsH,IAAMA,EAEXtH,KAAKuT,SAAW,GAAS,GAAS,CAAC,EAAGsb,IAAqB7uB,KAAK6kB,KAAKtR,UAC9DvT,IACX,CAkFA,OAjFAivB,EAAWrvB,UAAU+T,KAAO,WACxB,IAAImb,EAAa,GACjB,GAAI9uB,KAAKuT,SAASub,WAAY,CAE1B,KAAKtpB,SAAS0pB,mBACT1pB,SAAS2pB,yBACT3pB,SAAS4pB,sBACT5pB,SAAS6pB,qBACV,OAGAP,EAAa,qCAA0C9uB,KAAKuT,SAASwb,wBAA0C,iBAAI,4CACnH/uB,KAAK6kB,KAAK9O,SAASnL,OAAOkkB,GAC1B9uB,KAAK8uB,YAEb,CACJ,EACAG,EAAWrvB,UAAU0vB,aAAe,WAChC,OAAQ9pB,SAAS+pB,mBACb/pB,SAASgqB,sBACThqB,SAASiqB,yBACTjqB,SAASkqB,mBACjB,EACAT,EAAWrvB,UAAU+vB,kBAAoB,WACrC,IAAI3pB,EAAKR,SAAS0F,gBACdlF,EAAG2pB,kBACH3pB,EAAG2pB,oBAEE3pB,EAAG4pB,oBACR5pB,EAAG4pB,sBAEE5pB,EAAG6pB,qBACR7pB,EAAG6pB,uBAEE7pB,EAAG8pB,yBACR9pB,EAAG8pB,yBAEX,EACAb,EAAWrvB,UAAUmwB,eAAiB,WAC9BvqB,SAASuqB,eACTvqB,SAASuqB,iBAEJvqB,SAASwqB,iBACdxqB,SAASwqB,mBAEJxqB,SAASyqB,oBACdzqB,SAASyqB,sBAEJzqB,SAAS0qB,sBACd1qB,SAAS0qB,sBAEjB,EAEAjB,EAAWrvB,UAAUkvB,WAAa,WAC9B,IAAI3lB,EAAQnJ,KACZA,KAAKsH,IAAI9B,UAAU4D,GAAG,6BAA+BpJ,KAAK6kB,KAAKpS,KAAO,kDAAoDzS,KAAK6kB,KAAKpS,KAAO,+CAAiDzS,KAAK6kB,KAAKpS,KAAO,8CAAgDzS,KAAK6kB,KAAKpS,MAAM,WACpQtJ,EAAM0b,KAAKjS,UAEhBzJ,EAAM0b,KAAK1P,MAAMlM,YAAY,mBACjC,IACAjJ,KAAK6kB,KAAK1P,MACL9N,KAAK,kBACLE,QACA6B,GAAG,YAAY,WACZD,EAAMmmB,eACNnmB,EAAM4mB,iBAGN5mB,EAAMwmB,mBAEd,GACJ,EACAV,EAAWrvB,UAAUyE,aAAe,WAE5BrE,KAAKsvB,gBACLtvB,KAAK+vB,gBAEb,EACAd,EAAWrvB,UAAUkhB,QAAU,WAC3B9gB,KAAKsH,IAAI9B,UAAUqE,IAAI,6BAA+B7J,KAAK6kB,KAAKpS,KAAO,kDAAoDzS,KAAK6kB,KAAKpS,KAAO,+CAAiDzS,KAAK6kB,KAAKpS,KAAO,8CAAgDzS,KAAK6kB,KAAKpS,KAC5Q,EACOwc,CACX,CA3F+B,GA6F/B,MCvGA,OAhBqBhzB,IAAwB,IAAvB,OAAEk0B,EAAM,MAAEzzB,GAAOT,EACrC,OACEmB,EAAAA,cAAA,WACAA,EAAAA,cAAA,UAAKV,GAELU,EAAAA,cAACsV,GAAY,CAACrS,MAAO,IAAM8D,QAAS,CAACisB,GAAaC,GAAQC,GAAYC,IAAepwB,KAAK,WACvFgwB,EAAO1gB,KAAK+B,GACXpU,EAAAA,cAAA,KAAGuS,IAAK6B,EAAKwD,GAAIhW,KAAMwS,EAAK7T,MAAO,gBAAe,OAAO6T,EAAK9U,cAC5DU,EAAAA,cAAA,OAAK6K,UAAU,cAAc+G,IAAKwC,EAAK7T,MAAOkU,IAAKL,EAAK9U,MAAO4J,MAAO,CAAC9F,MAAO,QAASD,OAAQ,QAASiwB,OAAQ,oBAAqBC,OAAQ,MAAOC,aAAc,cAIlK,aCnBV,SAASC,GAAkBxzB,GACzB,MAAMyzB,EAAczxB,OAAOC,OAAO,CAChCyxB,GAAI,OACHC,EAAAA,EAAAA,MAAsB3zB,EAAM4zB,YAC/B,OAAO3zB,EAAAA,cAAoBA,EAAAA,SAAgB,KAAMA,EAAAA,cAAoB,MAAO,KAAMA,EAAAA,cAAoB4zB,GAAAA,GAAM,CAC1G50B,SAAU,gBACVO,GAAI,CACFs0B,SAAU,CAAC,GACXC,WAAY,OACZC,MAAO,cAEN,KAAM/zB,EAAAA,cAAoB,MAAO,KAAMA,EAAAA,cAAoB4zB,GAAAA,GAAM,CACpE50B,SAAU,wDACVO,GAAI,CACFs0B,SAAU,CAAC,GACXE,MAAO,iBAEN,KAAM/zB,EAAAA,cAAoBwzB,EAAYC,IAAK,KAAMzzB,EAAAA,cAAoBg0B,GAAc,CACtFjB,OAAQkB,EAAAA,GACR30B,MAAO,gDACL,KAAMU,EAAAA,cAAoBg0B,GAAc,CAC1CjB,OAAQkB,EAAAA,GACR30B,MAAO,uCACL,KAAMU,EAAAA,cAAoBg0B,GAAc,CAC1CjB,OAAQkB,EAAAA,GACR30B,MAAO,oCACL,KAAMU,EAAAA,cAAoBg0B,GAAc,CAC1CjB,OAAQkB,EAAAA,GACR30B,MAAO,eAEX,CAKA,OAJA,SAAoBS,QAAK,IAALA,IAAAA,EAAQ,CAAC,GAC3B,MAAO+K,QAASopB,GAAanyB,OAAOC,OAAO,CAAC,GAAG0xB,EAAAA,EAAAA,MAAsB3zB,EAAM4zB,YAC3E,OAAOO,EAAYl0B,EAAAA,cAAoBk0B,EAAWn0B,EAAOC,EAAAA,cAAoBuzB,GAAmBxzB,IAAUwzB,GAAkBxzB,EAC9H,aCrCe,SAASo0B,GAAiBp0B,GACvC,OAAOC,EAAAA,cAAoBo0B,GAAAA,EAAer0B,EAAOC,EAAAA,cAAoBq0B,GAAqBt0B,GAC5F,CAHAq0B,GAAAA","sources":["webpack://minimal-blog/./node_modules/@lekoarts/gatsby-theme-minimal-blog/src/components/page.tsx","webpack://minimal-blog/./node_modules/@lekoarts/gatsby-theme-minimal-blog/src/@lekoarts/gatsby-theme-minimal-blog-core/components/page.tsx","webpack://minimal-blog/./node_modules/@lekoarts/gatsby-theme-minimal-blog/src/hooks/use-site-metadata.tsx","webpack://minimal-blog/./node_modules/@lekoarts/gatsby-theme-minimal-blog/src/components/seo.tsx","webpack://minimal-blog/./node_modules/lightgallery/react/Lightgallery.es5.js","webpack://minimal-blog/./node_modules/lightgallery/plugins/thumbnail/lg-thumbnail.es5.js","webpack://minimal-blog/./node_modules/lightgallery/plugins/zoom/lg-zoom.es5.js","webpack://minimal-blog/./node_modules/lightgallery/plugins/autoplay/lg-autoplay.es5.js","webpack://minimal-blog/./node_modules/lightgallery/plugins/fullscreen/lg-fullscreen.es5.js","webpack://minimal-blog/./src/components/image-gallery/Gallery.js","webpack://minimal-blog/./content/pages/gallery/index.mdx","webpack://minimal-blog/./node_modules/@lekoarts/gatsby-theme-minimal-blog-core/src/templates/page-query.tsx"],"sourcesContent":["/** @jsx jsx */\nimport type { HeadFC, PageProps } from \"gatsby\"\nimport { jsx, Heading } from \"theme-ui\"\nimport Layout from \"./layout\"\nimport Seo from \"./seo\"\n\nexport type MBPageProps = {\n  page: {\n    title: string\n    slug: string\n    excerpt: string\n  }\n}\n\nconst Page: React.FC<React.PropsWithChildren<PageProps<MBPageProps>>> = ({ data: { page }, children }) => (\n  <Layout>\n    <Heading as=\"h1\" variant=\"styles.h1\">\n      {page.title}\n    </Heading>\n    <section sx={{ my: 5, variant: `layout.content` }}>{children}</section>\n  </Layout>\n)\n\nexport default Page\n\nexport const Head: HeadFC<MBPageProps> = ({ data: { page } }) => <Seo title={page.title} description={page.excerpt} />\n","import type { PageProps } from \"gatsby\"\nimport * as React from \"react\"\nimport Page, { Head, MBPageProps } from \"../../../components/page\"\n\nexport default function MinimalBlogCorePage({ ...props }: PageProps<MBPageProps>) {\n  return <Page {...props} />\n}\n\nexport { Head }\n","import { graphql, useStaticQuery } from \"gatsby\"\n\ntype UseSiteMetadataProps = {\n  site: {\n    siteMetadata: {\n      siteTitle: string\n      siteTitleAlt: string\n      siteHeadline: string\n      siteUrl: string\n      siteDescription: string\n      siteImage: string\n      siteLanguage: string\n      author: string\n      [key: string]: unknown\n    }\n  }\n}\n\nconst useSiteMetadata = () => {\n  const data = useStaticQuery<UseSiteMetadataProps>(graphql`\n    query {\n      site {\n        siteMetadata {\n          siteTitle\n          siteTitleAlt\n          siteHeadline\n          siteUrl\n          siteDescription\n          siteImage\n          siteLanguage\n          author\n        }\n      }\n    }\n  `)\n\n  return data.site.siteMetadata\n}\n\nexport default useSiteMetadata\n","import * as React from \"react\"\nimport { withPrefix } from \"gatsby\"\nimport useSiteMetadata from \"../hooks/use-site-metadata\"\n\ntype SEOProps = {\n  title?: string\n  description?: string\n  pathname?: string\n  image?: string\n  children?: React.ReactNode\n  canonicalUrl?: string\n}\n\nconst Seo = ({\n  title = ``,\n  description = ``,\n  pathname = ``,\n  image = ``,\n  children = null,\n  canonicalUrl = ``,\n}: SEOProps) => {\n  const site = useSiteMetadata()\n\n  const {\n    siteTitle,\n    siteTitleAlt: defaultTitle,\n    siteUrl,\n    siteDescription: defaultDescription,\n    siteImage: defaultImage,\n    author,\n    siteLanguage,\n  } = site\n\n  const seo = {\n    title: title ? `${title} | ${siteTitle}` : defaultTitle,\n    description: description || defaultDescription,\n    url: `${siteUrl}${pathname || ``}`,\n    image: `${siteUrl}${image || defaultImage}`,\n  }\n  return (\n    <>\n      <html lang={siteLanguage} />\n      <title>{seo.title}</title>\n      <meta name=\"description\" content={seo.description} />\n      <meta name=\"image\" content={seo.image} />\n      <meta property=\"og:title\" content={seo.title} />\n      <meta property=\"og:url\" content={seo.url} />\n      <meta property=\"og:description\" content={seo.description} />\n      <meta property=\"og:image\" content={seo.image} />\n      <meta property=\"og:type\" content=\"website\" />\n      <meta property=\"og:image:alt\" content={seo.description} />\n      <meta name=\"twitter:card\" content=\"summary_large_image\" />\n      <meta name=\"twitter:title\" content={seo.title} />\n      <meta name=\"twitter:url\" content={seo.url} />\n      <meta name=\"twitter:description\" content={seo.description} />\n      <meta name=\"twitter:image\" content={seo.image} />\n      <meta name=\"twitter:image:alt\" content={seo.description} />\n      <meta name=\"twitter:creator\" content={author} />\n      <meta name=\"gatsby-theme\" content=\"@lekoarts/gatsby-theme-minimal-blog\" />\n      <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href={withPrefix(`/favicon-32x32.png`)} />\n      <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href={withPrefix(`/favicon-16x16.png`)} />\n      <link rel=\"apple-touch-icon\" sizes=\"180x180\" href={withPrefix(`/apple-touch-icon.png`)} />\n      {canonicalUrl ? <link rel=\"canonical\" href={canonicalUrl} /> : null}\n      {children}\n    </>\n  )\n}\n\nexport default Seo\n","import { useRef, useCallback, useEffect, createElement } from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\n/*!\n * lightgallery | 2.7.2 | September 20th 2023\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar lightGalleryCoreSettings = {\r\n    mode: 'lg-slide',\r\n    easing: 'ease',\r\n    speed: 400,\r\n    licenseKey: '0000-0000-000-0000',\r\n    height: '100%',\r\n    width: '100%',\r\n    addClass: '',\r\n    startClass: 'lg-start-zoom',\r\n    backdropDuration: 300,\r\n    container: '',\r\n    startAnimationDuration: 400,\r\n    zoomFromOrigin: true,\r\n    hideBarsDelay: 0,\r\n    showBarsAfter: 10000,\r\n    slideDelay: 0,\r\n    supportLegacyBrowser: true,\r\n    allowMediaOverlap: false,\r\n    videoMaxSize: '1280-720',\r\n    loadYouTubePoster: true,\r\n    defaultCaptionHeight: 0,\r\n    ariaLabelledby: '',\r\n    ariaDescribedby: '',\r\n    resetScrollPosition: true,\r\n    hideScrollbar: false,\r\n    closable: true,\r\n    swipeToClose: true,\r\n    closeOnTap: true,\r\n    showCloseIcon: true,\r\n    showMaximizeIcon: false,\r\n    loop: true,\r\n    escKey: true,\r\n    keyPress: true,\r\n    trapFocus: true,\r\n    controls: true,\r\n    slideEndAnimation: true,\r\n    hideControlOnEnd: false,\r\n    mousewheel: false,\r\n    getCaptionFromTitleOrAlt: true,\r\n    appendSubHtmlTo: '.lg-sub-html',\r\n    subHtmlSelectorRelative: false,\r\n    preload: 2,\r\n    numberOfSlideItemsInDom: 10,\r\n    selector: '',\r\n    selectWithin: '',\r\n    nextHtml: '',\r\n    prevHtml: '',\r\n    index: 0,\r\n    iframeWidth: '100%',\r\n    iframeHeight: '100%',\r\n    iframeMaxWidth: '100%',\r\n    iframeMaxHeight: '100%',\r\n    download: true,\r\n    counter: true,\r\n    appendCounterTo: '.lg-toolbar',\r\n    swipeThreshold: 50,\r\n    enableSwipe: true,\r\n    enableDrag: true,\r\n    dynamic: false,\r\n    dynamicEl: [],\r\n    extraProps: [],\r\n    exThumbImage: '',\r\n    isMobile: undefined,\r\n    mobileSettings: {\r\n        controls: false,\r\n        showCloseIcon: false,\r\n        download: false,\r\n    },\r\n    plugins: [],\r\n    strings: {\r\n        closeGallery: 'Close gallery',\r\n        toggleMaximize: 'Toggle maximize',\r\n        previousSlide: 'Previous slide',\r\n        nextSlide: 'Next slide',\r\n        download: 'Download',\r\n        playVideo: 'Play video',\r\n        mediaLoadingFailed: 'Oops... Failed to load content...',\r\n    },\r\n};\n\nfunction initLgPolyfills() {\r\n    (function () {\r\n        if (typeof window.CustomEvent === 'function')\r\n            return false;\r\n        function CustomEvent(event, params) {\r\n            params = params || {\r\n                bubbles: false,\r\n                cancelable: false,\r\n                detail: null,\r\n            };\r\n            var evt = document.createEvent('CustomEvent');\r\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n            return evt;\r\n        }\r\n        window.CustomEvent = CustomEvent;\r\n    })();\r\n    (function () {\r\n        if (!Element.prototype.matches) {\r\n            Element.prototype.matches =\r\n                Element.prototype.msMatchesSelector ||\r\n                    Element.prototype.webkitMatchesSelector;\r\n        }\r\n    })();\r\n}\r\nvar lgQuery = /** @class */ (function () {\r\n    function lgQuery(selector) {\r\n        this.cssVenderPrefixes = [\r\n            'TransitionDuration',\r\n            'TransitionTimingFunction',\r\n            'Transform',\r\n            'Transition',\r\n        ];\r\n        this.selector = this._getSelector(selector);\r\n        this.firstElement = this._getFirstEl();\r\n        return this;\r\n    }\r\n    lgQuery.generateUUID = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    lgQuery.prototype._getSelector = function (selector, context) {\r\n        if (context === void 0) { context = document; }\r\n        if (typeof selector !== 'string') {\r\n            return selector;\r\n        }\r\n        context = context || document;\r\n        var fl = selector.substring(0, 1);\r\n        if (fl === '#') {\r\n            return context.querySelector(selector);\r\n        }\r\n        else {\r\n            return context.querySelectorAll(selector);\r\n        }\r\n    };\r\n    lgQuery.prototype._each = function (func) {\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        if (this.selector.length !== undefined) {\r\n            [].forEach.call(this.selector, func);\r\n        }\r\n        else {\r\n            func(this.selector, 0);\r\n        }\r\n        return this;\r\n    };\r\n    lgQuery.prototype._setCssVendorPrefix = function (el, cssProperty, value) {\r\n        // prettier-ignore\r\n        var property = cssProperty.replace(/-([a-z])/gi, function (s, group1) {\r\n            return group1.toUpperCase();\r\n        });\r\n        if (this.cssVenderPrefixes.indexOf(property) !== -1) {\r\n            el.style[property.charAt(0).toLowerCase() + property.slice(1)] = value;\r\n            el.style['webkit' + property] = value;\r\n            el.style['moz' + property] = value;\r\n            el.style['ms' + property] = value;\r\n            el.style['o' + property] = value;\r\n        }\r\n        else {\r\n            el.style[property] = value;\r\n        }\r\n    };\r\n    lgQuery.prototype._getFirstEl = function () {\r\n        if (this.selector && this.selector.length !== undefined) {\r\n            return this.selector[0];\r\n        }\r\n        else {\r\n            return this.selector;\r\n        }\r\n    };\r\n    lgQuery.prototype.isEventMatched = function (event, eventName) {\r\n        var eventNamespace = eventName.split('.');\r\n        return event\r\n            .split('.')\r\n            .filter(function (e) { return e; })\r\n            .every(function (e) {\r\n            return eventNamespace.indexOf(e) !== -1;\r\n        });\r\n    };\r\n    lgQuery.prototype.attr = function (attr, value) {\r\n        if (value === undefined) {\r\n            if (!this.firstElement) {\r\n                return '';\r\n            }\r\n            return this.firstElement.getAttribute(attr);\r\n        }\r\n        this._each(function (el) {\r\n            el.setAttribute(attr, value);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.find = function (selector) {\r\n        return $LG(this._getSelector(selector, this.selector));\r\n    };\r\n    lgQuery.prototype.first = function () {\r\n        if (this.selector && this.selector.length !== undefined) {\r\n            return $LG(this.selector[0]);\r\n        }\r\n        else {\r\n            return $LG(this.selector);\r\n        }\r\n    };\r\n    lgQuery.prototype.eq = function (index) {\r\n        return $LG(this.selector[index]);\r\n    };\r\n    lgQuery.prototype.parent = function () {\r\n        return $LG(this.selector.parentElement);\r\n    };\r\n    lgQuery.prototype.get = function () {\r\n        return this._getFirstEl();\r\n    };\r\n    lgQuery.prototype.removeAttr = function (attributes) {\r\n        var attrs = attributes.split(' ');\r\n        this._each(function (el) {\r\n            attrs.forEach(function (attr) { return el.removeAttribute(attr); });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.wrap = function (className) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        var wrapper = document.createElement('div');\r\n        wrapper.className = className;\r\n        this.firstElement.parentNode.insertBefore(wrapper, this.firstElement);\r\n        this.firstElement.parentNode.removeChild(this.firstElement);\r\n        wrapper.appendChild(this.firstElement);\r\n        return this;\r\n    };\r\n    lgQuery.prototype.addClass = function (classNames) {\r\n        if (classNames === void 0) { classNames = ''; }\r\n        this._each(function (el) {\r\n            // IE doesn't support multiple arguments\r\n            classNames.split(' ').forEach(function (className) {\r\n                if (className) {\r\n                    el.classList.add(className);\r\n                }\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.removeClass = function (classNames) {\r\n        this._each(function (el) {\r\n            // IE doesn't support multiple arguments\r\n            classNames.split(' ').forEach(function (className) {\r\n                if (className) {\r\n                    el.classList.remove(className);\r\n                }\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.hasClass = function (className) {\r\n        if (!this.firstElement) {\r\n            return false;\r\n        }\r\n        return this.firstElement.classList.contains(className);\r\n    };\r\n    lgQuery.prototype.hasAttribute = function (attribute) {\r\n        if (!this.firstElement) {\r\n            return false;\r\n        }\r\n        return this.firstElement.hasAttribute(attribute);\r\n    };\r\n    lgQuery.prototype.toggleClass = function (className) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        if (this.hasClass(className)) {\r\n            this.removeClass(className);\r\n        }\r\n        else {\r\n            this.addClass(className);\r\n        }\r\n        return this;\r\n    };\r\n    lgQuery.prototype.css = function (property, value) {\r\n        var _this = this;\r\n        this._each(function (el) {\r\n            _this._setCssVendorPrefix(el, property, value);\r\n        });\r\n        return this;\r\n    };\r\n    // Need to pass separate namespaces for separate elements\r\n    lgQuery.prototype.on = function (events, listener) {\r\n        var _this = this;\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        events.split(' ').forEach(function (event) {\r\n            if (!Array.isArray(lgQuery.eventListeners[event])) {\r\n                lgQuery.eventListeners[event] = [];\r\n            }\r\n            lgQuery.eventListeners[event].push(listener);\r\n            _this.selector.addEventListener(event.split('.')[0], listener);\r\n        });\r\n        return this;\r\n    };\r\n    // @todo - test this\r\n    lgQuery.prototype.once = function (event, listener) {\r\n        var _this = this;\r\n        this.on(event, function () {\r\n            _this.off(event);\r\n            listener(event);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.off = function (event) {\r\n        var _this = this;\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        Object.keys(lgQuery.eventListeners).forEach(function (eventName) {\r\n            if (_this.isEventMatched(event, eventName)) {\r\n                lgQuery.eventListeners[eventName].forEach(function (listener) {\r\n                    _this.selector.removeEventListener(eventName.split('.')[0], listener);\r\n                });\r\n                lgQuery.eventListeners[eventName] = [];\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.trigger = function (event, detail) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        var customEvent = new CustomEvent(event.split('.')[0], {\r\n            detail: detail || null,\r\n        });\r\n        this.firstElement.dispatchEvent(customEvent);\r\n        return this;\r\n    };\r\n    // Does not support IE\r\n    lgQuery.prototype.load = function (url) {\r\n        var _this = this;\r\n        fetch(url)\r\n            .then(function (res) { return res.text(); })\r\n            .then(function (html) {\r\n            _this.selector.innerHTML = html;\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.html = function (html) {\r\n        if (html === undefined) {\r\n            if (!this.firstElement) {\r\n                return '';\r\n            }\r\n            return this.firstElement.innerHTML;\r\n        }\r\n        this._each(function (el) {\r\n            el.innerHTML = html;\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.append = function (html) {\r\n        this._each(function (el) {\r\n            if (typeof html === 'string') {\r\n                el.insertAdjacentHTML('beforeend', html);\r\n            }\r\n            else {\r\n                el.appendChild(html);\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.prepend = function (html) {\r\n        this._each(function (el) {\r\n            el.insertAdjacentHTML('afterbegin', html);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.remove = function () {\r\n        this._each(function (el) {\r\n            el.parentNode.removeChild(el);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.empty = function () {\r\n        this._each(function (el) {\r\n            el.innerHTML = '';\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.scrollTop = function (scrollTop) {\r\n        if (scrollTop !== undefined) {\r\n            document.body.scrollTop = scrollTop;\r\n            document.documentElement.scrollTop = scrollTop;\r\n            return this;\r\n        }\r\n        else {\r\n            return (window.pageYOffset ||\r\n                document.documentElement.scrollTop ||\r\n                document.body.scrollTop ||\r\n                0);\r\n        }\r\n    };\r\n    lgQuery.prototype.scrollLeft = function (scrollLeft) {\r\n        if (scrollLeft !== undefined) {\r\n            document.body.scrollLeft = scrollLeft;\r\n            document.documentElement.scrollLeft = scrollLeft;\r\n            return this;\r\n        }\r\n        else {\r\n            return (window.pageXOffset ||\r\n                document.documentElement.scrollLeft ||\r\n                document.body.scrollLeft ||\r\n                0);\r\n        }\r\n    };\r\n    lgQuery.prototype.offset = function () {\r\n        if (!this.firstElement) {\r\n            return {\r\n                left: 0,\r\n                top: 0,\r\n            };\r\n        }\r\n        var rect = this.firstElement.getBoundingClientRect();\r\n        var bodyMarginLeft = $LG('body').style().marginLeft;\r\n        // Minus body margin - https://stackoverflow.com/questions/30711548/is-getboundingclientrect-left-returning-a-wrong-value\r\n        return {\r\n            left: rect.left - parseFloat(bodyMarginLeft) + this.scrollLeft(),\r\n            top: rect.top + this.scrollTop(),\r\n        };\r\n    };\r\n    lgQuery.prototype.style = function () {\r\n        if (!this.firstElement) {\r\n            return {};\r\n        }\r\n        return (this.firstElement.currentStyle ||\r\n            window.getComputedStyle(this.firstElement));\r\n    };\r\n    // Width without padding and border even if box-sizing is used.\r\n    lgQuery.prototype.width = function () {\r\n        var style = this.style();\r\n        return (this.firstElement.clientWidth -\r\n            parseFloat(style.paddingLeft) -\r\n            parseFloat(style.paddingRight));\r\n    };\r\n    // Height without padding and border even if box-sizing is used.\r\n    lgQuery.prototype.height = function () {\r\n        var style = this.style();\r\n        return (this.firstElement.clientHeight -\r\n            parseFloat(style.paddingTop) -\r\n            parseFloat(style.paddingBottom));\r\n    };\r\n    lgQuery.eventListeners = {};\r\n    return lgQuery;\r\n}());\r\nfunction $LG(selector) {\r\n    initLgPolyfills();\r\n    return new lgQuery(selector);\r\n}\n\nvar defaultDynamicOptions = [\r\n    'src',\r\n    'sources',\r\n    'subHtml',\r\n    'subHtmlUrl',\r\n    'html',\r\n    'video',\r\n    'poster',\r\n    'slideName',\r\n    'responsive',\r\n    'srcset',\r\n    'sizes',\r\n    'iframe',\r\n    'downloadUrl',\r\n    'download',\r\n    'width',\r\n    'facebookShareUrl',\r\n    'tweetText',\r\n    'iframeTitle',\r\n    'twitterShareUrl',\r\n    'pinterestShareUrl',\r\n    'pinterestText',\r\n    'fbHtml',\r\n    'disqusIdentifier',\r\n    'disqusUrl',\r\n];\r\n// Convert html data-attribute to camalcase\r\nfunction convertToData(attr) {\r\n    // FInd a way for lgsize\r\n    if (attr === 'href') {\r\n        return 'src';\r\n    }\r\n    attr = attr.replace('data-', '');\r\n    attr = attr.charAt(0).toLowerCase() + attr.slice(1);\r\n    attr = attr.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\r\n    return attr;\r\n}\r\nvar utils = {\r\n    /**\r\n     * get possible width and height from the lgSize attribute. Used for ZoomFromOrigin option\r\n     */\r\n    getSize: function (el, container, spacing, defaultLgSize) {\r\n        if (spacing === void 0) { spacing = 0; }\r\n        var LGel = $LG(el);\r\n        var lgSize = LGel.attr('data-lg-size') || defaultLgSize;\r\n        if (!lgSize) {\r\n            return;\r\n        }\r\n        var isResponsiveSizes = lgSize.split(',');\r\n        // if at-least two viewport sizes are available\r\n        if (isResponsiveSizes[1]) {\r\n            var wWidth = window.innerWidth;\r\n            for (var i = 0; i < isResponsiveSizes.length; i++) {\r\n                var size_1 = isResponsiveSizes[i];\r\n                var responsiveWidth = parseInt(size_1.split('-')[2], 10);\r\n                if (responsiveWidth > wWidth) {\r\n                    lgSize = size_1;\r\n                    break;\r\n                }\r\n                // take last item as last option\r\n                if (i === isResponsiveSizes.length - 1) {\r\n                    lgSize = size_1;\r\n                }\r\n            }\r\n        }\r\n        var size = lgSize.split('-');\r\n        var width = parseInt(size[0], 10);\r\n        var height = parseInt(size[1], 10);\r\n        var cWidth = container.width();\r\n        var cHeight = container.height() - spacing;\r\n        var maxWidth = Math.min(cWidth, width);\r\n        var maxHeight = Math.min(cHeight, height);\r\n        var ratio = Math.min(maxWidth / width, maxHeight / height);\r\n        return { width: width * ratio, height: height * ratio };\r\n    },\r\n    /**\r\n     * @desc Get transform value based on the imageSize. Used for ZoomFromOrigin option\r\n     * @param {jQuery Element}\r\n     * @returns {String} Transform CSS string\r\n     */\r\n    getTransform: function (el, container, top, bottom, imageSize) {\r\n        if (!imageSize) {\r\n            return;\r\n        }\r\n        var LGel = $LG(el).find('img').first();\r\n        if (!LGel.get()) {\r\n            return;\r\n        }\r\n        var containerRect = container.get().getBoundingClientRect();\r\n        var wWidth = containerRect.width;\r\n        // using innerWidth to include mobile safari bottom bar\r\n        var wHeight = container.height() - (top + bottom);\r\n        var elWidth = LGel.width();\r\n        var elHeight = LGel.height();\r\n        var elStyle = LGel.style();\r\n        var x = (wWidth - elWidth) / 2 -\r\n            LGel.offset().left +\r\n            (parseFloat(elStyle.paddingLeft) || 0) +\r\n            (parseFloat(elStyle.borderLeft) || 0) +\r\n            $LG(window).scrollLeft() +\r\n            containerRect.left;\r\n        var y = (wHeight - elHeight) / 2 -\r\n            LGel.offset().top +\r\n            (parseFloat(elStyle.paddingTop) || 0) +\r\n            (parseFloat(elStyle.borderTop) || 0) +\r\n            $LG(window).scrollTop() +\r\n            top;\r\n        var scX = elWidth / imageSize.width;\r\n        var scY = elHeight / imageSize.height;\r\n        var transform = 'translate3d(' +\r\n            (x *= -1) +\r\n            'px, ' +\r\n            (y *= -1) +\r\n            'px, 0) scale3d(' +\r\n            scX +\r\n            ', ' +\r\n            scY +\r\n            ', 1)';\r\n        return transform;\r\n    },\r\n    getIframeMarkup: function (iframeWidth, iframeHeight, iframeMaxWidth, iframeMaxHeight, src, iframeTitle) {\r\n        var title = iframeTitle ? 'title=\"' + iframeTitle + '\"' : '';\r\n        return \"<div class=\\\"lg-video-cont lg-has-iframe\\\" style=\\\"width:\" + iframeWidth + \"; max-width:\" + iframeMaxWidth + \"; height: \" + iframeHeight + \"; max-height:\" + iframeMaxHeight + \"\\\">\\n                    <iframe class=\\\"lg-object\\\" frameborder=\\\"0\\\" \" + title + \" src=\\\"\" + src + \"\\\"  allowfullscreen=\\\"true\\\"></iframe>\\n                </div>\";\r\n    },\r\n    getImgMarkup: function (index, src, altAttr, srcset, sizes, sources) {\r\n        var srcsetAttr = srcset ? \"srcset=\\\"\" + srcset + \"\\\"\" : '';\r\n        var sizesAttr = sizes ? \"sizes=\\\"\" + sizes + \"\\\"\" : '';\r\n        var imgMarkup = \"<img \" + altAttr + \" \" + srcsetAttr + \"  \" + sizesAttr + \" class=\\\"lg-object lg-image\\\" data-index=\\\"\" + index + \"\\\" src=\\\"\" + src + \"\\\" />\";\r\n        var sourceTag = '';\r\n        if (sources) {\r\n            var sourceObj = typeof sources === 'string' ? JSON.parse(sources) : sources;\r\n            sourceTag = sourceObj.map(function (source) {\r\n                var attrs = '';\r\n                Object.keys(source).forEach(function (key) {\r\n                    // Do not remove the first space as it is required to separate the attributes\r\n                    attrs += \" \" + key + \"=\\\"\" + source[key] + \"\\\"\";\r\n                });\r\n                return \"<source \" + attrs + \"></source>\";\r\n            });\r\n        }\r\n        return \"\" + sourceTag + imgMarkup;\r\n    },\r\n    // Get src from responsive src\r\n    getResponsiveSrc: function (srcItms) {\r\n        var rsWidth = [];\r\n        var rsSrc = [];\r\n        var src = '';\r\n        for (var i = 0; i < srcItms.length; i++) {\r\n            var _src = srcItms[i].split(' ');\r\n            // Manage empty space\r\n            if (_src[0] === '') {\r\n                _src.splice(0, 1);\r\n            }\r\n            rsSrc.push(_src[0]);\r\n            rsWidth.push(_src[1]);\r\n        }\r\n        var wWidth = window.innerWidth;\r\n        for (var j = 0; j < rsWidth.length; j++) {\r\n            if (parseInt(rsWidth[j], 10) > wWidth) {\r\n                src = rsSrc[j];\r\n                break;\r\n            }\r\n        }\r\n        return src;\r\n    },\r\n    isImageLoaded: function (img) {\r\n        if (!img)\r\n            return false;\r\n        // During the onload event, IE correctly identifies any images that\r\n        // werent downloaded as not complete. Others should too. Gecko-based\r\n        // browsers act like NS4 in that they report this incorrectly.\r\n        if (!img.complete) {\r\n            return false;\r\n        }\r\n        // However, they do have two very useful properties: naturalWidth and\r\n        // naturalHeight. These give the true size of the image. If it failed\r\n        // to load, either of these should be zero.\r\n        if (img.naturalWidth === 0) {\r\n            return false;\r\n        }\r\n        // No other way of checking: assume its ok.\r\n        return true;\r\n    },\r\n    getVideoPosterMarkup: function (_poster, dummyImg, videoContStyle, playVideoString, _isVideo) {\r\n        var videoClass = '';\r\n        if (_isVideo && _isVideo.youtube) {\r\n            videoClass = 'lg-has-youtube';\r\n        }\r\n        else if (_isVideo && _isVideo.vimeo) {\r\n            videoClass = 'lg-has-vimeo';\r\n        }\r\n        else {\r\n            videoClass = 'lg-has-html5';\r\n        }\r\n        return \"<div class=\\\"lg-video-cont \" + videoClass + \"\\\" style=\\\"\" + videoContStyle + \"\\\">\\n                <div class=\\\"lg-video-play-button\\\">\\n                <svg\\n                    viewBox=\\\"0 0 20 20\\\"\\n                    preserveAspectRatio=\\\"xMidYMid\\\"\\n                    focusable=\\\"false\\\"\\n                    aria-labelledby=\\\"\" + playVideoString + \"\\\"\\n                    role=\\\"img\\\"\\n                    class=\\\"lg-video-play-icon\\\"\\n                >\\n                    <title>\" + playVideoString + \"</title>\\n                    <polygon class=\\\"lg-video-play-icon-inner\\\" points=\\\"1,0 20,10 1,20\\\"></polygon>\\n                </svg>\\n                <svg class=\\\"lg-video-play-icon-bg\\\" viewBox=\\\"0 0 50 50\\\" focusable=\\\"false\\\">\\n                    <circle cx=\\\"50%\\\" cy=\\\"50%\\\" r=\\\"20\\\"></circle></svg>\\n                <svg class=\\\"lg-video-play-icon-circle\\\" viewBox=\\\"0 0 50 50\\\" focusable=\\\"false\\\">\\n                    <circle cx=\\\"50%\\\" cy=\\\"50%\\\" r=\\\"20\\\"></circle>\\n                </svg>\\n            </div>\\n            \" + (dummyImg || '') + \"\\n            <img class=\\\"lg-object lg-video-poster\\\" src=\\\"\" + _poster + \"\\\" />\\n        </div>\";\r\n    },\r\n    getFocusableElements: function (container) {\r\n        var elements = container.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])');\r\n        var visibleElements = [].filter.call(elements, function (element) {\r\n            var style = window.getComputedStyle(element);\r\n            return style.display !== 'none' && style.visibility !== 'hidden';\r\n        });\r\n        return visibleElements;\r\n    },\r\n    /**\r\n     * @desc Create dynamic elements array from gallery items when dynamic option is false\r\n     * It helps to avoid frequent DOM interaction\r\n     * and avoid multiple checks for dynamic elments\r\n     *\r\n     * @returns {Array} dynamicEl\r\n     */\r\n    getDynamicOptions: function (items, extraProps, getCaptionFromTitleOrAlt, exThumbImage) {\r\n        var dynamicElements = [];\r\n        var availableDynamicOptions = __spreadArrays(defaultDynamicOptions, extraProps);\r\n        [].forEach.call(items, function (item) {\r\n            var dynamicEl = {};\r\n            for (var i = 0; i < item.attributes.length; i++) {\r\n                var attr = item.attributes[i];\r\n                if (attr.specified) {\r\n                    var dynamicAttr = convertToData(attr.name);\r\n                    var label = '';\r\n                    if (availableDynamicOptions.indexOf(dynamicAttr) > -1) {\r\n                        label = dynamicAttr;\r\n                    }\r\n                    if (label) {\r\n                        dynamicEl[label] = attr.value;\r\n                    }\r\n                }\r\n            }\r\n            var currentItem = $LG(item);\r\n            var alt = currentItem.find('img').first().attr('alt');\r\n            var title = currentItem.attr('title');\r\n            var thumb = exThumbImage\r\n                ? currentItem.attr(exThumbImage)\r\n                : currentItem.find('img').first().attr('src');\r\n            dynamicEl.thumb = thumb;\r\n            if (getCaptionFromTitleOrAlt && !dynamicEl.subHtml) {\r\n                dynamicEl.subHtml = title || alt || '';\r\n            }\r\n            dynamicEl.alt = alt || title || '';\r\n            dynamicElements.push(dynamicEl);\r\n        });\r\n        return dynamicElements;\r\n    },\r\n    isMobile: function () {\r\n        return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n    },\r\n    /**\r\n     * @desc Check the given src is video\r\n     * @param {String} src\r\n     * @return {Object} video type\r\n     * Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\r\n     *\r\n     * @todo - this information can be moved to dynamicEl to avoid frequent calls\r\n     */\r\n    isVideo: function (src, isHTML5VIdeo, index) {\r\n        if (!src) {\r\n            if (isHTML5VIdeo) {\r\n                return {\r\n                    html5: true,\r\n                };\r\n            }\r\n            else {\r\n                console.error('lightGallery :- data-src is not provided on slide item ' +\r\n                    (index + 1) +\r\n                    '. Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/');\r\n                return;\r\n            }\r\n        }\r\n        var youtube = src.match(/\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)([\\&|?][\\S]*)*/i);\r\n        var vimeo = src.match(/\\/\\/(?:www\\.)?(?:player\\.)?vimeo.com\\/(?:video\\/)?([0-9a-z\\-_]+)(.*)?/i);\r\n        var wistia = src.match(/https?:\\/\\/(.+)?(wistia\\.com|wi\\.st)\\/(medias|embed)\\/([0-9a-z\\-_]+)(.*)/);\r\n        if (youtube) {\r\n            return {\r\n                youtube: youtube,\r\n            };\r\n        }\r\n        else if (vimeo) {\r\n            return {\r\n                vimeo: vimeo,\r\n            };\r\n        }\r\n        else if (wistia) {\r\n            return {\r\n                wistia: wistia,\r\n            };\r\n        }\r\n    },\r\n};\n\n// @ref - https://stackoverflow.com/questions/3971841/how-to-resize-images-proportionally-keeping-the-aspect-ratio\r\n// @ref - https://2ality.com/2017/04/setting-up-multi-platform-packages.html\r\n// Unique id for each gallery\r\nvar lgId = 0;\r\nvar LightGallery = /** @class */ (function () {\r\n    function LightGallery(element, options) {\r\n        this.lgOpened = false;\r\n        this.index = 0;\r\n        // lightGallery modules\r\n        this.plugins = [];\r\n        // false when lightGallery load first slide content;\r\n        this.lGalleryOn = false;\r\n        // True when a slide animation is in progress\r\n        this.lgBusy = false;\r\n        this.currentItemsInDom = [];\r\n        // Scroll top value before lightGallery is opened\r\n        this.prevScrollTop = 0;\r\n        this.bodyPaddingRight = 0;\r\n        this.isDummyImageRemoved = false;\r\n        this.dragOrSwipeEnabled = false;\r\n        this.mediaContainerPosition = {\r\n            top: 0,\r\n            bottom: 0,\r\n        };\r\n        if (!element) {\r\n            return this;\r\n        }\r\n        lgId++;\r\n        this.lgId = lgId;\r\n        this.el = element;\r\n        this.LGel = $LG(element);\r\n        this.generateSettings(options);\r\n        this.buildModules();\r\n        // When using dynamic mode, ensure dynamicEl is an array\r\n        if (this.settings.dynamic &&\r\n            this.settings.dynamicEl !== undefined &&\r\n            !Array.isArray(this.settings.dynamicEl)) {\r\n            throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\r\n        }\r\n        this.galleryItems = this.getItems();\r\n        this.normalizeSettings();\r\n        // Gallery items\r\n        this.init();\r\n        this.validateLicense();\r\n        return this;\r\n    }\r\n    LightGallery.prototype.generateSettings = function (options) {\r\n        // lightGallery settings\r\n        this.settings = __assign(__assign({}, lightGalleryCoreSettings), options);\r\n        if (this.settings.isMobile &&\r\n            typeof this.settings.isMobile === 'function'\r\n            ? this.settings.isMobile()\r\n            : utils.isMobile()) {\r\n            var mobileSettings = __assign(__assign({}, this.settings.mobileSettings), this.settings.mobileSettings);\r\n            this.settings = __assign(__assign({}, this.settings), mobileSettings);\r\n        }\r\n    };\r\n    LightGallery.prototype.normalizeSettings = function () {\r\n        if (this.settings.slideEndAnimation) {\r\n            this.settings.hideControlOnEnd = false;\r\n        }\r\n        if (!this.settings.closable) {\r\n            this.settings.swipeToClose = false;\r\n        }\r\n        // And reset it on close to get the correct value next time\r\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\r\n        // At the moment, Zoom from image doesn't support dynamic options\r\n        // @todo add zoomFromOrigin support for dynamic images\r\n        if (this.settings.dynamic) {\r\n            this.zoomFromOrigin = false;\r\n        }\r\n        if (!this.settings.container) {\r\n            this.settings.container = document.body;\r\n        }\r\n        // settings.preload should not be grater than $item.length\r\n        this.settings.preload = Math.min(this.settings.preload, this.galleryItems.length);\r\n    };\r\n    LightGallery.prototype.init = function () {\r\n        var _this = this;\r\n        this.addSlideVideoInfo(this.galleryItems);\r\n        this.buildStructure();\r\n        this.LGel.trigger(lGEvents.init, {\r\n            instance: this,\r\n        });\r\n        if (this.settings.keyPress) {\r\n            this.keyPress();\r\n        }\r\n        setTimeout(function () {\r\n            _this.enableDrag();\r\n            _this.enableSwipe();\r\n            _this.triggerPosterClick();\r\n        }, 50);\r\n        this.arrow();\r\n        if (this.settings.mousewheel) {\r\n            this.mousewheel();\r\n        }\r\n        if (!this.settings.dynamic) {\r\n            this.openGalleryOnItemClick();\r\n        }\r\n    };\r\n    LightGallery.prototype.openGalleryOnItemClick = function () {\r\n        var _this = this;\r\n        var _loop_1 = function (index) {\r\n            var element = this_1.items[index];\r\n            var $element = $LG(element);\r\n            // Using different namespace for click because click event should not unbind if selector is same object('this')\r\n            // @todo manage all event listners - should have namespace that represent element\r\n            var uuid = lgQuery.generateUUID();\r\n            $element\r\n                .attr('data-lg-id', uuid)\r\n                .on(\"click.lgcustom-item-\" + uuid, function (e) {\r\n                e.preventDefault();\r\n                var currentItemIndex = _this.settings.index || index;\r\n                _this.openGallery(currentItemIndex, element);\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        // Using for loop instead of using bubbling as the items can be any html element.\r\n        for (var index = 0; index < this.items.length; index++) {\r\n            _loop_1(index);\r\n        }\r\n    };\r\n    /**\r\n     * Module constructor\r\n     * Modules are build incrementally.\r\n     * Gallery should be opened only once all the modules are initialized.\r\n     * use moduleBuildTimeout to make sure this\r\n     */\r\n    LightGallery.prototype.buildModules = function () {\r\n        var _this = this;\r\n        this.settings.plugins.forEach(function (plugin) {\r\n            _this.plugins.push(new plugin(_this, $LG));\r\n        });\r\n    };\r\n    LightGallery.prototype.validateLicense = function () {\r\n        if (!this.settings.licenseKey) {\r\n            console.error('Please provide a valid license key');\r\n        }\r\n        else if (this.settings.licenseKey === '0000-0000-000-0000') {\r\n            console.warn(\"lightGallery: \" + this.settings.licenseKey + \" license key is not valid for production use\");\r\n        }\r\n    };\r\n    LightGallery.prototype.getSlideItem = function (index) {\r\n        return $LG(this.getSlideItemId(index));\r\n    };\r\n    LightGallery.prototype.getSlideItemId = function (index) {\r\n        return \"#lg-item-\" + this.lgId + \"-\" + index;\r\n    };\r\n    LightGallery.prototype.getIdName = function (id) {\r\n        return id + \"-\" + this.lgId;\r\n    };\r\n    LightGallery.prototype.getElementById = function (id) {\r\n        return $LG(\"#\" + this.getIdName(id));\r\n    };\r\n    LightGallery.prototype.manageSingleSlideClassName = function () {\r\n        if (this.galleryItems.length < 2) {\r\n            this.outer.addClass('lg-single-item');\r\n        }\r\n        else {\r\n            this.outer.removeClass('lg-single-item');\r\n        }\r\n    };\r\n    LightGallery.prototype.buildStructure = function () {\r\n        var _this = this;\r\n        var container = this.$container && this.$container.get();\r\n        if (container) {\r\n            return;\r\n        }\r\n        var controls = '';\r\n        var subHtmlCont = '';\r\n        // Create controls\r\n        if (this.settings.controls) {\r\n            controls = \"<button type=\\\"button\\\" id=\\\"\" + this.getIdName('lg-prev') + \"\\\" aria-label=\\\"\" + this.settings.strings['previousSlide'] + \"\\\" class=\\\"lg-prev lg-icon\\\"> \" + this.settings.prevHtml + \" </button>\\n                <button type=\\\"button\\\" id=\\\"\" + this.getIdName('lg-next') + \"\\\" aria-label=\\\"\" + this.settings.strings['nextSlide'] + \"\\\" class=\\\"lg-next lg-icon\\\"> \" + this.settings.nextHtml + \" </button>\";\r\n        }\r\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\r\n            subHtmlCont =\r\n                '<div class=\"lg-sub-html\" role=\"status\" aria-live=\"polite\"></div>';\r\n        }\r\n        var addClasses = '';\r\n        if (this.settings.allowMediaOverlap) {\r\n            // Do not remove space before last single quote\r\n            addClasses += 'lg-media-overlap ';\r\n        }\r\n        var ariaLabelledby = this.settings.ariaLabelledby\r\n            ? 'aria-labelledby=\"' + this.settings.ariaLabelledby + '\"'\r\n            : '';\r\n        var ariaDescribedby = this.settings.ariaDescribedby\r\n            ? 'aria-describedby=\"' + this.settings.ariaDescribedby + '\"'\r\n            : '';\r\n        var containerClassName = \"lg-container \" + this.settings.addClass + \" \" + (document.body !== this.settings.container ? 'lg-inline' : '');\r\n        var closeIcon = this.settings.closable && this.settings.showCloseIcon\r\n            ? \"<button type=\\\"button\\\" aria-label=\\\"\" + this.settings.strings['closeGallery'] + \"\\\" id=\\\"\" + this.getIdName('lg-close') + \"\\\" class=\\\"lg-close lg-icon\\\"></button>\"\r\n            : '';\r\n        var maximizeIcon = this.settings.showMaximizeIcon\r\n            ? \"<button type=\\\"button\\\" aria-label=\\\"\" + this.settings.strings['toggleMaximize'] + \"\\\" id=\\\"\" + this.getIdName('lg-maximize') + \"\\\" class=\\\"lg-maximize lg-icon\\\"></button>\"\r\n            : '';\r\n        var template = \"\\n        <div class=\\\"\" + containerClassName + \"\\\" id=\\\"\" + this.getIdName('lg-container') + \"\\\" tabindex=\\\"-1\\\" aria-modal=\\\"true\\\" \" + ariaLabelledby + \" \" + ariaDescribedby + \" role=\\\"dialog\\\"\\n        >\\n            <div id=\\\"\" + this.getIdName('lg-backdrop') + \"\\\" class=\\\"lg-backdrop\\\"></div>\\n\\n            <div id=\\\"\" + this.getIdName('lg-outer') + \"\\\" class=\\\"lg-outer lg-use-css3 lg-css3 lg-hide-items \" + addClasses + \" \\\">\\n\\n              <div id=\\\"\" + this.getIdName('lg-content') + \"\\\" class=\\\"lg-content\\\">\\n                <div id=\\\"\" + this.getIdName('lg-inner') + \"\\\" class=\\\"lg-inner\\\">\\n                </div>\\n                \" + controls + \"\\n              </div>\\n                <div id=\\\"\" + this.getIdName('lg-toolbar') + \"\\\" class=\\\"lg-toolbar lg-group\\\">\\n                    \" + maximizeIcon + \"\\n                    \" + closeIcon + \"\\n                    </div>\\n                    \" + (this.settings.appendSubHtmlTo === '.lg-outer'\r\n            ? subHtmlCont\r\n            : '') + \"\\n                <div id=\\\"\" + this.getIdName('lg-components') + \"\\\" class=\\\"lg-components\\\">\\n                    \" + (this.settings.appendSubHtmlTo === '.lg-sub-html'\r\n            ? subHtmlCont\r\n            : '') + \"\\n                </div>\\n            </div>\\n        </div>\\n        \";\r\n        $LG(this.settings.container).append(template);\r\n        if (document.body !== this.settings.container) {\r\n            $LG(this.settings.container).css('position', 'relative');\r\n        }\r\n        this.outer = this.getElementById('lg-outer');\r\n        this.$lgComponents = this.getElementById('lg-components');\r\n        this.$backdrop = this.getElementById('lg-backdrop');\r\n        this.$container = this.getElementById('lg-container');\r\n        this.$inner = this.getElementById('lg-inner');\r\n        this.$content = this.getElementById('lg-content');\r\n        this.$toolbar = this.getElementById('lg-toolbar');\r\n        this.$backdrop.css('transition-duration', this.settings.backdropDuration + 'ms');\r\n        var outerClassNames = this.settings.mode + \" \";\r\n        this.manageSingleSlideClassName();\r\n        if (this.settings.enableDrag) {\r\n            outerClassNames += 'lg-grab ';\r\n        }\r\n        this.outer.addClass(outerClassNames);\r\n        this.$inner.css('transition-timing-function', this.settings.easing);\r\n        this.$inner.css('transition-duration', this.settings.speed + 'ms');\r\n        if (this.settings.download) {\r\n            this.$toolbar.append(\"<a id=\\\"\" + this.getIdName('lg-download') + \"\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" aria-label=\\\"\" + this.settings.strings['download'] + \"\\\" download class=\\\"lg-download lg-icon\\\"></a>\");\r\n        }\r\n        this.counter();\r\n        $LG(window).on(\"resize.lg.global\" + this.lgId + \" orientationchange.lg.global\" + this.lgId, function () {\r\n            _this.refreshOnResize();\r\n        });\r\n        this.hideBars();\r\n        this.manageCloseGallery();\r\n        this.toggleMaximize();\r\n        this.initModules();\r\n    };\r\n    LightGallery.prototype.refreshOnResize = function () {\r\n        if (this.lgOpened) {\r\n            var currentGalleryItem = this.galleryItems[this.index];\r\n            var __slideVideoInfo = currentGalleryItem.__slideVideoInfo;\r\n            this.mediaContainerPosition = this.getMediaContainerPosition();\r\n            var _a = this.mediaContainerPosition, top_1 = _a.top, bottom = _a.bottom;\r\n            this.currentImageSize = utils.getSize(this.items[this.index], this.outer, top_1 + bottom, __slideVideoInfo && this.settings.videoMaxSize);\r\n            if (__slideVideoInfo) {\r\n                this.resizeVideoSlide(this.index, this.currentImageSize);\r\n            }\r\n            if (this.zoomFromOrigin && !this.isDummyImageRemoved) {\r\n                var imgStyle = this.getDummyImgStyles(this.currentImageSize);\r\n                this.outer\r\n                    .find('.lg-current .lg-dummy-img')\r\n                    .first()\r\n                    .attr('style', imgStyle);\r\n            }\r\n            this.LGel.trigger(lGEvents.containerResize);\r\n        }\r\n    };\r\n    LightGallery.prototype.resizeVideoSlide = function (index, imageSize) {\r\n        var lgVideoStyle = this.getVideoContStyle(imageSize);\r\n        var currentSlide = this.getSlideItem(index);\r\n        currentSlide.find('.lg-video-cont').attr('style', lgVideoStyle);\r\n    };\r\n    /**\r\n     * Update slides dynamically.\r\n     * Add, edit or delete slides dynamically when lightGallery is opened.\r\n     * Modify the current gallery items and pass it via updateSlides method\r\n     * @note\r\n     * - Do not mutate existing lightGallery items directly.\r\n     * - Always pass new list of gallery items\r\n     * - You need to take care of thumbnails outside the gallery if any\r\n     * - user this method only if you want to update slides when the gallery is opened. Otherwise, use `refresh()` method.\r\n     * @param items Gallery items\r\n     * @param index After the update operation, which slide gallery should navigate to\r\n     * @category lGPublicMethods\r\n     * @example\r\n     * const plugin = lightGallery();\r\n     *\r\n     * // Adding slides dynamically\r\n     * let galleryItems = [\r\n     * // Access existing lightGallery items\r\n     * // galleryItems are automatically generated internally from the gallery HTML markup\r\n     * // or directly from galleryItems when dynamic gallery is used\r\n     *   ...plugin.galleryItems,\r\n     *     ...[\r\n     *       {\r\n     *         src: 'img/img-1.png',\r\n     *           thumb: 'img/thumb1.png',\r\n     *         },\r\n     *     ],\r\n     *   ];\r\n     *   plugin.updateSlides(\r\n     *     galleryItems,\r\n     *     plugin.index,\r\n     *   );\r\n     *\r\n     *\r\n     * // Remove slides dynamically\r\n     * galleryItems = JSON.parse(\r\n     *   JSON.stringify(updateSlideInstance.galleryItems),\r\n     * );\r\n     * galleryItems.shift();\r\n     * updateSlideInstance.updateSlides(galleryItems, 1);\r\n     * @see <a href=\"/demos/update-slides/\">Demo</a>\r\n     */\r\n    LightGallery.prototype.updateSlides = function (items, index) {\r\n        if (this.index > items.length - 1) {\r\n            this.index = items.length - 1;\r\n        }\r\n        if (items.length === 1) {\r\n            this.index = 0;\r\n        }\r\n        if (!items.length) {\r\n            this.closeGallery();\r\n            return;\r\n        }\r\n        var currentSrc = this.galleryItems[index].src;\r\n        this.galleryItems = items;\r\n        this.updateControls();\r\n        this.$inner.empty();\r\n        this.currentItemsInDom = [];\r\n        var _index = 0;\r\n        // Find the current index based on source value of the slide\r\n        this.galleryItems.some(function (galleryItem, itemIndex) {\r\n            if (galleryItem.src === currentSrc) {\r\n                _index = itemIndex;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        this.currentItemsInDom = this.organizeSlideItems(_index, -1);\r\n        this.loadContent(_index, true);\r\n        this.getSlideItem(_index).addClass('lg-current');\r\n        this.index = _index;\r\n        this.updateCurrentCounter(_index);\r\n        this.LGel.trigger(lGEvents.updateSlides);\r\n    };\r\n    // Get gallery items based on multiple conditions\r\n    LightGallery.prototype.getItems = function () {\r\n        // Gallery items\r\n        this.items = [];\r\n        if (!this.settings.dynamic) {\r\n            if (this.settings.selector === 'this') {\r\n                this.items.push(this.el);\r\n            }\r\n            else if (this.settings.selector) {\r\n                if (typeof this.settings.selector === 'string') {\r\n                    if (this.settings.selectWithin) {\r\n                        var selectWithin = $LG(this.settings.selectWithin);\r\n                        this.items = selectWithin\r\n                            .find(this.settings.selector)\r\n                            .get();\r\n                    }\r\n                    else {\r\n                        this.items = this.el.querySelectorAll(this.settings.selector);\r\n                    }\r\n                }\r\n                else {\r\n                    this.items = this.settings.selector;\r\n                }\r\n            }\r\n            else {\r\n                this.items = this.el.children;\r\n            }\r\n            return utils.getDynamicOptions(this.items, this.settings.extraProps, this.settings.getCaptionFromTitleOrAlt, this.settings.exThumbImage);\r\n        }\r\n        else {\r\n            return this.settings.dynamicEl || [];\r\n        }\r\n    };\r\n    LightGallery.prototype.shouldHideScrollbar = function () {\r\n        return (this.settings.hideScrollbar &&\r\n            document.body === this.settings.container);\r\n    };\r\n    LightGallery.prototype.hideScrollbar = function () {\r\n        if (!this.shouldHideScrollbar()) {\r\n            return;\r\n        }\r\n        this.bodyPaddingRight = parseFloat($LG('body').style().paddingRight);\r\n        var bodyRect = document.documentElement.getBoundingClientRect();\r\n        var scrollbarWidth = window.innerWidth - bodyRect.width;\r\n        $LG(document.body).css('padding-right', scrollbarWidth + this.bodyPaddingRight + 'px');\r\n        $LG(document.body).addClass('lg-overlay-open');\r\n    };\r\n    LightGallery.prototype.resetScrollBar = function () {\r\n        if (!this.shouldHideScrollbar()) {\r\n            return;\r\n        }\r\n        $LG(document.body).css('padding-right', this.bodyPaddingRight + 'px');\r\n        $LG(document.body).removeClass('lg-overlay-open');\r\n    };\r\n    /**\r\n     * Open lightGallery.\r\n     * Open gallery with specific slide by passing index of the slide as parameter.\r\n     * @category lGPublicMethods\r\n     * @param {Number} index  - index of the slide\r\n     * @param {HTMLElement} element - Which image lightGallery should zoom from\r\n     *\r\n     * @example\r\n     * const $dynamicGallery = document.getElementById('dynamic-gallery-demo');\r\n     * const dynamicGallery = lightGallery($dynamicGallery, {\r\n     *     dynamic: true,\r\n     *     dynamicEl: [\r\n     *         {\r\n     *              src: 'img/1.jpg',\r\n     *              thumb: 'img/thumb-1.jpg',\r\n     *              subHtml: '<h4>Image 1 title</h4><p>Image 1 descriptions.</p>',\r\n     *         },\r\n     *         ...\r\n     *     ],\r\n     * });\r\n     * $dynamicGallery.addEventListener('click', function () {\r\n     *     // Starts with third item.(Optional).\r\n     *     // This is useful if you want use dynamic mode with\r\n     *     // custom thumbnails (thumbnails outside gallery),\r\n     *     dynamicGallery.openGallery(2);\r\n     * });\r\n     *\r\n     */\r\n    LightGallery.prototype.openGallery = function (index, element) {\r\n        var _this = this;\r\n        if (index === void 0) { index = this.settings.index; }\r\n        // prevent accidental double execution\r\n        if (this.lgOpened)\r\n            return;\r\n        this.lgOpened = true;\r\n        this.outer.removeClass('lg-hide-items');\r\n        this.hideScrollbar();\r\n        // Add display block, but still has opacity 0\r\n        this.$container.addClass('lg-show');\r\n        var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, index);\r\n        this.currentItemsInDom = itemsToBeInsertedToDom;\r\n        var items = '';\r\n        itemsToBeInsertedToDom.forEach(function (item) {\r\n            items = items + (\"<div id=\\\"\" + item + \"\\\" class=\\\"lg-item\\\"></div>\");\r\n        });\r\n        this.$inner.append(items);\r\n        this.addHtml(index);\r\n        var transform = '';\r\n        this.mediaContainerPosition = this.getMediaContainerPosition();\r\n        var _a = this.mediaContainerPosition, top = _a.top, bottom = _a.bottom;\r\n        if (!this.settings.allowMediaOverlap) {\r\n            this.setMediaContainerPosition(top, bottom);\r\n        }\r\n        var __slideVideoInfo = this.galleryItems[index].__slideVideoInfo;\r\n        if (this.zoomFromOrigin && element) {\r\n            this.currentImageSize = utils.getSize(element, this.outer, top + bottom, __slideVideoInfo && this.settings.videoMaxSize);\r\n            transform = utils.getTransform(element, this.outer, top, bottom, this.currentImageSize);\r\n        }\r\n        if (!this.zoomFromOrigin || !transform) {\r\n            this.outer.addClass(this.settings.startClass);\r\n            this.getSlideItem(index).removeClass('lg-complete');\r\n        }\r\n        var timeout = this.settings.zoomFromOrigin\r\n            ? 100\r\n            : this.settings.backdropDuration;\r\n        setTimeout(function () {\r\n            _this.outer.addClass('lg-components-open');\r\n        }, timeout);\r\n        this.index = index;\r\n        this.LGel.trigger(lGEvents.beforeOpen);\r\n        // add class lg-current to remove initial transition\r\n        this.getSlideItem(index).addClass('lg-current');\r\n        this.lGalleryOn = false;\r\n        // Store the current scroll top value to scroll back after closing the gallery..\r\n        this.prevScrollTop = $LG(window).scrollTop();\r\n        setTimeout(function () {\r\n            // Need to check both zoomFromOrigin and transform values as we need to set set the\r\n            // default opening animation if user missed to add the lg-size attribute\r\n            if (_this.zoomFromOrigin && transform) {\r\n                var currentSlide_1 = _this.getSlideItem(index);\r\n                currentSlide_1.css('transform', transform);\r\n                setTimeout(function () {\r\n                    currentSlide_1\r\n                        .addClass('lg-start-progress lg-start-end-progress')\r\n                        .css('transition-duration', _this.settings.startAnimationDuration + 'ms');\r\n                    _this.outer.addClass('lg-zoom-from-image');\r\n                });\r\n                setTimeout(function () {\r\n                    currentSlide_1.css('transform', 'translate3d(0, 0, 0)');\r\n                }, 100);\r\n            }\r\n            setTimeout(function () {\r\n                _this.$backdrop.addClass('in');\r\n                _this.$container.addClass('lg-show-in');\r\n            }, 10);\r\n            setTimeout(function () {\r\n                if (_this.settings.trapFocus &&\r\n                    document.body === _this.settings.container) {\r\n                    _this.trapFocus();\r\n                }\r\n            }, _this.settings.backdropDuration + 50);\r\n            // lg-visible class resets gallery opacity to 1\r\n            if (!_this.zoomFromOrigin || !transform) {\r\n                setTimeout(function () {\r\n                    _this.outer.addClass('lg-visible');\r\n                }, _this.settings.backdropDuration);\r\n            }\r\n            // initiate slide function\r\n            _this.slide(index, false, false, false);\r\n            _this.LGel.trigger(lGEvents.afterOpen);\r\n        });\r\n        if (document.body === this.settings.container) {\r\n            $LG('html').addClass('lg-on');\r\n        }\r\n    };\r\n    /**\r\n     * Note - Changing the position of the media on every slide transition creates a flickering effect.\r\n     * Therefore,The height of the caption is calculated dynamically, only once based on the first slide caption.\r\n     * if you have dynamic captions for each media,\r\n     * you can provide an appropriate height for the captions via allowMediaOverlap option\r\n     */\r\n    LightGallery.prototype.getMediaContainerPosition = function () {\r\n        if (this.settings.allowMediaOverlap) {\r\n            return {\r\n                top: 0,\r\n                bottom: 0,\r\n            };\r\n        }\r\n        var top = this.$toolbar.get().clientHeight || 0;\r\n        var subHtml = this.outer.find('.lg-components .lg-sub-html').get();\r\n        var captionHeight = this.settings.defaultCaptionHeight ||\r\n            (subHtml && subHtml.clientHeight) ||\r\n            0;\r\n        var thumbContainer = this.outer.find('.lg-thumb-outer').get();\r\n        var thumbHeight = thumbContainer ? thumbContainer.clientHeight : 0;\r\n        var bottom = thumbHeight + captionHeight;\r\n        return {\r\n            top: top,\r\n            bottom: bottom,\r\n        };\r\n    };\r\n    LightGallery.prototype.setMediaContainerPosition = function (top, bottom) {\r\n        if (top === void 0) { top = 0; }\r\n        if (bottom === void 0) { bottom = 0; }\r\n        this.$content.css('top', top + 'px').css('bottom', bottom + 'px');\r\n    };\r\n    LightGallery.prototype.hideBars = function () {\r\n        var _this = this;\r\n        // Hide controllers if mouse doesn't move for some period\r\n        setTimeout(function () {\r\n            _this.outer.removeClass('lg-hide-items');\r\n            if (_this.settings.hideBarsDelay > 0) {\r\n                _this.outer.on('mousemove.lg click.lg touchstart.lg', function () {\r\n                    _this.outer.removeClass('lg-hide-items');\r\n                    clearTimeout(_this.hideBarTimeout);\r\n                    // Timeout will be cleared on each slide movement also\r\n                    _this.hideBarTimeout = setTimeout(function () {\r\n                        _this.outer.addClass('lg-hide-items');\r\n                    }, _this.settings.hideBarsDelay);\r\n                });\r\n                _this.outer.trigger('mousemove.lg');\r\n            }\r\n        }, this.settings.showBarsAfter);\r\n    };\r\n    LightGallery.prototype.initPictureFill = function ($img) {\r\n        if (this.settings.supportLegacyBrowser) {\r\n            try {\r\n                picturefill({\r\n                    elements: [$img.get()],\r\n                });\r\n            }\r\n            catch (e) {\r\n                console.warn('lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.');\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *  @desc Create image counter\r\n     *  Ex: 1/10\r\n     */\r\n    LightGallery.prototype.counter = function () {\r\n        if (this.settings.counter) {\r\n            var counterHtml = \"<div class=\\\"lg-counter\\\" role=\\\"status\\\" aria-live=\\\"polite\\\">\\n                <span id=\\\"\" + this.getIdName('lg-counter-current') + \"\\\" class=\\\"lg-counter-current\\\">\" + (this.index + 1) + \" </span> /\\n                <span id=\\\"\" + this.getIdName('lg-counter-all') + \"\\\" class=\\\"lg-counter-all\\\">\" + this.galleryItems.length + \" </span></div>\";\r\n            this.outer.find(this.settings.appendCounterTo).append(counterHtml);\r\n        }\r\n    };\r\n    /**\r\n     *  @desc add sub-html into the slide\r\n     *  @param {Number} index - index of the slide\r\n     */\r\n    LightGallery.prototype.addHtml = function (index) {\r\n        var subHtml;\r\n        var subHtmlUrl;\r\n        if (this.galleryItems[index].subHtmlUrl) {\r\n            subHtmlUrl = this.galleryItems[index].subHtmlUrl;\r\n        }\r\n        else {\r\n            subHtml = this.galleryItems[index].subHtml;\r\n        }\r\n        if (!subHtmlUrl) {\r\n            if (subHtml) {\r\n                // get first letter of sub-html\r\n                // if first letter starts with . or # get the html form the jQuery object\r\n                var fL = subHtml.substring(0, 1);\r\n                if (fL === '.' || fL === '#') {\r\n                    if (this.settings.subHtmlSelectorRelative &&\r\n                        !this.settings.dynamic) {\r\n                        subHtml = $LG(this.items)\r\n                            .eq(index)\r\n                            .find(subHtml)\r\n                            .first()\r\n                            .html();\r\n                    }\r\n                    else {\r\n                        subHtml = $LG(subHtml).first().html();\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                subHtml = '';\r\n            }\r\n        }\r\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\r\n            if (subHtmlUrl) {\r\n                this.outer.find('.lg-sub-html').load(subHtmlUrl);\r\n            }\r\n            else {\r\n                this.outer.find('.lg-sub-html').html(subHtml);\r\n            }\r\n        }\r\n        else {\r\n            var currentSlide = $LG(this.getSlideItemId(index));\r\n            if (subHtmlUrl) {\r\n                currentSlide.load(subHtmlUrl);\r\n            }\r\n            else {\r\n                currentSlide.append(\"<div class=\\\"lg-sub-html\\\">\" + subHtml + \"</div>\");\r\n            }\r\n        }\r\n        // Add lg-empty-html class if title doesn't exist\r\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\r\n            if (subHtml === '') {\r\n                this.outer\r\n                    .find(this.settings.appendSubHtmlTo)\r\n                    .addClass('lg-empty-html');\r\n            }\r\n            else {\r\n                this.outer\r\n                    .find(this.settings.appendSubHtmlTo)\r\n                    .removeClass('lg-empty-html');\r\n            }\r\n        }\r\n        this.LGel.trigger(lGEvents.afterAppendSubHtml, {\r\n            index: index,\r\n        });\r\n    };\r\n    /**\r\n     *  @desc Preload slides\r\n     *  @param {Number} index - index of the slide\r\n     * @todo preload not working for the first slide, Also, should work for the first and last slide as well\r\n     */\r\n    LightGallery.prototype.preload = function (index) {\r\n        for (var i = 1; i <= this.settings.preload; i++) {\r\n            if (i >= this.galleryItems.length - index) {\r\n                break;\r\n            }\r\n            this.loadContent(index + i, false);\r\n        }\r\n        for (var j = 1; j <= this.settings.preload; j++) {\r\n            if (index - j < 0) {\r\n                break;\r\n            }\r\n            this.loadContent(index - j, false);\r\n        }\r\n    };\r\n    LightGallery.prototype.getDummyImgStyles = function (imageSize) {\r\n        if (!imageSize)\r\n            return '';\r\n        return \"width:\" + imageSize.width + \"px;\\n                margin-left: -\" + imageSize.width / 2 + \"px;\\n                margin-top: -\" + imageSize.height / 2 + \"px;\\n                height:\" + imageSize.height + \"px\";\r\n    };\r\n    LightGallery.prototype.getVideoContStyle = function (imageSize) {\r\n        if (!imageSize)\r\n            return '';\r\n        return \"width:\" + imageSize.width + \"px;\\n                height:\" + imageSize.height + \"px\";\r\n    };\r\n    LightGallery.prototype.getDummyImageContent = function ($currentSlide, index, alt) {\r\n        var $currentItem;\r\n        if (!this.settings.dynamic) {\r\n            $currentItem = $LG(this.items).eq(index);\r\n        }\r\n        if ($currentItem) {\r\n            var _dummyImgSrc = void 0;\r\n            if (!this.settings.exThumbImage) {\r\n                _dummyImgSrc = $currentItem.find('img').first().attr('src');\r\n            }\r\n            else {\r\n                _dummyImgSrc = $currentItem.attr(this.settings.exThumbImage);\r\n            }\r\n            if (!_dummyImgSrc)\r\n                return '';\r\n            var imgStyle = this.getDummyImgStyles(this.currentImageSize);\r\n            var dummyImgContent = \"<img \" + alt + \" style=\\\"\" + imgStyle + \"\\\" class=\\\"lg-dummy-img\\\" src=\\\"\" + _dummyImgSrc + \"\\\" />\";\r\n            $currentSlide.addClass('lg-first-slide');\r\n            this.outer.addClass('lg-first-slide-loading');\r\n            return dummyImgContent;\r\n        }\r\n        return '';\r\n    };\r\n    LightGallery.prototype.setImgMarkup = function (src, $currentSlide, index) {\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        var alt = currentGalleryItem.alt, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;\r\n        // Use the thumbnail as dummy image which will be resized to actual image size and\r\n        // displayed on top of actual image\r\n        var imgContent = '';\r\n        var altAttr = alt ? 'alt=\"' + alt + '\"' : '';\r\n        if (this.isFirstSlideWithZoomAnimation()) {\r\n            imgContent = this.getDummyImageContent($currentSlide, index, altAttr);\r\n        }\r\n        else {\r\n            imgContent = utils.getImgMarkup(index, src, altAttr, srcset, sizes, sources);\r\n        }\r\n        var imgMarkup = \"<picture class=\\\"lg-img-wrap\\\"> \" + imgContent + \"</picture>\";\r\n        $currentSlide.prepend(imgMarkup);\r\n    };\r\n    LightGallery.prototype.onSlideObjectLoad = function ($slide, isHTML5VideoWithoutPoster, onLoad, onError) {\r\n        var mediaObject = $slide.find('.lg-object').first();\r\n        if (utils.isImageLoaded(mediaObject.get()) ||\r\n            isHTML5VideoWithoutPoster) {\r\n            onLoad();\r\n        }\r\n        else {\r\n            mediaObject.on('load.lg error.lg', function () {\r\n                onLoad && onLoad();\r\n            });\r\n            mediaObject.on('error.lg', function () {\r\n                onError && onError();\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param $el Current slide item\r\n     * @param index\r\n     * @param delay Delay is 0 except first time\r\n     * @param speed Speed is same as delay, except it is 0 if gallery is opened via hash plugin\r\n     * @param isFirstSlide\r\n     */\r\n    LightGallery.prototype.onLgObjectLoad = function (currentSlide, index, delay, speed, isFirstSlide, isHTML5VideoWithoutPoster) {\r\n        var _this = this;\r\n        this.onSlideObjectLoad(currentSlide, isHTML5VideoWithoutPoster, function () {\r\n            _this.triggerSlideItemLoad(currentSlide, index, delay, speed, isFirstSlide);\r\n        }, function () {\r\n            currentSlide.addClass('lg-complete lg-complete_');\r\n            currentSlide.html('<span class=\"lg-error-msg\">' +\r\n                _this.settings.strings['mediaLoadingFailed'] +\r\n                '</span>');\r\n        });\r\n    };\r\n    LightGallery.prototype.triggerSlideItemLoad = function ($currentSlide, index, delay, speed, isFirstSlide) {\r\n        var _this = this;\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        // Adding delay for video slides without poster for better performance and user experience\r\n        // Videos should start playing once once the gallery is completely loaded\r\n        var _speed = isFirstSlide &&\r\n            this.getSlideType(currentGalleryItem) === 'video' &&\r\n            !currentGalleryItem.poster\r\n            ? speed\r\n            : 0;\r\n        setTimeout(function () {\r\n            $currentSlide.addClass('lg-complete lg-complete_');\r\n            _this.LGel.trigger(lGEvents.slideItemLoad, {\r\n                index: index,\r\n                delay: delay || 0,\r\n                isFirstSlide: isFirstSlide,\r\n            });\r\n        }, _speed);\r\n    };\r\n    LightGallery.prototype.isFirstSlideWithZoomAnimation = function () {\r\n        return !!(!this.lGalleryOn &&\r\n            this.zoomFromOrigin &&\r\n            this.currentImageSize);\r\n    };\r\n    // Add video slideInfo\r\n    LightGallery.prototype.addSlideVideoInfo = function (items) {\r\n        var _this = this;\r\n        items.forEach(function (element, index) {\r\n            element.__slideVideoInfo = utils.isVideo(element.src, !!element.video, index);\r\n            if (element.__slideVideoInfo &&\r\n                _this.settings.loadYouTubePoster &&\r\n                !element.poster &&\r\n                element.__slideVideoInfo.youtube) {\r\n                element.poster = \"//img.youtube.com/vi/\" + element.__slideVideoInfo.youtube[1] + \"/maxresdefault.jpg\";\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     *  Load slide content into slide.\r\n     *  This is used to load content into slides that is not visible too\r\n     *  @param {Number} index - index of the slide.\r\n     *  @param {Boolean} rec - if true call loadcontent() function again.\r\n     */\r\n    LightGallery.prototype.loadContent = function (index, rec) {\r\n        var _this = this;\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        var $currentSlide = $LG(this.getSlideItemId(index));\r\n        var poster = currentGalleryItem.poster, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;\r\n        var src = currentGalleryItem.src;\r\n        var video = currentGalleryItem.video;\r\n        var _html5Video = video && typeof video === 'string' ? JSON.parse(video) : video;\r\n        if (currentGalleryItem.responsive) {\r\n            var srcDyItms = currentGalleryItem.responsive.split(',');\r\n            src = utils.getResponsiveSrc(srcDyItms) || src;\r\n        }\r\n        var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n        var lgVideoStyle = '';\r\n        var iframe = !!currentGalleryItem.iframe;\r\n        var isFirstSlide = !this.lGalleryOn;\r\n        // delay for adding complete class. it is 0 except first time.\r\n        var delay = 0;\r\n        if (isFirstSlide) {\r\n            if (this.zoomFromOrigin && this.currentImageSize) {\r\n                delay = this.settings.startAnimationDuration + 10;\r\n            }\r\n            else {\r\n                delay = this.settings.backdropDuration + 10;\r\n            }\r\n        }\r\n        if (!$currentSlide.hasClass('lg-loaded')) {\r\n            if (videoInfo) {\r\n                var _a = this.mediaContainerPosition, top_2 = _a.top, bottom = _a.bottom;\r\n                var videoSize = utils.getSize(this.items[index], this.outer, top_2 + bottom, videoInfo && this.settings.videoMaxSize);\r\n                lgVideoStyle = this.getVideoContStyle(videoSize);\r\n            }\r\n            if (iframe) {\r\n                var markup = utils.getIframeMarkup(this.settings.iframeWidth, this.settings.iframeHeight, this.settings.iframeMaxWidth, this.settings.iframeMaxHeight, src, currentGalleryItem.iframeTitle);\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else if (poster) {\r\n                var dummyImg = '';\r\n                var hasStartAnimation = isFirstSlide &&\r\n                    this.zoomFromOrigin &&\r\n                    this.currentImageSize;\r\n                if (hasStartAnimation) {\r\n                    dummyImg = this.getDummyImageContent($currentSlide, index, '');\r\n                }\r\n                var markup = utils.getVideoPosterMarkup(poster, dummyImg || '', lgVideoStyle, this.settings.strings['playVideo'], videoInfo);\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else if (videoInfo) {\r\n                var markup = \"<div class=\\\"lg-video-cont \\\" style=\\\"\" + lgVideoStyle + \"\\\"></div>\";\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else {\r\n                this.setImgMarkup(src, $currentSlide, index);\r\n                if (srcset || sources) {\r\n                    var $img = $currentSlide.find('.lg-object');\r\n                    this.initPictureFill($img);\r\n                }\r\n            }\r\n            if (poster || videoInfo) {\r\n                this.LGel.trigger(lGEvents.hasVideo, {\r\n                    index: index,\r\n                    src: src,\r\n                    html5Video: _html5Video,\r\n                    hasPoster: !!poster,\r\n                });\r\n            }\r\n            this.LGel.trigger(lGEvents.afterAppendSlide, { index: index });\r\n            if (this.lGalleryOn &&\r\n                this.settings.appendSubHtmlTo === '.lg-item') {\r\n                this.addHtml(index);\r\n            }\r\n        }\r\n        // For first time add some delay for displaying the start animation.\r\n        var _speed = 0;\r\n        // Do not change the delay value because it is required for zoom plugin.\r\n        // If gallery opened from direct url (hash) speed value should be 0\r\n        if (delay && !$LG(document.body).hasClass('lg-from-hash')) {\r\n            _speed = delay;\r\n        }\r\n        // Only for first slide and zoomFromOrigin is enabled\r\n        if (this.isFirstSlideWithZoomAnimation()) {\r\n            setTimeout(function () {\r\n                $currentSlide\r\n                    .removeClass('lg-start-end-progress lg-start-progress')\r\n                    .removeAttr('style');\r\n            }, this.settings.startAnimationDuration + 100);\r\n            if (!$currentSlide.hasClass('lg-loaded')) {\r\n                setTimeout(function () {\r\n                    if (_this.getSlideType(currentGalleryItem) === 'image') {\r\n                        var alt = currentGalleryItem.alt;\r\n                        var altAttr = alt ? 'alt=\"' + alt + '\"' : '';\r\n                        $currentSlide\r\n                            .find('.lg-img-wrap')\r\n                            .append(utils.getImgMarkup(index, src, altAttr, srcset, sizes, currentGalleryItem.sources));\r\n                        if (srcset || sources) {\r\n                            var $img = $currentSlide.find('.lg-object');\r\n                            _this.initPictureFill($img);\r\n                        }\r\n                    }\r\n                    if (_this.getSlideType(currentGalleryItem) === 'image' ||\r\n                        (_this.getSlideType(currentGalleryItem) === 'video' &&\r\n                            poster)) {\r\n                        _this.onLgObjectLoad($currentSlide, index, delay, _speed, true, false);\r\n                        // load remaining slides once the slide is completely loaded\r\n                        _this.onSlideObjectLoad($currentSlide, !!(videoInfo && videoInfo.html5 && !poster), function () {\r\n                            _this.loadContentOnFirstSlideLoad(index, $currentSlide, _speed);\r\n                        }, function () {\r\n                            _this.loadContentOnFirstSlideLoad(index, $currentSlide, _speed);\r\n                        });\r\n                    }\r\n                }, this.settings.startAnimationDuration + 100);\r\n            }\r\n        }\r\n        // SLide content has been added to dom\r\n        $currentSlide.addClass('lg-loaded');\r\n        if (!this.isFirstSlideWithZoomAnimation() ||\r\n            (this.getSlideType(currentGalleryItem) === 'video' && !poster)) {\r\n            this.onLgObjectLoad($currentSlide, index, delay, _speed, isFirstSlide, !!(videoInfo && videoInfo.html5 && !poster));\r\n        }\r\n        // When gallery is opened once content is loaded (second time) need to add lg-complete class for css styling\r\n        if ((!this.zoomFromOrigin || !this.currentImageSize) &&\r\n            $currentSlide.hasClass('lg-complete_') &&\r\n            !this.lGalleryOn) {\r\n            setTimeout(function () {\r\n                $currentSlide.addClass('lg-complete');\r\n            }, this.settings.backdropDuration);\r\n        }\r\n        // Content loaded\r\n        // Need to set lGalleryOn before calling preload function\r\n        this.lGalleryOn = true;\r\n        if (rec === true) {\r\n            if (!$currentSlide.hasClass('lg-complete_')) {\r\n                $currentSlide\r\n                    .find('.lg-object')\r\n                    .first()\r\n                    .on('load.lg error.lg', function () {\r\n                    _this.preload(index);\r\n                });\r\n            }\r\n            else {\r\n                this.preload(index);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @desc Remove dummy image content and load next slides\r\n     * Called only for the first time if zoomFromOrigin animation is enabled\r\n     * @param index\r\n     * @param $currentSlide\r\n     * @param speed\r\n     */\r\n    LightGallery.prototype.loadContentOnFirstSlideLoad = function (index, $currentSlide, speed) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            $currentSlide.find('.lg-dummy-img').remove();\r\n            $currentSlide.removeClass('lg-first-slide');\r\n            _this.outer.removeClass('lg-first-slide-loading');\r\n            _this.isDummyImageRemoved = true;\r\n            _this.preload(index);\r\n        }, speed + 300);\r\n    };\r\n    LightGallery.prototype.getItemsToBeInsertedToDom = function (index, prevIndex, numberOfItems) {\r\n        var _this = this;\r\n        if (numberOfItems === void 0) { numberOfItems = 0; }\r\n        var itemsToBeInsertedToDom = [];\r\n        // Minimum 2 items should be there\r\n        var possibleNumberOfItems = Math.max(numberOfItems, 3);\r\n        possibleNumberOfItems = Math.min(possibleNumberOfItems, this.galleryItems.length);\r\n        var prevIndexItem = \"lg-item-\" + this.lgId + \"-\" + prevIndex;\r\n        if (this.galleryItems.length <= 3) {\r\n            this.galleryItems.forEach(function (_element, index) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + _this.lgId + \"-\" + index);\r\n            });\r\n            return itemsToBeInsertedToDom;\r\n        }\r\n        if (index < (this.galleryItems.length - 1) / 2) {\r\n            for (var idx = index; idx > index - possibleNumberOfItems / 2 && idx >= 0; idx--) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + idx);\r\n            }\r\n            var numberOfExistingItems = itemsToBeInsertedToDom.length;\r\n            for (var idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (index + idx + 1));\r\n            }\r\n        }\r\n        else {\r\n            for (var idx = index; idx <= this.galleryItems.length - 1 &&\r\n                idx < index + possibleNumberOfItems / 2; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + idx);\r\n            }\r\n            var numberOfExistingItems = itemsToBeInsertedToDom.length;\r\n            for (var idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (index - idx - 1));\r\n            }\r\n        }\r\n        if (this.settings.loop) {\r\n            if (index === this.galleryItems.length - 1) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + 0);\r\n            }\r\n            else if (index === 0) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (this.galleryItems.length - 1));\r\n            }\r\n        }\r\n        if (itemsToBeInsertedToDom.indexOf(prevIndexItem) === -1) {\r\n            itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + prevIndex);\r\n        }\r\n        return itemsToBeInsertedToDom;\r\n    };\r\n    LightGallery.prototype.organizeSlideItems = function (index, prevIndex) {\r\n        var _this = this;\r\n        var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, prevIndex, this.settings.numberOfSlideItemsInDom);\r\n        itemsToBeInsertedToDom.forEach(function (item) {\r\n            if (_this.currentItemsInDom.indexOf(item) === -1) {\r\n                _this.$inner.append(\"<div id=\\\"\" + item + \"\\\" class=\\\"lg-item\\\"></div>\");\r\n            }\r\n        });\r\n        this.currentItemsInDom.forEach(function (item) {\r\n            if (itemsToBeInsertedToDom.indexOf(item) === -1) {\r\n                $LG(\"#\" + item).remove();\r\n            }\r\n        });\r\n        return itemsToBeInsertedToDom;\r\n    };\r\n    /**\r\n     * Get previous index of the slide\r\n     */\r\n    LightGallery.prototype.getPreviousSlideIndex = function () {\r\n        var prevIndex = 0;\r\n        try {\r\n            var currentItemId = this.outer\r\n                .find('.lg-current')\r\n                .first()\r\n                .attr('id');\r\n            prevIndex = parseInt(currentItemId.split('-')[3]) || 0;\r\n        }\r\n        catch (error) {\r\n            prevIndex = 0;\r\n        }\r\n        return prevIndex;\r\n    };\r\n    LightGallery.prototype.setDownloadValue = function (index) {\r\n        if (this.settings.download) {\r\n            var currentGalleryItem = this.galleryItems[index];\r\n            var hideDownloadBtn = currentGalleryItem.downloadUrl === false ||\r\n                currentGalleryItem.downloadUrl === 'false';\r\n            if (hideDownloadBtn) {\r\n                this.outer.addClass('lg-hide-download');\r\n            }\r\n            else {\r\n                var $download = this.getElementById('lg-download');\r\n                this.outer.removeClass('lg-hide-download');\r\n                $download.attr('href', currentGalleryItem.downloadUrl ||\r\n                    currentGalleryItem.src);\r\n                if (currentGalleryItem.download) {\r\n                    $download.attr('download', currentGalleryItem.download);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.makeSlideAnimation = function (direction, currentSlideItem, previousSlideItem) {\r\n        var _this = this;\r\n        if (this.lGalleryOn) {\r\n            previousSlideItem.addClass('lg-slide-progress');\r\n        }\r\n        setTimeout(function () {\r\n            // remove all transitions\r\n            _this.outer.addClass('lg-no-trans');\r\n            _this.outer\r\n                .find('.lg-item')\r\n                .removeClass('lg-prev-slide lg-next-slide');\r\n            if (direction === 'prev') {\r\n                //prevslide\r\n                currentSlideItem.addClass('lg-prev-slide');\r\n                previousSlideItem.addClass('lg-next-slide');\r\n            }\r\n            else {\r\n                // next slide\r\n                currentSlideItem.addClass('lg-next-slide');\r\n                previousSlideItem.addClass('lg-prev-slide');\r\n            }\r\n            // give 50 ms for browser to add/remove class\r\n            setTimeout(function () {\r\n                _this.outer.find('.lg-item').removeClass('lg-current');\r\n                currentSlideItem.addClass('lg-current');\r\n                // reset all transitions\r\n                _this.outer.removeClass('lg-no-trans');\r\n            }, 50);\r\n        }, this.lGalleryOn ? this.settings.slideDelay : 0);\r\n    };\r\n    /**\r\n     * Goto a specific slide.\r\n     * @param {Number} index - index of the slide\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\r\n     * @param {Boolean} fromThumb - true if slide function called via thumbnail click\r\n     * @param {String} direction - Direction of the slide(next/prev)\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  // to go to 3rd slide\r\n     *  plugin.slide(2);\r\n     *\r\n     */\r\n    LightGallery.prototype.slide = function (index, fromTouch, fromThumb, direction) {\r\n        var _this = this;\r\n        var prevIndex = this.getPreviousSlideIndex();\r\n        this.currentItemsInDom = this.organizeSlideItems(index, prevIndex);\r\n        // Prevent multiple call, Required for hsh plugin\r\n        if (this.lGalleryOn && prevIndex === index) {\r\n            return;\r\n        }\r\n        var numberOfGalleryItems = this.galleryItems.length;\r\n        if (!this.lgBusy) {\r\n            if (this.settings.counter) {\r\n                this.updateCurrentCounter(index);\r\n            }\r\n            var currentSlideItem = this.getSlideItem(index);\r\n            var previousSlideItem_1 = this.getSlideItem(prevIndex);\r\n            var currentGalleryItem = this.galleryItems[index];\r\n            var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n            this.outer.attr('data-lg-slide-type', this.getSlideType(currentGalleryItem));\r\n            this.setDownloadValue(index);\r\n            if (videoInfo) {\r\n                var _a = this.mediaContainerPosition, top_3 = _a.top, bottom = _a.bottom;\r\n                var videoSize = utils.getSize(this.items[index], this.outer, top_3 + bottom, videoInfo && this.settings.videoMaxSize);\r\n                this.resizeVideoSlide(index, videoSize);\r\n            }\r\n            this.LGel.trigger(lGEvents.beforeSlide, {\r\n                prevIndex: prevIndex,\r\n                index: index,\r\n                fromTouch: !!fromTouch,\r\n                fromThumb: !!fromThumb,\r\n            });\r\n            this.lgBusy = true;\r\n            clearTimeout(this.hideBarTimeout);\r\n            this.arrowDisable(index);\r\n            if (!direction) {\r\n                if (index < prevIndex) {\r\n                    direction = 'prev';\r\n                }\r\n                else if (index > prevIndex) {\r\n                    direction = 'next';\r\n                }\r\n            }\r\n            if (!fromTouch) {\r\n                this.makeSlideAnimation(direction, currentSlideItem, previousSlideItem_1);\r\n            }\r\n            else {\r\n                this.outer\r\n                    .find('.lg-item')\r\n                    .removeClass('lg-prev-slide lg-current lg-next-slide');\r\n                var touchPrev = void 0;\r\n                var touchNext = void 0;\r\n                if (numberOfGalleryItems > 2) {\r\n                    touchPrev = index - 1;\r\n                    touchNext = index + 1;\r\n                    if (index === 0 && prevIndex === numberOfGalleryItems - 1) {\r\n                        // next slide\r\n                        touchNext = 0;\r\n                        touchPrev = numberOfGalleryItems - 1;\r\n                    }\r\n                    else if (index === numberOfGalleryItems - 1 &&\r\n                        prevIndex === 0) {\r\n                        // prev slide\r\n                        touchNext = 0;\r\n                        touchPrev = numberOfGalleryItems - 1;\r\n                    }\r\n                }\r\n                else {\r\n                    touchPrev = 0;\r\n                    touchNext = 1;\r\n                }\r\n                if (direction === 'prev') {\r\n                    this.getSlideItem(touchNext).addClass('lg-next-slide');\r\n                }\r\n                else {\r\n                    this.getSlideItem(touchPrev).addClass('lg-prev-slide');\r\n                }\r\n                currentSlideItem.addClass('lg-current');\r\n            }\r\n            // Do not put load content in set timeout as it needs to load immediately when the gallery is opened\r\n            if (!this.lGalleryOn) {\r\n                this.loadContent(index, true);\r\n            }\r\n            else {\r\n                setTimeout(function () {\r\n                    _this.loadContent(index, true);\r\n                    // Add title if this.settings.appendSubHtmlTo === lg-sub-html\r\n                    if (_this.settings.appendSubHtmlTo !== '.lg-item') {\r\n                        _this.addHtml(index);\r\n                    }\r\n                }, this.settings.speed + 50 + (fromTouch ? 0 : this.settings.slideDelay));\r\n            }\r\n            setTimeout(function () {\r\n                _this.lgBusy = false;\r\n                previousSlideItem_1.removeClass('lg-slide-progress');\r\n                _this.LGel.trigger(lGEvents.afterSlide, {\r\n                    prevIndex: prevIndex,\r\n                    index: index,\r\n                    fromTouch: fromTouch,\r\n                    fromThumb: fromThumb,\r\n                });\r\n            }, (this.lGalleryOn ? this.settings.speed + 100 : 100) + (fromTouch ? 0 : this.settings.slideDelay));\r\n        }\r\n        this.index = index;\r\n    };\r\n    LightGallery.prototype.updateCurrentCounter = function (index) {\r\n        this.getElementById('lg-counter-current').html(index + 1 + '');\r\n    };\r\n    LightGallery.prototype.updateCounterTotal = function () {\r\n        this.getElementById('lg-counter-all').html(this.galleryItems.length + '');\r\n    };\r\n    LightGallery.prototype.getSlideType = function (item) {\r\n        if (item.__slideVideoInfo) {\r\n            return 'video';\r\n        }\r\n        else if (item.iframe) {\r\n            return 'iframe';\r\n        }\r\n        else {\r\n            return 'image';\r\n        }\r\n    };\r\n    LightGallery.prototype.touchMove = function (startCoords, endCoords, e) {\r\n        var distanceX = endCoords.pageX - startCoords.pageX;\r\n        var distanceY = endCoords.pageY - startCoords.pageY;\r\n        var allowSwipe = false;\r\n        if (this.swipeDirection) {\r\n            allowSwipe = true;\r\n        }\r\n        else {\r\n            if (Math.abs(distanceX) > 15) {\r\n                this.swipeDirection = 'horizontal';\r\n                allowSwipe = true;\r\n            }\r\n            else if (Math.abs(distanceY) > 15) {\r\n                this.swipeDirection = 'vertical';\r\n                allowSwipe = true;\r\n            }\r\n        }\r\n        if (!allowSwipe) {\r\n            return;\r\n        }\r\n        var $currentSlide = this.getSlideItem(this.index);\r\n        if (this.swipeDirection === 'horizontal') {\r\n            e === null || e === void 0 ? void 0 : e.preventDefault();\r\n            // reset opacity and transition duration\r\n            this.outer.addClass('lg-dragging');\r\n            // move current slide\r\n            this.setTranslate($currentSlide, distanceX, 0);\r\n            // move next and prev slide with current slide\r\n            var width = $currentSlide.get().offsetWidth;\r\n            var slideWidthAmount = (width * 15) / 100;\r\n            var gutter = slideWidthAmount - Math.abs((distanceX * 10) / 100);\r\n            this.setTranslate(this.outer.find('.lg-prev-slide').first(), -width + distanceX - gutter, 0);\r\n            this.setTranslate(this.outer.find('.lg-next-slide').first(), width + distanceX + gutter, 0);\r\n        }\r\n        else if (this.swipeDirection === 'vertical') {\r\n            if (this.settings.swipeToClose) {\r\n                e === null || e === void 0 ? void 0 : e.preventDefault();\r\n                this.$container.addClass('lg-dragging-vertical');\r\n                var opacity = 1 - Math.abs(distanceY) / window.innerHeight;\r\n                this.$backdrop.css('opacity', opacity);\r\n                var scale = 1 - Math.abs(distanceY) / (window.innerWidth * 2);\r\n                this.setTranslate($currentSlide, 0, distanceY, scale, scale);\r\n                if (Math.abs(distanceY) > 100) {\r\n                    this.outer\r\n                        .addClass('lg-hide-items')\r\n                        .removeClass('lg-components-open');\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.touchEnd = function (endCoords, startCoords, event) {\r\n        var _this = this;\r\n        var distance;\r\n        // keep slide animation for any mode while dragg/swipe\r\n        if (this.settings.mode !== 'lg-slide') {\r\n            this.outer.addClass('lg-slide');\r\n        }\r\n        // set transition duration\r\n        setTimeout(function () {\r\n            _this.$container.removeClass('lg-dragging-vertical');\r\n            _this.outer\r\n                .removeClass('lg-dragging lg-hide-items')\r\n                .addClass('lg-components-open');\r\n            var triggerClick = true;\r\n            if (_this.swipeDirection === 'horizontal') {\r\n                distance = endCoords.pageX - startCoords.pageX;\r\n                var distanceAbs = Math.abs(endCoords.pageX - startCoords.pageX);\r\n                if (distance < 0 &&\r\n                    distanceAbs > _this.settings.swipeThreshold) {\r\n                    _this.goToNextSlide(true);\r\n                    triggerClick = false;\r\n                }\r\n                else if (distance > 0 &&\r\n                    distanceAbs > _this.settings.swipeThreshold) {\r\n                    _this.goToPrevSlide(true);\r\n                    triggerClick = false;\r\n                }\r\n            }\r\n            else if (_this.swipeDirection === 'vertical') {\r\n                distance = Math.abs(endCoords.pageY - startCoords.pageY);\r\n                if (_this.settings.closable &&\r\n                    _this.settings.swipeToClose &&\r\n                    distance > 100) {\r\n                    _this.closeGallery();\r\n                    return;\r\n                }\r\n                else {\r\n                    _this.$backdrop.css('opacity', 1);\r\n                }\r\n            }\r\n            _this.outer.find('.lg-item').removeAttr('style');\r\n            if (triggerClick &&\r\n                Math.abs(endCoords.pageX - startCoords.pageX) < 5) {\r\n                // Trigger click if distance is less than 5 pix\r\n                var target = $LG(event.target);\r\n                if (_this.isPosterElement(target)) {\r\n                    _this.LGel.trigger(lGEvents.posterClick);\r\n                }\r\n            }\r\n            _this.swipeDirection = undefined;\r\n        });\r\n        // remove slide class once drag/swipe is completed if mode is not slide\r\n        setTimeout(function () {\r\n            if (!_this.outer.hasClass('lg-dragging') &&\r\n                _this.settings.mode !== 'lg-slide') {\r\n                _this.outer.removeClass('lg-slide');\r\n            }\r\n        }, this.settings.speed + 100);\r\n    };\r\n    LightGallery.prototype.enableSwipe = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isMoved = false;\r\n        var isSwiping = false;\r\n        if (this.settings.enableSwipe) {\r\n            this.$inner.on('touchstart.lg', function (e) {\r\n                _this.dragOrSwipeEnabled = true;\r\n                var $item = _this.getSlideItem(_this.index);\r\n                if (($LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target)) &&\r\n                    !_this.outer.hasClass('lg-zoomed') &&\r\n                    !_this.lgBusy &&\r\n                    e.touches.length === 1) {\r\n                    isSwiping = true;\r\n                    _this.touchAction = 'swipe';\r\n                    _this.manageSwipeClass();\r\n                    startCoords = {\r\n                        pageX: e.touches[0].pageX,\r\n                        pageY: e.touches[0].pageY,\r\n                    };\r\n                }\r\n            });\r\n            this.$inner.on('touchmove.lg', function (e) {\r\n                if (isSwiping &&\r\n                    _this.touchAction === 'swipe' &&\r\n                    e.touches.length === 1) {\r\n                    endCoords = {\r\n                        pageX: e.touches[0].pageX,\r\n                        pageY: e.touches[0].pageY,\r\n                    };\r\n                    _this.touchMove(startCoords, endCoords, e);\r\n                    isMoved = true;\r\n                }\r\n            });\r\n            this.$inner.on('touchend.lg', function (event) {\r\n                if (_this.touchAction === 'swipe') {\r\n                    if (isMoved) {\r\n                        isMoved = false;\r\n                        _this.touchEnd(endCoords, startCoords, event);\r\n                    }\r\n                    else if (isSwiping) {\r\n                        var target = $LG(event.target);\r\n                        if (_this.isPosterElement(target)) {\r\n                            _this.LGel.trigger(lGEvents.posterClick);\r\n                        }\r\n                    }\r\n                    _this.touchAction = undefined;\r\n                    isSwiping = false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LightGallery.prototype.enableDrag = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isDraging = false;\r\n        var isMoved = false;\r\n        if (this.settings.enableDrag) {\r\n            this.outer.on('mousedown.lg', function (e) {\r\n                _this.dragOrSwipeEnabled = true;\r\n                var $item = _this.getSlideItem(_this.index);\r\n                if ($LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target)) {\r\n                    if (!_this.outer.hasClass('lg-zoomed') && !_this.lgBusy) {\r\n                        e.preventDefault();\r\n                        if (!_this.lgBusy) {\r\n                            _this.manageSwipeClass();\r\n                            startCoords = {\r\n                                pageX: e.pageX,\r\n                                pageY: e.pageY,\r\n                            };\r\n                            isDraging = true;\r\n                            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\r\n                            _this.outer.get().scrollLeft += 1;\r\n                            _this.outer.get().scrollLeft -= 1;\r\n                            // *\r\n                            _this.outer\r\n                                .removeClass('lg-grab')\r\n                                .addClass('lg-grabbing');\r\n                            _this.LGel.trigger(lGEvents.dragStart);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            $LG(window).on(\"mousemove.lg.global\" + this.lgId, function (e) {\r\n                if (isDraging && _this.lgOpened) {\r\n                    isMoved = true;\r\n                    endCoords = {\r\n                        pageX: e.pageX,\r\n                        pageY: e.pageY,\r\n                    };\r\n                    _this.touchMove(startCoords, endCoords);\r\n                    _this.LGel.trigger(lGEvents.dragMove);\r\n                }\r\n            });\r\n            $LG(window).on(\"mouseup.lg.global\" + this.lgId, function (event) {\r\n                if (!_this.lgOpened) {\r\n                    return;\r\n                }\r\n                var target = $LG(event.target);\r\n                if (isMoved) {\r\n                    isMoved = false;\r\n                    _this.touchEnd(endCoords, startCoords, event);\r\n                    _this.LGel.trigger(lGEvents.dragEnd);\r\n                }\r\n                else if (_this.isPosterElement(target)) {\r\n                    _this.LGel.trigger(lGEvents.posterClick);\r\n                }\r\n                // Prevent execution on click\r\n                if (isDraging) {\r\n                    isDraging = false;\r\n                    _this.outer.removeClass('lg-grabbing').addClass('lg-grab');\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LightGallery.prototype.triggerPosterClick = function () {\r\n        var _this = this;\r\n        this.$inner.on('click.lg', function (event) {\r\n            if (!_this.dragOrSwipeEnabled &&\r\n                _this.isPosterElement($LG(event.target))) {\r\n                _this.LGel.trigger(lGEvents.posterClick);\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.manageSwipeClass = function () {\r\n        var _touchNext = this.index + 1;\r\n        var _touchPrev = this.index - 1;\r\n        if (this.settings.loop && this.galleryItems.length > 2) {\r\n            if (this.index === 0) {\r\n                _touchPrev = this.galleryItems.length - 1;\r\n            }\r\n            else if (this.index === this.galleryItems.length - 1) {\r\n                _touchNext = 0;\r\n            }\r\n        }\r\n        this.outer.find('.lg-item').removeClass('lg-next-slide lg-prev-slide');\r\n        if (_touchPrev > -1) {\r\n            this.getSlideItem(_touchPrev).addClass('lg-prev-slide');\r\n        }\r\n        this.getSlideItem(_touchNext).addClass('lg-next-slide');\r\n    };\r\n    /**\r\n     * Go to next slide\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.goToNextSlide();\r\n     * @see <a href=\"/demos/methods/\">Demo</a>\r\n     */\r\n    LightGallery.prototype.goToNextSlide = function (fromTouch) {\r\n        var _this = this;\r\n        var _loop = this.settings.loop;\r\n        if (fromTouch && this.galleryItems.length < 3) {\r\n            _loop = false;\r\n        }\r\n        if (!this.lgBusy) {\r\n            if (this.index + 1 < this.galleryItems.length) {\r\n                this.index++;\r\n                this.LGel.trigger(lGEvents.beforeNextSlide, {\r\n                    index: this.index,\r\n                });\r\n                this.slide(this.index, !!fromTouch, false, 'next');\r\n            }\r\n            else {\r\n                if (_loop) {\r\n                    this.index = 0;\r\n                    this.LGel.trigger(lGEvents.beforeNextSlide, {\r\n                        index: this.index,\r\n                    });\r\n                    this.slide(this.index, !!fromTouch, false, 'next');\r\n                }\r\n                else if (this.settings.slideEndAnimation && !fromTouch) {\r\n                    this.outer.addClass('lg-right-end');\r\n                    setTimeout(function () {\r\n                        _this.outer.removeClass('lg-right-end');\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Go to previous slides\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery({});\r\n     *  plugin.goToPrevSlide();\r\n     * @see <a href=\"/demos/methods/\">Demo</a>\r\n     *\r\n     */\r\n    LightGallery.prototype.goToPrevSlide = function (fromTouch) {\r\n        var _this = this;\r\n        var _loop = this.settings.loop;\r\n        if (fromTouch && this.galleryItems.length < 3) {\r\n            _loop = false;\r\n        }\r\n        if (!this.lgBusy) {\r\n            if (this.index > 0) {\r\n                this.index--;\r\n                this.LGel.trigger(lGEvents.beforePrevSlide, {\r\n                    index: this.index,\r\n                    fromTouch: fromTouch,\r\n                });\r\n                this.slide(this.index, !!fromTouch, false, 'prev');\r\n            }\r\n            else {\r\n                if (_loop) {\r\n                    this.index = this.galleryItems.length - 1;\r\n                    this.LGel.trigger(lGEvents.beforePrevSlide, {\r\n                        index: this.index,\r\n                        fromTouch: fromTouch,\r\n                    });\r\n                    this.slide(this.index, !!fromTouch, false, 'prev');\r\n                }\r\n                else if (this.settings.slideEndAnimation && !fromTouch) {\r\n                    this.outer.addClass('lg-left-end');\r\n                    setTimeout(function () {\r\n                        _this.outer.removeClass('lg-left-end');\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.keyPress = function () {\r\n        var _this = this;\r\n        $LG(window).on(\"keydown.lg.global\" + this.lgId, function (e) {\r\n            if (_this.lgOpened &&\r\n                _this.settings.escKey === true &&\r\n                e.keyCode === 27) {\r\n                e.preventDefault();\r\n                if (_this.settings.allowMediaOverlap &&\r\n                    _this.outer.hasClass('lg-can-toggle') &&\r\n                    _this.outer.hasClass('lg-components-open')) {\r\n                    _this.outer.removeClass('lg-components-open');\r\n                }\r\n                else {\r\n                    _this.closeGallery();\r\n                }\r\n            }\r\n            if (_this.lgOpened && _this.galleryItems.length > 1) {\r\n                if (e.keyCode === 37) {\r\n                    e.preventDefault();\r\n                    _this.goToPrevSlide();\r\n                }\r\n                if (e.keyCode === 39) {\r\n                    e.preventDefault();\r\n                    _this.goToNextSlide();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.arrow = function () {\r\n        var _this = this;\r\n        this.getElementById('lg-prev').on('click.lg', function () {\r\n            _this.goToPrevSlide();\r\n        });\r\n        this.getElementById('lg-next').on('click.lg', function () {\r\n            _this.goToNextSlide();\r\n        });\r\n    };\r\n    LightGallery.prototype.arrowDisable = function (index) {\r\n        // Disable arrows if settings.hideControlOnEnd is true\r\n        if (!this.settings.loop && this.settings.hideControlOnEnd) {\r\n            var $prev = this.getElementById('lg-prev');\r\n            var $next = this.getElementById('lg-next');\r\n            if (index + 1 === this.galleryItems.length) {\r\n                $next.attr('disabled', 'disabled').addClass('disabled');\r\n            }\r\n            else {\r\n                $next.removeAttr('disabled').removeClass('disabled');\r\n            }\r\n            if (index === 0) {\r\n                $prev.attr('disabled', 'disabled').addClass('disabled');\r\n            }\r\n            else {\r\n                $prev.removeAttr('disabled').removeClass('disabled');\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.setTranslate = function ($el, xValue, yValue, scaleX, scaleY) {\r\n        if (scaleX === void 0) { scaleX = 1; }\r\n        if (scaleY === void 0) { scaleY = 1; }\r\n        $el.css('transform', 'translate3d(' +\r\n            xValue +\r\n            'px, ' +\r\n            yValue +\r\n            'px, 0px) scale3d(' +\r\n            scaleX +\r\n            ', ' +\r\n            scaleY +\r\n            ', 1)');\r\n    };\r\n    LightGallery.prototype.mousewheel = function () {\r\n        var _this = this;\r\n        var lastCall = 0;\r\n        this.outer.on('wheel.lg', function (e) {\r\n            if (!e.deltaY || _this.galleryItems.length < 2) {\r\n                return;\r\n            }\r\n            e.preventDefault();\r\n            var now = new Date().getTime();\r\n            if (now - lastCall < 1000) {\r\n                return;\r\n            }\r\n            lastCall = now;\r\n            if (e.deltaY > 0) {\r\n                _this.goToNextSlide();\r\n            }\r\n            else if (e.deltaY < 0) {\r\n                _this.goToPrevSlide();\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.isSlideElement = function (target) {\r\n        return (target.hasClass('lg-outer') ||\r\n            target.hasClass('lg-item') ||\r\n            target.hasClass('lg-img-wrap'));\r\n    };\r\n    LightGallery.prototype.isPosterElement = function (target) {\r\n        var playButton = this.getSlideItem(this.index)\r\n            .find('.lg-video-play-button')\r\n            .get();\r\n        return (target.hasClass('lg-video-poster') ||\r\n            target.hasClass('lg-video-play-button') ||\r\n            (playButton && playButton.contains(target.get())));\r\n    };\r\n    /**\r\n     * Maximize minimize inline gallery.\r\n     * @category lGPublicMethods\r\n     */\r\n    LightGallery.prototype.toggleMaximize = function () {\r\n        var _this = this;\r\n        this.getElementById('lg-maximize').on('click.lg', function () {\r\n            _this.$container.toggleClass('lg-inline');\r\n            _this.refreshOnResize();\r\n        });\r\n    };\r\n    LightGallery.prototype.invalidateItems = function () {\r\n        for (var index = 0; index < this.items.length; index++) {\r\n            var element = this.items[index];\r\n            var $element = $LG(element);\r\n            $element.off(\"click.lgcustom-item-\" + $element.attr('data-lg-id'));\r\n        }\r\n    };\r\n    LightGallery.prototype.trapFocus = function () {\r\n        var _this = this;\r\n        this.$container.get().focus({\r\n            preventScroll: true,\r\n        });\r\n        $LG(window).on(\"keydown.lg.global\" + this.lgId, function (e) {\r\n            if (!_this.lgOpened) {\r\n                return;\r\n            }\r\n            var isTabPressed = e.key === 'Tab' || e.keyCode === 9;\r\n            if (!isTabPressed) {\r\n                return;\r\n            }\r\n            var focusableEls = utils.getFocusableElements(_this.$container.get());\r\n            var firstFocusableEl = focusableEls[0];\r\n            var lastFocusableEl = focusableEls[focusableEls.length - 1];\r\n            if (e.shiftKey) {\r\n                if (document.activeElement === firstFocusableEl) {\r\n                    lastFocusableEl.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n            else {\r\n                if (document.activeElement === lastFocusableEl) {\r\n                    firstFocusableEl.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.manageCloseGallery = function () {\r\n        var _this = this;\r\n        if (!this.settings.closable)\r\n            return;\r\n        var mousedown = false;\r\n        this.getElementById('lg-close').on('click.lg', function () {\r\n            _this.closeGallery();\r\n        });\r\n        if (this.settings.closeOnTap) {\r\n            // If you drag the slide and release outside gallery gets close on chrome\r\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\r\n            this.outer.on('mousedown.lg', function (e) {\r\n                var target = $LG(e.target);\r\n                if (_this.isSlideElement(target)) {\r\n                    mousedown = true;\r\n                }\r\n                else {\r\n                    mousedown = false;\r\n                }\r\n            });\r\n            this.outer.on('mousemove.lg', function () {\r\n                mousedown = false;\r\n            });\r\n            this.outer.on('mouseup.lg', function (e) {\r\n                var target = $LG(e.target);\r\n                if (_this.isSlideElement(target) && mousedown) {\r\n                    if (!_this.outer.hasClass('lg-dragging')) {\r\n                        _this.closeGallery();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Close lightGallery if it is opened.\r\n     *\r\n     * @description If closable is false in the settings, you need to pass true via closeGallery method to force close gallery\r\n     * @return returns the estimated time to close gallery completely including the close animation duration\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.closeGallery();\r\n     *\r\n     */\r\n    LightGallery.prototype.closeGallery = function (force) {\r\n        var _this = this;\r\n        if (!this.lgOpened || (!this.settings.closable && !force)) {\r\n            return 0;\r\n        }\r\n        this.LGel.trigger(lGEvents.beforeClose);\r\n        if (this.settings.resetScrollPosition && !this.settings.hideScrollbar) {\r\n            $LG(window).scrollTop(this.prevScrollTop);\r\n        }\r\n        var currentItem = this.items[this.index];\r\n        var transform;\r\n        if (this.zoomFromOrigin && currentItem) {\r\n            var _a = this.mediaContainerPosition, top_4 = _a.top, bottom = _a.bottom;\r\n            var _b = this.galleryItems[this.index], __slideVideoInfo = _b.__slideVideoInfo, poster = _b.poster;\r\n            var imageSize = utils.getSize(currentItem, this.outer, top_4 + bottom, __slideVideoInfo && poster && this.settings.videoMaxSize);\r\n            transform = utils.getTransform(currentItem, this.outer, top_4, bottom, imageSize);\r\n        }\r\n        if (this.zoomFromOrigin && transform) {\r\n            this.outer.addClass('lg-closing lg-zoom-from-image');\r\n            this.getSlideItem(this.index)\r\n                .addClass('lg-start-end-progress')\r\n                .css('transition-duration', this.settings.startAnimationDuration + 'ms')\r\n                .css('transform', transform);\r\n        }\r\n        else {\r\n            this.outer.addClass('lg-hide-items');\r\n            // lg-zoom-from-image is used for setting the opacity to 1 if zoomFromOrigin is true\r\n            // If the closing item doesn't have the lg-size attribute, remove this class to avoid the closing css conflicts\r\n            this.outer.removeClass('lg-zoom-from-image');\r\n        }\r\n        // Unbind all events added by lightGallery\r\n        // @todo\r\n        //this.$el.off('.lg.tm');\r\n        this.destroyModules();\r\n        this.lGalleryOn = false;\r\n        this.isDummyImageRemoved = false;\r\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\r\n        clearTimeout(this.hideBarTimeout);\r\n        this.hideBarTimeout = false;\r\n        $LG('html').removeClass('lg-on');\r\n        this.outer.removeClass('lg-visible lg-components-open');\r\n        // Resetting opacity to 0 isd required as  vertical swipe to close function adds inline opacity.\r\n        this.$backdrop.removeClass('in').css('opacity', 0);\r\n        var removeTimeout = this.zoomFromOrigin && transform\r\n            ? Math.max(this.settings.startAnimationDuration, this.settings.backdropDuration)\r\n            : this.settings.backdropDuration;\r\n        this.$container.removeClass('lg-show-in');\r\n        // Once the closign animation is completed and gallery is invisible\r\n        setTimeout(function () {\r\n            if (_this.zoomFromOrigin && transform) {\r\n                _this.outer.removeClass('lg-zoom-from-image');\r\n            }\r\n            _this.$container.removeClass('lg-show');\r\n            // Reset scrollbar\r\n            _this.resetScrollBar();\r\n            // Need to remove inline opacity as it is used in the stylesheet as well\r\n            _this.$backdrop\r\n                .removeAttr('style')\r\n                .css('transition-duration', _this.settings.backdropDuration + 'ms');\r\n            _this.outer.removeClass(\"lg-closing \" + _this.settings.startClass);\r\n            _this.getSlideItem(_this.index).removeClass('lg-start-end-progress');\r\n            _this.$inner.empty();\r\n            if (_this.lgOpened) {\r\n                _this.LGel.trigger(lGEvents.afterClose, {\r\n                    instance: _this,\r\n                });\r\n            }\r\n            if (_this.$container.get()) {\r\n                _this.$container.get().blur();\r\n            }\r\n            _this.lgOpened = false;\r\n        }, removeTimeout + 100);\r\n        return removeTimeout + 100;\r\n    };\r\n    LightGallery.prototype.initModules = function () {\r\n        this.plugins.forEach(function (module) {\r\n            try {\r\n                module.init();\r\n            }\r\n            catch (err) {\r\n                console.warn(\"lightGallery:- make sure lightGallery module is properly initiated\");\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.destroyModules = function (destroy) {\r\n        this.plugins.forEach(function (module) {\r\n            try {\r\n                if (destroy) {\r\n                    module.destroy();\r\n                }\r\n                else {\r\n                    module.closeGallery && module.closeGallery();\r\n                }\r\n            }\r\n            catch (err) {\r\n                console.warn(\"lightGallery:- make sure lightGallery module is properly destroyed\");\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Refresh lightGallery with new set of children.\r\n     *\r\n     * @description This is useful to update the gallery when the child elements are changed without calling destroy method.\r\n     *\r\n     * If you are using dynamic mode, you can pass the modified array of dynamicEl as the first parameter to refresh the dynamic gallery\r\n     * @see <a href=\"/demos/dynamic-mode/\">Demo</a>\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  // Delete or add children, then call\r\n     *  plugin.refresh();\r\n     *\r\n     */\r\n    LightGallery.prototype.refresh = function (galleryItems) {\r\n        if (!this.settings.dynamic) {\r\n            this.invalidateItems();\r\n        }\r\n        if (galleryItems) {\r\n            this.galleryItems = galleryItems;\r\n        }\r\n        else {\r\n            this.galleryItems = this.getItems();\r\n        }\r\n        this.updateControls();\r\n        this.openGalleryOnItemClick();\r\n        this.LGel.trigger(lGEvents.updateSlides);\r\n    };\r\n    LightGallery.prototype.updateControls = function () {\r\n        this.addSlideVideoInfo(this.galleryItems);\r\n        this.updateCounterTotal();\r\n        this.manageSingleSlideClassName();\r\n    };\r\n    LightGallery.prototype.destroyGallery = function () {\r\n        this.destroyModules(true);\r\n        if (!this.settings.dynamic) {\r\n            this.invalidateItems();\r\n        }\r\n        $LG(window).off(\".lg.global\" + this.lgId);\r\n        this.LGel.off('.lg');\r\n        this.$container.remove();\r\n    };\r\n    /**\r\n     * Destroy lightGallery.\r\n     * Destroy lightGallery and its plugin instances completely\r\n     *\r\n     * @description This method also calls CloseGallery function internally. Returns the time takes to completely close and destroy the instance.\r\n     * In case if you want to re-initialize lightGallery right after destroying it, initialize it only once the destroy process is completed.\r\n     * You can use refresh method most of the times.\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.destroy();\r\n     *\r\n     */\r\n    LightGallery.prototype.destroy = function () {\r\n        var closeTimeout = this.closeGallery(true);\r\n        if (closeTimeout) {\r\n            setTimeout(this.destroyGallery.bind(this), closeTimeout);\r\n        }\r\n        else {\r\n            this.destroyGallery();\r\n        }\r\n        return closeTimeout;\r\n    };\r\n    return LightGallery;\r\n}());\n\nfunction lightGallery(el, options) {\r\n    return new LightGallery(el, options);\r\n}\n\nvar LgMethods = {\r\n    onAfterAppendSlide: 'lgAfterAppendSlide',\r\n    onInit: 'lgInit',\r\n    onHasVideo: 'lgHasVideo',\r\n    onContainerResize: 'lgContainerResize',\r\n    onUpdateSlides: 'lgUpdateSlides',\r\n    onAfterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    onBeforeOpen: 'lgBeforeOpen',\r\n    onAfterOpen: 'lgAfterOpen',\r\n    onSlideItemLoad: 'lgSlideItemLoad',\r\n    onBeforeSlide: 'lgBeforeSlide',\r\n    onAfterSlide: 'lgAfterSlide',\r\n    onPosterClick: 'lgPosterClick',\r\n    onDragStart: 'lgDragStart',\r\n    onDragMove: 'lgDragMove',\r\n    onDragEnd: 'lgDragEnd',\r\n    onBeforeNextSlide: 'lgBeforeNextSlide',\r\n    onBeforePrevSlide: 'lgBeforePrevSlide',\r\n    onBeforeClose: 'lgBeforeClose',\r\n    onAfterClose: 'lgAfterClose',\r\n    onRotateLeft: 'lgRotateLeft',\r\n    onRotateRight: 'lgRotateRight',\r\n    onFlipHorizontal: 'lgFlipHorizontal',\r\n    onFlipVertical: 'lgFlipVertical',\r\n};\r\nvar LG = function (_a) {\r\n    var children = _a.children, elementClassNames = _a.elementClassNames, onAfterAppendSlide = _a.onAfterAppendSlide, onInit = _a.onInit, onHasVideo = _a.onHasVideo, onContainerResize = _a.onContainerResize, onAfterAppendSubHtml = _a.onAfterAppendSubHtml, onBeforeOpen = _a.onBeforeOpen, onAfterOpen = _a.onAfterOpen, onSlideItemLoad = _a.onSlideItemLoad, onBeforeSlide = _a.onBeforeSlide, onAfterSlide = _a.onAfterSlide, onPosterClick = _a.onPosterClick, onDragStart = _a.onDragStart, onDragMove = _a.onDragMove, onDragEnd = _a.onDragEnd, onBeforeNextSlide = _a.onBeforeNextSlide, onBeforePrevSlide = _a.onBeforePrevSlide, onBeforeClose = _a.onBeforeClose, onAfterClose = _a.onAfterClose, onRotateLeft = _a.onRotateLeft, onRotateRight = _a.onRotateRight, onFlipHorizontal = _a.onFlipHorizontal, onFlipVertical = _a.onFlipVertical, restProps = __rest(_a, [\"children\", \"elementClassNames\", \"onAfterAppendSlide\", \"onInit\", \"onHasVideo\", \"onContainerResize\", \"onAfterAppendSubHtml\", \"onBeforeOpen\", \"onAfterOpen\", \"onSlideItemLoad\", \"onBeforeSlide\", \"onAfterSlide\", \"onPosterClick\", \"onDragStart\", \"onDragMove\", \"onDragEnd\", \"onBeforeNextSlide\", \"onBeforePrevSlide\", \"onBeforeClose\", \"onAfterClose\", \"onRotateLeft\", \"onRotateRight\", \"onFlipHorizontal\", \"onFlipVertical\"]);\r\n    var $lg = useRef(null);\r\n    var registerEvents = useCallback(function () {\r\n        if (onAfterAppendSlide && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onAfterAppendSlide, (function (event) {\r\n                onAfterAppendSlide(event.detail);\r\n            }));\r\n        }\r\n        if (onInit && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onInit, (function (event) {\r\n                onInit(event.detail);\r\n            }));\r\n        }\r\n        if (onHasVideo && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onHasVideo, (function (event) {\r\n                onHasVideo(event.detail);\r\n            }));\r\n        }\r\n        if (onContainerResize && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onContainerResize, (function (event) {\r\n                onContainerResize(event.detail);\r\n            }));\r\n        }\r\n        if (onAfterAppendSubHtml && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onAfterAppendSubHtml, (function (event) {\r\n                onAfterAppendSubHtml(event.detail);\r\n            }));\r\n        }\r\n        if (onBeforeOpen && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onBeforeOpen, (function (event) {\r\n                onBeforeOpen(event.detail);\r\n            }));\r\n        }\r\n        if (onAfterOpen && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onAfterOpen, (function (event) {\r\n                onAfterOpen(event.detail);\r\n            }));\r\n        }\r\n        if (onSlideItemLoad && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onSlideItemLoad, (function (event) {\r\n                onSlideItemLoad(event.detail);\r\n            }));\r\n        }\r\n        if (onBeforeSlide && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onBeforeSlide, (function (event) {\r\n                onBeforeSlide(event.detail);\r\n            }));\r\n        }\r\n        if (onAfterSlide && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onAfterSlide, (function (event) {\r\n                onAfterSlide(event.detail);\r\n            }));\r\n        }\r\n        if (onPosterClick && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onPosterClick, (function (event) {\r\n                onPosterClick(event.detail);\r\n            }));\r\n        }\r\n        if (onDragStart && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onDragStart, (function (event) {\r\n                onDragStart(event.detail);\r\n            }));\r\n        }\r\n        if (onDragMove && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onDragMove, (function (event) {\r\n                onDragMove(event.detail);\r\n            }));\r\n        }\r\n        if (onDragEnd && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onDragEnd, (function (event) {\r\n                onDragEnd(event.detail);\r\n            }));\r\n        }\r\n        if (onBeforeNextSlide && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onBeforeNextSlide, (function (event) {\r\n                onBeforeNextSlide(event.detail);\r\n            }));\r\n        }\r\n        if (onBeforePrevSlide && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onBeforePrevSlide, (function (event) {\r\n                onBeforePrevSlide(event.detail);\r\n            }));\r\n        }\r\n        if (onBeforeClose && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onBeforeClose, (function (event) {\r\n                onBeforeClose(event.detail);\r\n            }));\r\n        }\r\n        if (onAfterClose && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onAfterClose, (function (event) {\r\n                onAfterClose(event.detail);\r\n            }));\r\n        }\r\n        if (onRotateLeft && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onRotateLeft, (function (event) {\r\n                onRotateLeft(event.detail);\r\n            }));\r\n        }\r\n        if (onRotateRight && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onRotateRight, (function (event) {\r\n                onRotateRight(event.detail);\r\n            }));\r\n        }\r\n        if (onFlipHorizontal && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onFlipHorizontal, (function (event) {\r\n                onFlipHorizontal(event.detail);\r\n            }));\r\n        }\r\n        if (onFlipVertical && $lg && $lg.current) {\r\n            $lg.current.addEventListener(LgMethods.onFlipVertical, (function (event) {\r\n                onFlipVertical(event.detail);\r\n            }));\r\n        }\r\n    }, [\r\n        onAfterAppendSlide,\r\n        onAfterAppendSubHtml,\r\n        onAfterClose,\r\n        onRotateLeft,\r\n        onRotateRight,\r\n        onFlipHorizontal,\r\n        onFlipVertical,\r\n        onAfterOpen,\r\n        onAfterSlide,\r\n        onBeforeClose,\r\n        onBeforeNextSlide,\r\n        onBeforeOpen,\r\n        onBeforePrevSlide,\r\n        onBeforeSlide,\r\n        onContainerResize,\r\n        onDragEnd,\r\n        onDragMove,\r\n        onDragStart,\r\n        onHasVideo,\r\n        onInit,\r\n        onPosterClick,\r\n        onSlideItemLoad,\r\n    ]);\r\n    useEffect(function () {\r\n        registerEvents();\r\n        var lightGallery$1 = lightGallery($lg.current, restProps);\r\n        return function cleanup() {\r\n            lightGallery$1.destroy();\r\n        };\r\n    }, [registerEvents, restProps]);\r\n    return (createElement(\"div\", { className: \"lg-react-element \" + (elementClassNames ? elementClassNames : ''), ref: $lg }, children));\r\n};\n\nexport default LG;\n//# sourceMappingURL=Lightgallery.es5.js.map\n","/*!\n * lightgallery | 2.7.2 | September 20th 2023\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar thumbnailsSettings = {\r\n    thumbnail: true,\r\n    animateThumb: true,\r\n    currentPagerPosition: 'middle',\r\n    alignThumbnails: 'middle',\r\n    thumbWidth: 100,\r\n    thumbHeight: '80px',\r\n    thumbMargin: 5,\r\n    appendThumbnailsTo: '.lg-components',\r\n    toggleThumb: false,\r\n    enableThumbDrag: true,\r\n    enableThumbSwipe: true,\r\n    thumbnailSwipeThreshold: 10,\r\n    loadYouTubeThumbnail: true,\r\n    youTubeThumbSize: 1,\r\n    thumbnailPluginStrings: {\r\n        toggleThumbnails: 'Toggle thumbnails',\r\n    },\r\n};\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar Thumbnail = /** @class */ (function () {\r\n    function Thumbnail(instance, $LG) {\r\n        this.thumbOuterWidth = 0;\r\n        this.thumbTotalWidth = 0;\r\n        this.translateX = 0;\r\n        this.thumbClickable = false;\r\n        // get lightGallery core plugin instance\r\n        this.core = instance;\r\n        this.$LG = $LG;\r\n        return this;\r\n    }\r\n    Thumbnail.prototype.init = function () {\r\n        // extend module default settings with lightGallery core settings\r\n        this.settings = __assign(__assign({}, thumbnailsSettings), this.core.settings);\r\n        this.thumbOuterWidth = 0;\r\n        this.thumbTotalWidth =\r\n            this.core.galleryItems.length *\r\n                (this.settings.thumbWidth + this.settings.thumbMargin);\r\n        // Thumbnail animation value\r\n        this.translateX = 0;\r\n        this.setAnimateThumbStyles();\r\n        if (!this.core.settings.allowMediaOverlap) {\r\n            this.settings.toggleThumb = false;\r\n        }\r\n        if (this.settings.thumbnail) {\r\n            this.build();\r\n            if (this.settings.animateThumb) {\r\n                if (this.settings.enableThumbDrag) {\r\n                    this.enableThumbDrag();\r\n                }\r\n                if (this.settings.enableThumbSwipe) {\r\n                    this.enableThumbSwipe();\r\n                }\r\n                this.thumbClickable = false;\r\n            }\r\n            else {\r\n                this.thumbClickable = true;\r\n            }\r\n            this.toggleThumbBar();\r\n            this.thumbKeyPress();\r\n        }\r\n    };\r\n    Thumbnail.prototype.build = function () {\r\n        var _this = this;\r\n        this.setThumbMarkup();\r\n        this.manageActiveClassOnSlideChange();\r\n        this.$lgThumb.first().on('click.lg touchend.lg', function (e) {\r\n            var $target = _this.$LG(e.target);\r\n            if (!$target.hasAttribute('data-lg-item-id')) {\r\n                return;\r\n            }\r\n            setTimeout(function () {\r\n                // In IE9 and bellow touch does not support\r\n                // Go to slide if browser does not support css transitions\r\n                if (_this.thumbClickable && !_this.core.lgBusy) {\r\n                    var index = parseInt($target.attr('data-lg-item-id'));\r\n                    _this.core.slide(index, false, true, false);\r\n                }\r\n            }, 50);\r\n        });\r\n        this.core.LGel.on(lGEvents.beforeSlide + \".thumb\", function (event) {\r\n            var index = event.detail.index;\r\n            _this.animateThumb(index);\r\n        });\r\n        this.core.LGel.on(lGEvents.beforeOpen + \".thumb\", function () {\r\n            _this.thumbOuterWidth = _this.core.outer.get().offsetWidth;\r\n        });\r\n        this.core.LGel.on(lGEvents.updateSlides + \".thumb\", function () {\r\n            _this.rebuildThumbnails();\r\n        });\r\n        this.core.LGel.on(lGEvents.containerResize + \".thumb\", function () {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            setTimeout(function () {\r\n                _this.thumbOuterWidth = _this.core.outer.get().offsetWidth;\r\n                _this.animateThumb(_this.core.index);\r\n                _this.thumbOuterWidth = _this.core.outer.get().offsetWidth;\r\n            }, 50);\r\n        });\r\n    };\r\n    Thumbnail.prototype.setThumbMarkup = function () {\r\n        var thumbOuterClassNames = 'lg-thumb-outer ';\r\n        if (this.settings.alignThumbnails) {\r\n            thumbOuterClassNames += \"lg-thumb-align-\" + this.settings.alignThumbnails;\r\n        }\r\n        var html = \"<div class=\\\"\" + thumbOuterClassNames + \"\\\">\\n        <div class=\\\"lg-thumb lg-group\\\">\\n        </div>\\n        </div>\";\r\n        this.core.outer.addClass('lg-has-thumb');\r\n        if (this.settings.appendThumbnailsTo === '.lg-components') {\r\n            this.core.$lgComponents.append(html);\r\n        }\r\n        else {\r\n            this.core.outer.append(html);\r\n        }\r\n        this.$thumbOuter = this.core.outer.find('.lg-thumb-outer').first();\r\n        this.$lgThumb = this.core.outer.find('.lg-thumb').first();\r\n        if (this.settings.animateThumb) {\r\n            this.core.outer\r\n                .find('.lg-thumb')\r\n                .css('transition-duration', this.core.settings.speed + 'ms')\r\n                .css('width', this.thumbTotalWidth + 'px')\r\n                .css('position', 'relative');\r\n        }\r\n        this.setThumbItemHtml(this.core.galleryItems);\r\n    };\r\n    Thumbnail.prototype.enableThumbDrag = function () {\r\n        var _this = this;\r\n        var thumbDragUtils = {\r\n            cords: {\r\n                startX: 0,\r\n                endX: 0,\r\n            },\r\n            isMoved: false,\r\n            newTranslateX: 0,\r\n            startTime: new Date(),\r\n            endTime: new Date(),\r\n            touchMoveTime: 0,\r\n        };\r\n        var isDragging = false;\r\n        this.$thumbOuter.addClass('lg-grab');\r\n        this.core.outer\r\n            .find('.lg-thumb')\r\n            .first()\r\n            .on('mousedown.lg.thumb', function (e) {\r\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\r\n                // execute only on .lg-object\r\n                e.preventDefault();\r\n                thumbDragUtils.cords.startX = e.pageX;\r\n                thumbDragUtils.startTime = new Date();\r\n                _this.thumbClickable = false;\r\n                isDragging = true;\r\n                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\r\n                _this.core.outer.get().scrollLeft += 1;\r\n                _this.core.outer.get().scrollLeft -= 1;\r\n                // *\r\n                _this.$thumbOuter\r\n                    .removeClass('lg-grab')\r\n                    .addClass('lg-grabbing');\r\n            }\r\n        });\r\n        this.$LG(window).on(\"mousemove.lg.thumb.global\" + this.core.lgId, function (e) {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            if (isDragging) {\r\n                thumbDragUtils.cords.endX = e.pageX;\r\n                thumbDragUtils = _this.onThumbTouchMove(thumbDragUtils);\r\n            }\r\n        });\r\n        this.$LG(window).on(\"mouseup.lg.thumb.global\" + this.core.lgId, function () {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            if (thumbDragUtils.isMoved) {\r\n                thumbDragUtils = _this.onThumbTouchEnd(thumbDragUtils);\r\n            }\r\n            else {\r\n                _this.thumbClickable = true;\r\n            }\r\n            if (isDragging) {\r\n                isDragging = false;\r\n                _this.$thumbOuter.removeClass('lg-grabbing').addClass('lg-grab');\r\n            }\r\n        });\r\n    };\r\n    Thumbnail.prototype.enableThumbSwipe = function () {\r\n        var _this = this;\r\n        var thumbDragUtils = {\r\n            cords: {\r\n                startX: 0,\r\n                endX: 0,\r\n            },\r\n            isMoved: false,\r\n            newTranslateX: 0,\r\n            startTime: new Date(),\r\n            endTime: new Date(),\r\n            touchMoveTime: 0,\r\n        };\r\n        this.$lgThumb.on('touchstart.lg', function (e) {\r\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\r\n                e.preventDefault();\r\n                thumbDragUtils.cords.startX = e.targetTouches[0].pageX;\r\n                _this.thumbClickable = false;\r\n                thumbDragUtils.startTime = new Date();\r\n            }\r\n        });\r\n        this.$lgThumb.on('touchmove.lg', function (e) {\r\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\r\n                e.preventDefault();\r\n                thumbDragUtils.cords.endX = e.targetTouches[0].pageX;\r\n                thumbDragUtils = _this.onThumbTouchMove(thumbDragUtils);\r\n            }\r\n        });\r\n        this.$lgThumb.on('touchend.lg', function () {\r\n            if (thumbDragUtils.isMoved) {\r\n                thumbDragUtils = _this.onThumbTouchEnd(thumbDragUtils);\r\n            }\r\n            else {\r\n                _this.thumbClickable = true;\r\n            }\r\n        });\r\n    };\r\n    // Rebuild thumbnails\r\n    Thumbnail.prototype.rebuildThumbnails = function () {\r\n        var _this = this;\r\n        // Remove transitions\r\n        this.$thumbOuter.addClass('lg-rebuilding-thumbnails');\r\n        setTimeout(function () {\r\n            _this.thumbTotalWidth =\r\n                _this.core.galleryItems.length *\r\n                    (_this.settings.thumbWidth + _this.settings.thumbMargin);\r\n            _this.$lgThumb.css('width', _this.thumbTotalWidth + 'px');\r\n            _this.$lgThumb.empty();\r\n            _this.setThumbItemHtml(_this.core.galleryItems);\r\n            _this.animateThumb(_this.core.index);\r\n        }, 50);\r\n        setTimeout(function () {\r\n            _this.$thumbOuter.removeClass('lg-rebuilding-thumbnails');\r\n        }, 200);\r\n    };\r\n    // @ts-check\r\n    Thumbnail.prototype.setTranslate = function (value) {\r\n        this.$lgThumb.css('transform', 'translate3d(-' + value + 'px, 0px, 0px)');\r\n    };\r\n    Thumbnail.prototype.getPossibleTransformX = function (left) {\r\n        if (left > this.thumbTotalWidth - this.thumbOuterWidth) {\r\n            left = this.thumbTotalWidth - this.thumbOuterWidth;\r\n        }\r\n        if (left < 0) {\r\n            left = 0;\r\n        }\r\n        return left;\r\n    };\r\n    Thumbnail.prototype.animateThumb = function (index) {\r\n        this.$lgThumb.css('transition-duration', this.core.settings.speed + 'ms');\r\n        if (this.settings.animateThumb) {\r\n            var position = 0;\r\n            switch (this.settings.currentPagerPosition) {\r\n                case 'left':\r\n                    position = 0;\r\n                    break;\r\n                case 'middle':\r\n                    position =\r\n                        this.thumbOuterWidth / 2 - this.settings.thumbWidth / 2;\r\n                    break;\r\n                case 'right':\r\n                    position = this.thumbOuterWidth - this.settings.thumbWidth;\r\n            }\r\n            this.translateX =\r\n                (this.settings.thumbWidth + this.settings.thumbMargin) * index -\r\n                    1 -\r\n                    position;\r\n            if (this.translateX > this.thumbTotalWidth - this.thumbOuterWidth) {\r\n                this.translateX = this.thumbTotalWidth - this.thumbOuterWidth;\r\n            }\r\n            if (this.translateX < 0) {\r\n                this.translateX = 0;\r\n            }\r\n            this.setTranslate(this.translateX);\r\n        }\r\n    };\r\n    Thumbnail.prototype.onThumbTouchMove = function (thumbDragUtils) {\r\n        thumbDragUtils.newTranslateX = this.translateX;\r\n        thumbDragUtils.isMoved = true;\r\n        thumbDragUtils.touchMoveTime = new Date().valueOf();\r\n        thumbDragUtils.newTranslateX -=\r\n            thumbDragUtils.cords.endX - thumbDragUtils.cords.startX;\r\n        thumbDragUtils.newTranslateX = this.getPossibleTransformX(thumbDragUtils.newTranslateX);\r\n        // move current slide\r\n        this.setTranslate(thumbDragUtils.newTranslateX);\r\n        this.$thumbOuter.addClass('lg-dragging');\r\n        return thumbDragUtils;\r\n    };\r\n    Thumbnail.prototype.onThumbTouchEnd = function (thumbDragUtils) {\r\n        thumbDragUtils.isMoved = false;\r\n        thumbDragUtils.endTime = new Date();\r\n        this.$thumbOuter.removeClass('lg-dragging');\r\n        var touchDuration = thumbDragUtils.endTime.valueOf() -\r\n            thumbDragUtils.startTime.valueOf();\r\n        var distanceXnew = thumbDragUtils.cords.endX - thumbDragUtils.cords.startX;\r\n        var speedX = Math.abs(distanceXnew) / touchDuration;\r\n        // Some magical numbers\r\n        // Can be improved\r\n        if (speedX > 0.15 &&\r\n            thumbDragUtils.endTime.valueOf() - thumbDragUtils.touchMoveTime < 30) {\r\n            speedX += 1;\r\n            if (speedX > 2) {\r\n                speedX += 1;\r\n            }\r\n            speedX =\r\n                speedX +\r\n                    speedX * (Math.abs(distanceXnew) / this.thumbOuterWidth);\r\n            this.$lgThumb.css('transition-duration', Math.min(speedX - 1, 2) + 'settings');\r\n            distanceXnew = distanceXnew * speedX;\r\n            this.translateX = this.getPossibleTransformX(this.translateX - distanceXnew);\r\n            this.setTranslate(this.translateX);\r\n        }\r\n        else {\r\n            this.translateX = thumbDragUtils.newTranslateX;\r\n        }\r\n        if (Math.abs(thumbDragUtils.cords.endX - thumbDragUtils.cords.startX) <\r\n            this.settings.thumbnailSwipeThreshold) {\r\n            this.thumbClickable = true;\r\n        }\r\n        return thumbDragUtils;\r\n    };\r\n    Thumbnail.prototype.getThumbHtml = function (thumb, index, alt) {\r\n        var slideVideoInfo = this.core.galleryItems[index].__slideVideoInfo || {};\r\n        var thumbImg;\r\n        if (slideVideoInfo.youtube) {\r\n            if (this.settings.loadYouTubeThumbnail) {\r\n                thumbImg =\r\n                    '//img.youtube.com/vi/' +\r\n                        slideVideoInfo.youtube[1] +\r\n                        '/' +\r\n                        this.settings.youTubeThumbSize +\r\n                        '.jpg';\r\n            }\r\n            else {\r\n                thumbImg = thumb;\r\n            }\r\n        }\r\n        else {\r\n            thumbImg = thumb;\r\n        }\r\n        var altAttr = alt ? 'alt=\"' + alt + '\"' : '';\r\n        return \"<div data-lg-item-id=\\\"\" + index + \"\\\" class=\\\"lg-thumb-item \" + (index === this.core.index ? ' active' : '') + \"\\\"\\n        style=\\\"width:\" + this.settings.thumbWidth + \"px; height: \" + this.settings.thumbHeight + \";\\n            margin-right: \" + this.settings.thumbMargin + \"px;\\\">\\n            <img \" + altAttr + \" data-lg-item-id=\\\"\" + index + \"\\\" src=\\\"\" + thumbImg + \"\\\" />\\n        </div>\";\r\n    };\r\n    Thumbnail.prototype.getThumbItemHtml = function (items) {\r\n        var thumbList = '';\r\n        for (var i = 0; i < items.length; i++) {\r\n            thumbList += this.getThumbHtml(items[i].thumb, i, items[i].alt);\r\n        }\r\n        return thumbList;\r\n    };\r\n    Thumbnail.prototype.setThumbItemHtml = function (items) {\r\n        var thumbList = this.getThumbItemHtml(items);\r\n        this.$lgThumb.html(thumbList);\r\n    };\r\n    Thumbnail.prototype.setAnimateThumbStyles = function () {\r\n        if (this.settings.animateThumb) {\r\n            this.core.outer.addClass('lg-animate-thumb');\r\n        }\r\n    };\r\n    // Manage thumbnail active calss\r\n    Thumbnail.prototype.manageActiveClassOnSlideChange = function () {\r\n        var _this = this;\r\n        // manage active class for thumbnail\r\n        this.core.LGel.on(lGEvents.beforeSlide + \".thumb\", function (event) {\r\n            var $thumb = _this.core.outer.find('.lg-thumb-item');\r\n            var index = event.detail.index;\r\n            $thumb.removeClass('active');\r\n            $thumb.eq(index).addClass('active');\r\n        });\r\n    };\r\n    // Toggle thumbnail bar\r\n    Thumbnail.prototype.toggleThumbBar = function () {\r\n        var _this = this;\r\n        if (this.settings.toggleThumb) {\r\n            this.core.outer.addClass('lg-can-toggle');\r\n            this.core.$toolbar.append('<button type=\"button\" aria-label=\"' +\r\n                this.settings.thumbnailPluginStrings['toggleThumbnails'] +\r\n                '\" class=\"lg-toggle-thumb lg-icon\"></button>');\r\n            this.core.outer\r\n                .find('.lg-toggle-thumb')\r\n                .first()\r\n                .on('click.lg', function () {\r\n                _this.core.outer.toggleClass('lg-components-open');\r\n            });\r\n        }\r\n    };\r\n    Thumbnail.prototype.thumbKeyPress = function () {\r\n        var _this = this;\r\n        this.$LG(window).on(\"keydown.lg.thumb.global\" + this.core.lgId, function (e) {\r\n            if (!_this.core.lgOpened || !_this.settings.toggleThumb)\r\n                return;\r\n            if (e.keyCode === 38) {\r\n                e.preventDefault();\r\n                _this.core.outer.addClass('lg-components-open');\r\n            }\r\n            else if (e.keyCode === 40) {\r\n                e.preventDefault();\r\n                _this.core.outer.removeClass('lg-components-open');\r\n            }\r\n        });\r\n    };\r\n    Thumbnail.prototype.destroy = function () {\r\n        if (this.settings.thumbnail) {\r\n            this.$LG(window).off(\".lg.thumb.global\" + this.core.lgId);\r\n            this.core.LGel.off('.lg.thumb');\r\n            this.core.LGel.off('.thumb');\r\n            this.$thumbOuter.remove();\r\n            this.core.outer.removeClass('lg-has-thumb');\r\n        }\r\n    };\r\n    return Thumbnail;\r\n}());\n\nexport default Thumbnail;\n//# sourceMappingURL=lg-thumbnail.es5.js.map\n","/*!\n * lightgallery | 2.7.2 | September 20th 2023\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar zoomSettings = {\r\n    scale: 1,\r\n    zoom: true,\r\n    infiniteZoom: true,\r\n    actualSize: true,\r\n    showZoomInOutIcons: false,\r\n    actualSizeIcons: {\r\n        zoomIn: 'lg-zoom-in',\r\n        zoomOut: 'lg-zoom-out',\r\n    },\r\n    enableZoomAfter: 300,\r\n    zoomPluginStrings: {\r\n        zoomIn: 'Zoom in',\r\n        zoomOut: 'Zoom out',\r\n        viewActualSize: 'View actual size',\r\n    },\r\n};\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar ZOOM_TRANSITION_DURATION = 500;\r\nvar Zoom = /** @class */ (function () {\r\n    function Zoom(instance, $LG) {\r\n        // get lightGallery core plugin instance\r\n        this.core = instance;\r\n        this.$LG = $LG;\r\n        this.settings = __assign(__assign({}, zoomSettings), this.core.settings);\r\n        return this;\r\n    }\r\n    // Append Zoom controls. Actual size, Zoom-in, Zoom-out\r\n    Zoom.prototype.buildTemplates = function () {\r\n        var zoomIcons = this.settings.showZoomInOutIcons\r\n            ? \"<button id=\\\"\" + this.core.getIdName('lg-zoom-in') + \"\\\" type=\\\"button\\\" aria-label=\\\"\" + this.settings.zoomPluginStrings['zoomIn'] + \"\\\" class=\\\"lg-zoom-in lg-icon\\\"></button><button id=\\\"\" + this.core.getIdName('lg-zoom-out') + \"\\\" type=\\\"button\\\" aria-label=\\\"\" + this.settings.zoomPluginStrings['zoomIn'] + \"\\\" class=\\\"lg-zoom-out lg-icon\\\"></button>\"\r\n            : '';\r\n        if (this.settings.actualSize) {\r\n            zoomIcons += \"<button id=\\\"\" + this.core.getIdName('lg-actual-size') + \"\\\" type=\\\"button\\\" aria-label=\\\"\" + this.settings.zoomPluginStrings['viewActualSize'] + \"\\\" class=\\\"\" + this.settings.actualSizeIcons.zoomIn + \" lg-icon\\\"></button>\";\r\n        }\r\n        this.core.outer.addClass('lg-use-transition-for-zoom');\r\n        this.core.$toolbar.first().append(zoomIcons);\r\n    };\r\n    /**\r\n     * @desc Enable zoom option only once the image is completely loaded\r\n     * If zoomFromOrigin is true, Zoom is enabled once the dummy image has been inserted\r\n     *\r\n     * Zoom styles are defined under lg-zoomable CSS class.\r\n     */\r\n    Zoom.prototype.enableZoom = function (event) {\r\n        var _this = this;\r\n        // delay will be 0 except first time\r\n        var _speed = this.settings.enableZoomAfter + event.detail.delay;\r\n        // set _speed value 0 if gallery opened from direct url and if it is first slide\r\n        if (this.$LG('body').first().hasClass('lg-from-hash') &&\r\n            event.detail.delay) {\r\n            // will execute only once\r\n            _speed = 0;\r\n        }\r\n        else {\r\n            // Remove lg-from-hash to enable starting animation.\r\n            this.$LG('body').first().removeClass('lg-from-hash');\r\n        }\r\n        this.zoomableTimeout = setTimeout(function () {\r\n            if (!_this.isImageSlide(_this.core.index)) {\r\n                return;\r\n            }\r\n            _this.core.getSlideItem(event.detail.index).addClass('lg-zoomable');\r\n            if (event.detail.index === _this.core.index) {\r\n                _this.setZoomEssentials();\r\n            }\r\n        }, _speed + 30);\r\n    };\r\n    Zoom.prototype.enableZoomOnSlideItemLoad = function () {\r\n        // Add zoomable class\r\n        this.core.LGel.on(lGEvents.slideItemLoad + \".zoom\", this.enableZoom.bind(this));\r\n    };\r\n    Zoom.prototype.getDragCords = function (e) {\r\n        return {\r\n            x: e.pageX,\r\n            y: e.pageY,\r\n        };\r\n    };\r\n    Zoom.prototype.getSwipeCords = function (e) {\r\n        var x = e.touches[0].pageX;\r\n        var y = e.touches[0].pageY;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    Zoom.prototype.getDragAllowedAxises = function (scale, scaleDiff) {\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-image')\r\n            .first()\r\n            .get();\r\n        var height = 0;\r\n        var width = 0;\r\n        var rect = $image.getBoundingClientRect();\r\n        if (scale) {\r\n            height = $image.offsetHeight * scale;\r\n            width = $image.offsetWidth * scale;\r\n        }\r\n        else if (scaleDiff) {\r\n            height = rect.height + scaleDiff * rect.height;\r\n            width = rect.width + scaleDiff * rect.width;\r\n        }\r\n        else {\r\n            height = rect.height;\r\n            width = rect.width;\r\n        }\r\n        var allowY = height > this.containerRect.height;\r\n        var allowX = width > this.containerRect.width;\r\n        return {\r\n            allowX: allowX,\r\n            allowY: allowY,\r\n        };\r\n    };\r\n    Zoom.prototype.setZoomEssentials = function () {\r\n        this.containerRect = this.core.$content.get().getBoundingClientRect();\r\n    };\r\n    /**\r\n     * @desc Image zoom\r\n     * Translate the wrap and scale the image to get better user experience\r\n     *\r\n     * @param {String} scale - Zoom decrement/increment value\r\n     */\r\n    Zoom.prototype.zoomImage = function (scale, scaleDiff, reposition, resetToMax) {\r\n        if (Math.abs(scaleDiff) <= 0)\r\n            return;\r\n        var offsetX = this.containerRect.width / 2 + this.containerRect.left;\r\n        var offsetY = this.containerRect.height / 2 +\r\n            this.containerRect.top +\r\n            this.scrollTop;\r\n        var originalX;\r\n        var originalY;\r\n        if (scale === 1) {\r\n            this.positionChanged = false;\r\n        }\r\n        var dragAllowedAxises = this.getDragAllowedAxises(0, scaleDiff);\r\n        var allowY = dragAllowedAxises.allowY, allowX = dragAllowedAxises.allowX;\r\n        if (this.positionChanged) {\r\n            originalX = this.left / (this.scale - scaleDiff);\r\n            originalY = this.top / (this.scale - scaleDiff);\r\n            this.pageX = offsetX - originalX;\r\n            this.pageY = offsetY - originalY;\r\n            this.positionChanged = false;\r\n        }\r\n        var possibleSwipeCords = this.getPossibleSwipeDragCords(scaleDiff);\r\n        var x;\r\n        var y;\r\n        var _x = offsetX - this.pageX;\r\n        var _y = offsetY - this.pageY;\r\n        if (scale - scaleDiff > 1) {\r\n            var scaleVal = (scale - scaleDiff) / Math.abs(scaleDiff);\r\n            _x =\r\n                (scaleDiff < 0 ? -_x : _x) +\r\n                    this.left * (scaleVal + (scaleDiff < 0 ? -1 : 1));\r\n            _y =\r\n                (scaleDiff < 0 ? -_y : _y) +\r\n                    this.top * (scaleVal + (scaleDiff < 0 ? -1 : 1));\r\n            x = _x / scaleVal;\r\n            y = _y / scaleVal;\r\n        }\r\n        else {\r\n            var scaleVal = (scale - scaleDiff) * scaleDiff;\r\n            x = _x * scaleVal;\r\n            y = _y * scaleVal;\r\n        }\r\n        if (reposition) {\r\n            if (allowX) {\r\n                if (this.isBeyondPossibleLeft(x, possibleSwipeCords.minX)) {\r\n                    x = possibleSwipeCords.minX;\r\n                }\r\n                else if (this.isBeyondPossibleRight(x, possibleSwipeCords.maxX)) {\r\n                    x = possibleSwipeCords.maxX;\r\n                }\r\n            }\r\n            else {\r\n                if (scale > 1) {\r\n                    if (x < possibleSwipeCords.minX) {\r\n                        x = possibleSwipeCords.minX;\r\n                    }\r\n                    else if (x > possibleSwipeCords.maxX) {\r\n                        x = possibleSwipeCords.maxX;\r\n                    }\r\n                }\r\n            }\r\n            // @todo fix this\r\n            if (allowY) {\r\n                if (this.isBeyondPossibleTop(y, possibleSwipeCords.minY)) {\r\n                    y = possibleSwipeCords.minY;\r\n                }\r\n                else if (this.isBeyondPossibleBottom(y, possibleSwipeCords.maxY)) {\r\n                    y = possibleSwipeCords.maxY;\r\n                }\r\n            }\r\n            else {\r\n                // If the translate value based on index of beyond the viewport, utilize the available space to prevent image being cut out\r\n                if (scale > 1) {\r\n                    //If image goes beyond viewport top, use the minim possible translate value\r\n                    if (y < possibleSwipeCords.minY) {\r\n                        y = possibleSwipeCords.minY;\r\n                    }\r\n                    else if (y > possibleSwipeCords.maxY) {\r\n                        y = possibleSwipeCords.maxY;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.setZoomStyles({\r\n            x: x,\r\n            y: y,\r\n            scale: scale,\r\n        });\r\n        this.left = x;\r\n        this.top = y;\r\n        if (resetToMax) {\r\n            this.setZoomImageSize();\r\n        }\r\n    };\r\n    Zoom.prototype.resetImageTranslate = function (index) {\r\n        if (!this.isImageSlide(index)) {\r\n            return;\r\n        }\r\n        var $image = this.core.getSlideItem(index).find('.lg-image').first();\r\n        this.imageReset = false;\r\n        $image.removeClass('reset-transition reset-transition-y reset-transition-x');\r\n        this.core.outer.removeClass('lg-actual-size');\r\n        $image.css('width', 'auto').css('height', 'auto');\r\n        setTimeout(function () {\r\n            $image.removeClass('no-transition');\r\n        }, 10);\r\n    };\r\n    Zoom.prototype.setZoomImageSize = function () {\r\n        var _this = this;\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-image')\r\n            .first();\r\n        setTimeout(function () {\r\n            var actualSizeScale = _this.getCurrentImageActualSizeScale();\r\n            if (_this.scale >= actualSizeScale) {\r\n                $image.addClass('no-transition');\r\n                _this.imageReset = true;\r\n            }\r\n        }, ZOOM_TRANSITION_DURATION);\r\n        setTimeout(function () {\r\n            var actualSizeScale = _this.getCurrentImageActualSizeScale();\r\n            if (_this.scale >= actualSizeScale) {\r\n                var dragAllowedAxises = _this.getDragAllowedAxises(_this.scale);\r\n                $image\r\n                    .css('width', $image.get().naturalWidth + 'px')\r\n                    .css('height', $image.get().naturalHeight + 'px');\r\n                _this.core.outer.addClass('lg-actual-size');\r\n                if (dragAllowedAxises.allowX && dragAllowedAxises.allowY) {\r\n                    $image.addClass('reset-transition');\r\n                }\r\n                else if (dragAllowedAxises.allowX &&\r\n                    !dragAllowedAxises.allowY) {\r\n                    $image.addClass('reset-transition-x');\r\n                }\r\n                else if (!dragAllowedAxises.allowX &&\r\n                    dragAllowedAxises.allowY) {\r\n                    $image.addClass('reset-transition-y');\r\n                }\r\n            }\r\n        }, ZOOM_TRANSITION_DURATION + 50);\r\n    };\r\n    /**\r\n     * @desc apply scale3d to image and translate to image wrap\r\n     * @param {style} X,Y and scale\r\n     */\r\n    Zoom.prototype.setZoomStyles = function (style) {\r\n        var $imageWrap = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-img-wrap')\r\n            .first();\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-image')\r\n            .first();\r\n        var $dummyImage = this.core.outer\r\n            .find('.lg-current .lg-dummy-img')\r\n            .first();\r\n        this.scale = style.scale;\r\n        $image.css('transform', 'scale3d(' + style.scale + ', ' + style.scale + ', 1)');\r\n        $dummyImage.css('transform', 'scale3d(' + style.scale + ', ' + style.scale + ', 1)');\r\n        var transform = 'translate3d(' + style.x + 'px, ' + style.y + 'px, 0)';\r\n        $imageWrap.css('transform', transform);\r\n    };\r\n    /**\r\n     * @param index - Index of the current slide\r\n     * @param event - event will be available only if the function is called on clicking/taping the imags\r\n     */\r\n    Zoom.prototype.setActualSize = function (index, event) {\r\n        var _this = this;\r\n        if (this.zoomInProgress) {\r\n            return;\r\n        }\r\n        this.zoomInProgress = true;\r\n        var currentItem = this.core.galleryItems[this.core.index];\r\n        this.resetImageTranslate(index);\r\n        setTimeout(function () {\r\n            // Allow zoom only on image\r\n            if (!currentItem.src ||\r\n                _this.core.outer.hasClass('lg-first-slide-loading')) {\r\n                return;\r\n            }\r\n            var scale = _this.getCurrentImageActualSizeScale();\r\n            var prevScale = _this.scale;\r\n            if (_this.core.outer.hasClass('lg-zoomed')) {\r\n                _this.scale = 1;\r\n            }\r\n            else {\r\n                _this.scale = _this.getScale(scale);\r\n            }\r\n            _this.setPageCords(event);\r\n            _this.beginZoom(_this.scale);\r\n            _this.zoomImage(_this.scale, _this.scale - prevScale, true, true);\r\n        }, 50);\r\n        setTimeout(function () {\r\n            _this.core.outer.removeClass('lg-grabbing').addClass('lg-grab');\r\n        }, 60);\r\n        setTimeout(function () {\r\n            _this.zoomInProgress = false;\r\n        }, ZOOM_TRANSITION_DURATION + 110);\r\n    };\r\n    Zoom.prototype.getNaturalWidth = function (index) {\r\n        var $image = this.core.getSlideItem(index).find('.lg-image').first();\r\n        var naturalWidth = this.core.galleryItems[index].width;\r\n        return naturalWidth\r\n            ? parseFloat(naturalWidth)\r\n            : $image.get().naturalWidth;\r\n    };\r\n    Zoom.prototype.getActualSizeScale = function (naturalWidth, width) {\r\n        var _scale;\r\n        var scale;\r\n        if (naturalWidth >= width) {\r\n            _scale = naturalWidth / width;\r\n            scale = _scale || 2;\r\n        }\r\n        else {\r\n            scale = 1;\r\n        }\r\n        return scale;\r\n    };\r\n    Zoom.prototype.getCurrentImageActualSizeScale = function () {\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-image')\r\n            .first();\r\n        var width = $image.get().offsetWidth;\r\n        var naturalWidth = this.getNaturalWidth(this.core.index) || width;\r\n        return this.getActualSizeScale(naturalWidth, width);\r\n    };\r\n    Zoom.prototype.getPageCords = function (event) {\r\n        var cords = {};\r\n        if (event) {\r\n            cords.x = event.pageX || event.touches[0].pageX;\r\n            cords.y = event.pageY || event.touches[0].pageY;\r\n        }\r\n        else {\r\n            var containerRect = this.core.$content\r\n                .get()\r\n                .getBoundingClientRect();\r\n            cords.x = containerRect.width / 2 + containerRect.left;\r\n            cords.y =\r\n                containerRect.height / 2 + this.scrollTop + containerRect.top;\r\n        }\r\n        return cords;\r\n    };\r\n    Zoom.prototype.setPageCords = function (event) {\r\n        var pageCords = this.getPageCords(event);\r\n        this.pageX = pageCords.x;\r\n        this.pageY = pageCords.y;\r\n    };\r\n    Zoom.prototype.manageActualPixelClassNames = function () {\r\n        var $actualSize = this.core.getElementById('lg-actual-size');\r\n        $actualSize\r\n            .removeClass(this.settings.actualSizeIcons.zoomIn)\r\n            .addClass(this.settings.actualSizeIcons.zoomOut);\r\n    };\r\n    // If true, zoomed - in else zoomed out\r\n    Zoom.prototype.beginZoom = function (scale) {\r\n        this.core.outer.removeClass('lg-zoom-drag-transition lg-zoom-dragging');\r\n        if (scale > 1) {\r\n            this.core.outer.addClass('lg-zoomed');\r\n            this.manageActualPixelClassNames();\r\n        }\r\n        else {\r\n            this.resetZoom();\r\n        }\r\n        return scale > 1;\r\n    };\r\n    Zoom.prototype.getScale = function (scale) {\r\n        var actualSizeScale = this.getCurrentImageActualSizeScale();\r\n        if (scale < 1) {\r\n            scale = 1;\r\n        }\r\n        else if (scale > actualSizeScale) {\r\n            scale = actualSizeScale;\r\n        }\r\n        return scale;\r\n    };\r\n    Zoom.prototype.init = function () {\r\n        var _this = this;\r\n        if (!this.settings.zoom) {\r\n            return;\r\n        }\r\n        this.buildTemplates();\r\n        this.enableZoomOnSlideItemLoad();\r\n        var tapped = null;\r\n        this.core.outer.on('dblclick.lg', function (event) {\r\n            if (!_this.$LG(event.target).hasClass('lg-image')) {\r\n                return;\r\n            }\r\n            _this.setActualSize(_this.core.index, event);\r\n        });\r\n        this.core.outer.on('touchstart.lg', function (event) {\r\n            var $target = _this.$LG(event.target);\r\n            if (event.touches.length === 1 && $target.hasClass('lg-image')) {\r\n                if (!tapped) {\r\n                    tapped = setTimeout(function () {\r\n                        tapped = null;\r\n                    }, 300);\r\n                }\r\n                else {\r\n                    clearTimeout(tapped);\r\n                    tapped = null;\r\n                    event.preventDefault();\r\n                    _this.setActualSize(_this.core.index, event);\r\n                }\r\n            }\r\n        });\r\n        this.core.LGel.on(lGEvents.containerResize + \".zoom \" + lGEvents.rotateRight + \".zoom \" + lGEvents.rotateLeft + \".zoom \" + lGEvents.flipHorizontal + \".zoom \" + lGEvents.flipVertical + \".zoom\", function () {\r\n            if (!_this.core.lgOpened ||\r\n                !_this.isImageSlide(_this.core.index) ||\r\n                _this.core.touchAction) {\r\n                return;\r\n            }\r\n            var _LGel = _this.core\r\n                .getSlideItem(_this.core.index)\r\n                .find('.lg-img-wrap')\r\n                .first();\r\n            _this.top = 0;\r\n            _this.left = 0;\r\n            _this.setZoomEssentials();\r\n            _this.setZoomSwipeStyles(_LGel, { x: 0, y: 0 });\r\n            _this.positionChanged = true;\r\n        });\r\n        // Update zoom on resize and orientationchange\r\n        this.$LG(window).on(\"scroll.lg.zoom.global\" + this.core.lgId, function () {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            _this.scrollTop = _this.$LG(window).scrollTop();\r\n        });\r\n        this.core.getElementById('lg-zoom-out').on('click.lg', function () {\r\n            // Allow zoom only on image\r\n            if (!_this.isImageSlide(_this.core.index)) {\r\n                return;\r\n            }\r\n            var timeout = 0;\r\n            if (_this.imageReset) {\r\n                _this.resetImageTranslate(_this.core.index);\r\n                timeout = 50;\r\n            }\r\n            setTimeout(function () {\r\n                var scale = _this.scale - _this.settings.scale;\r\n                if (scale < 1) {\r\n                    scale = 1;\r\n                }\r\n                _this.beginZoom(scale);\r\n                _this.zoomImage(scale, -_this.settings.scale, true, !_this.settings.infiniteZoom);\r\n            }, timeout);\r\n        });\r\n        this.core.getElementById('lg-zoom-in').on('click.lg', function () {\r\n            _this.zoomIn();\r\n        });\r\n        this.core.getElementById('lg-actual-size').on('click.lg', function () {\r\n            _this.setActualSize(_this.core.index);\r\n        });\r\n        this.core.LGel.on(lGEvents.beforeOpen + \".zoom\", function () {\r\n            _this.core.outer.find('.lg-item').removeClass('lg-zoomable');\r\n        });\r\n        this.core.LGel.on(lGEvents.afterOpen + \".zoom\", function () {\r\n            _this.scrollTop = _this.$LG(window).scrollTop();\r\n            // Set the initial value center\r\n            _this.pageX = _this.core.outer.width() / 2;\r\n            _this.pageY = _this.core.outer.height() / 2 + _this.scrollTop;\r\n            _this.scale = 1;\r\n        });\r\n        // Reset zoom on slide change\r\n        this.core.LGel.on(lGEvents.afterSlide + \".zoom\", function (event) {\r\n            var prevIndex = event.detail.prevIndex;\r\n            _this.scale = 1;\r\n            _this.positionChanged = false;\r\n            _this.zoomInProgress = false;\r\n            _this.resetZoom(prevIndex);\r\n            _this.resetImageTranslate(prevIndex);\r\n            if (_this.isImageSlide(_this.core.index)) {\r\n                _this.setZoomEssentials();\r\n            }\r\n        });\r\n        // Drag option after zoom\r\n        this.zoomDrag();\r\n        this.pinchZoom();\r\n        this.zoomSwipe();\r\n        // Store the zoomable timeout value just to clear it while closing\r\n        this.zoomableTimeout = false;\r\n        this.positionChanged = false;\r\n        this.zoomInProgress = false;\r\n    };\r\n    Zoom.prototype.zoomIn = function () {\r\n        // Allow zoom only on image\r\n        if (!this.isImageSlide(this.core.index)) {\r\n            return;\r\n        }\r\n        var scale = this.scale + this.settings.scale;\r\n        if (!this.settings.infiniteZoom) {\r\n            scale = this.getScale(scale);\r\n        }\r\n        this.beginZoom(scale);\r\n        this.zoomImage(scale, Math.min(this.settings.scale, scale - this.scale), true, !this.settings.infiniteZoom);\r\n    };\r\n    // Reset zoom effect\r\n    Zoom.prototype.resetZoom = function (index) {\r\n        this.core.outer.removeClass('lg-zoomed lg-zoom-drag-transition');\r\n        var $actualSize = this.core.getElementById('lg-actual-size');\r\n        var $item = this.core.getSlideItem(index !== undefined ? index : this.core.index);\r\n        $actualSize\r\n            .removeClass(this.settings.actualSizeIcons.zoomOut)\r\n            .addClass(this.settings.actualSizeIcons.zoomIn);\r\n        $item.find('.lg-img-wrap').first().removeAttr('style');\r\n        $item.find('.lg-image').first().removeAttr('style');\r\n        this.scale = 1;\r\n        this.left = 0;\r\n        this.top = 0;\r\n        // Reset pagx pagy values to center\r\n        this.setPageCords();\r\n    };\r\n    Zoom.prototype.getTouchDistance = function (e) {\r\n        return Math.sqrt((e.touches[0].pageX - e.touches[1].pageX) *\r\n            (e.touches[0].pageX - e.touches[1].pageX) +\r\n            (e.touches[0].pageY - e.touches[1].pageY) *\r\n                (e.touches[0].pageY - e.touches[1].pageY));\r\n    };\r\n    Zoom.prototype.pinchZoom = function () {\r\n        var _this = this;\r\n        var startDist = 0;\r\n        var pinchStarted = false;\r\n        var initScale = 1;\r\n        var prevScale = 0;\r\n        var $item = this.core.getSlideItem(this.core.index);\r\n        this.core.outer.on('touchstart.lg', function (e) {\r\n            $item = _this.core.getSlideItem(_this.core.index);\r\n            if (!_this.isImageSlide(_this.core.index)) {\r\n                return;\r\n            }\r\n            if (e.touches.length === 2) {\r\n                e.preventDefault();\r\n                if (_this.core.outer.hasClass('lg-first-slide-loading')) {\r\n                    return;\r\n                }\r\n                initScale = _this.scale || 1;\r\n                _this.core.outer.removeClass('lg-zoom-drag-transition lg-zoom-dragging');\r\n                _this.setPageCords(e);\r\n                _this.resetImageTranslate(_this.core.index);\r\n                _this.core.touchAction = 'pinch';\r\n                startDist = _this.getTouchDistance(e);\r\n            }\r\n        });\r\n        this.core.$inner.on('touchmove.lg', function (e) {\r\n            if (e.touches.length === 2 &&\r\n                _this.core.touchAction === 'pinch' &&\r\n                (_this.$LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target))) {\r\n                e.preventDefault();\r\n                var endDist = _this.getTouchDistance(e);\r\n                var distance = startDist - endDist;\r\n                if (!pinchStarted && Math.abs(distance) > 5) {\r\n                    pinchStarted = true;\r\n                }\r\n                if (pinchStarted) {\r\n                    prevScale = _this.scale;\r\n                    var _scale = Math.max(1, initScale + -distance * 0.02);\r\n                    _this.scale =\r\n                        Math.round((_scale + Number.EPSILON) * 100) / 100;\r\n                    var diff = _this.scale - prevScale;\r\n                    _this.zoomImage(_this.scale, Math.round((diff + Number.EPSILON) * 100) / 100, false, false);\r\n                }\r\n            }\r\n        });\r\n        this.core.$inner.on('touchend.lg', function (e) {\r\n            if (_this.core.touchAction === 'pinch' &&\r\n                (_this.$LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target))) {\r\n                pinchStarted = false;\r\n                startDist = 0;\r\n                if (_this.scale <= 1) {\r\n                    _this.resetZoom();\r\n                }\r\n                else {\r\n                    var actualSizeScale = _this.getCurrentImageActualSizeScale();\r\n                    if (_this.scale >= actualSizeScale) {\r\n                        var scaleDiff = actualSizeScale - _this.scale;\r\n                        if (scaleDiff === 0) {\r\n                            scaleDiff = 0.01;\r\n                        }\r\n                        _this.zoomImage(actualSizeScale, scaleDiff, false, true);\r\n                    }\r\n                    _this.manageActualPixelClassNames();\r\n                    _this.core.outer.addClass('lg-zoomed');\r\n                }\r\n                _this.core.touchAction = undefined;\r\n            }\r\n        });\r\n    };\r\n    Zoom.prototype.touchendZoom = function (startCoords, endCoords, allowX, allowY, touchDuration) {\r\n        var distanceXnew = endCoords.x - startCoords.x;\r\n        var distanceYnew = endCoords.y - startCoords.y;\r\n        var speedX = Math.abs(distanceXnew) / touchDuration + 1;\r\n        var speedY = Math.abs(distanceYnew) / touchDuration + 1;\r\n        if (speedX > 2) {\r\n            speedX += 1;\r\n        }\r\n        if (speedY > 2) {\r\n            speedY += 1;\r\n        }\r\n        distanceXnew = distanceXnew * speedX;\r\n        distanceYnew = distanceYnew * speedY;\r\n        var _LGel = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-img-wrap')\r\n            .first();\r\n        var distance = {};\r\n        distance.x = this.left + distanceXnew;\r\n        distance.y = this.top + distanceYnew;\r\n        var possibleSwipeCords = this.getPossibleSwipeDragCords();\r\n        if (Math.abs(distanceXnew) > 15 || Math.abs(distanceYnew) > 15) {\r\n            if (allowY) {\r\n                if (this.isBeyondPossibleTop(distance.y, possibleSwipeCords.minY)) {\r\n                    distance.y = possibleSwipeCords.minY;\r\n                }\r\n                else if (this.isBeyondPossibleBottom(distance.y, possibleSwipeCords.maxY)) {\r\n                    distance.y = possibleSwipeCords.maxY;\r\n                }\r\n            }\r\n            if (allowX) {\r\n                if (this.isBeyondPossibleLeft(distance.x, possibleSwipeCords.minX)) {\r\n                    distance.x = possibleSwipeCords.minX;\r\n                }\r\n                else if (this.isBeyondPossibleRight(distance.x, possibleSwipeCords.maxX)) {\r\n                    distance.x = possibleSwipeCords.maxX;\r\n                }\r\n            }\r\n            if (allowY) {\r\n                this.top = distance.y;\r\n            }\r\n            else {\r\n                distance.y = this.top;\r\n            }\r\n            if (allowX) {\r\n                this.left = distance.x;\r\n            }\r\n            else {\r\n                distance.x = this.left;\r\n            }\r\n            this.setZoomSwipeStyles(_LGel, distance);\r\n            this.positionChanged = true;\r\n        }\r\n    };\r\n    Zoom.prototype.getZoomSwipeCords = function (startCoords, endCoords, allowX, allowY, possibleSwipeCords) {\r\n        var distance = {};\r\n        if (allowY) {\r\n            distance.y = this.top + (endCoords.y - startCoords.y);\r\n            if (this.isBeyondPossibleTop(distance.y, possibleSwipeCords.minY)) {\r\n                var diffMinY = possibleSwipeCords.minY - distance.y;\r\n                distance.y = possibleSwipeCords.minY - diffMinY / 6;\r\n            }\r\n            else if (this.isBeyondPossibleBottom(distance.y, possibleSwipeCords.maxY)) {\r\n                var diffMaxY = distance.y - possibleSwipeCords.maxY;\r\n                distance.y = possibleSwipeCords.maxY + diffMaxY / 6;\r\n            }\r\n        }\r\n        else {\r\n            distance.y = this.top;\r\n        }\r\n        if (allowX) {\r\n            distance.x = this.left + (endCoords.x - startCoords.x);\r\n            if (this.isBeyondPossibleLeft(distance.x, possibleSwipeCords.minX)) {\r\n                var diffMinX = possibleSwipeCords.minX - distance.x;\r\n                distance.x = possibleSwipeCords.minX - diffMinX / 6;\r\n            }\r\n            else if (this.isBeyondPossibleRight(distance.x, possibleSwipeCords.maxX)) {\r\n                var difMaxX = distance.x - possibleSwipeCords.maxX;\r\n                distance.x = possibleSwipeCords.maxX + difMaxX / 6;\r\n            }\r\n        }\r\n        else {\r\n            distance.x = this.left;\r\n        }\r\n        return distance;\r\n    };\r\n    Zoom.prototype.isBeyondPossibleLeft = function (x, minX) {\r\n        return x >= minX;\r\n    };\r\n    Zoom.prototype.isBeyondPossibleRight = function (x, maxX) {\r\n        return x <= maxX;\r\n    };\r\n    Zoom.prototype.isBeyondPossibleTop = function (y, minY) {\r\n        return y >= minY;\r\n    };\r\n    Zoom.prototype.isBeyondPossibleBottom = function (y, maxY) {\r\n        return y <= maxY;\r\n    };\r\n    Zoom.prototype.isImageSlide = function (index) {\r\n        var currentItem = this.core.galleryItems[index];\r\n        return this.core.getSlideType(currentItem) === 'image';\r\n    };\r\n    Zoom.prototype.getPossibleSwipeDragCords = function (scale) {\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-image')\r\n            .first();\r\n        var bottom = this.core.mediaContainerPosition.bottom;\r\n        var imgRect = $image.get().getBoundingClientRect();\r\n        var imageHeight = imgRect.height;\r\n        var imageWidth = imgRect.width;\r\n        if (scale) {\r\n            imageHeight = imageHeight + scale * imageHeight;\r\n            imageWidth = imageWidth + scale * imageWidth;\r\n        }\r\n        var minY = (imageHeight - this.containerRect.height) / 2;\r\n        var maxY = (this.containerRect.height - imageHeight) / 2 + bottom;\r\n        var minX = (imageWidth - this.containerRect.width) / 2;\r\n        var maxX = (this.containerRect.width - imageWidth) / 2;\r\n        var possibleSwipeCords = {\r\n            minY: minY,\r\n            maxY: maxY,\r\n            minX: minX,\r\n            maxX: maxX,\r\n        };\r\n        return possibleSwipeCords;\r\n    };\r\n    Zoom.prototype.setZoomSwipeStyles = function (LGel, distance) {\r\n        LGel.css('transform', 'translate3d(' + distance.x + 'px, ' + distance.y + 'px, 0)');\r\n    };\r\n    Zoom.prototype.zoomSwipe = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isMoved = false;\r\n        // Allow x direction drag\r\n        var allowX = false;\r\n        // Allow Y direction drag\r\n        var allowY = false;\r\n        var startTime = new Date();\r\n        var endTime = new Date();\r\n        var possibleSwipeCords;\r\n        var _LGel;\r\n        var $item = this.core.getSlideItem(this.core.index);\r\n        this.core.$inner.on('touchstart.lg', function (e) {\r\n            // Allow zoom only on image\r\n            if (!_this.isImageSlide(_this.core.index)) {\r\n                return;\r\n            }\r\n            $item = _this.core.getSlideItem(_this.core.index);\r\n            if ((_this.$LG(e.target).hasClass('lg-item') ||\r\n                $item.get().contains(e.target)) &&\r\n                e.touches.length === 1 &&\r\n                _this.core.outer.hasClass('lg-zoomed')) {\r\n                e.preventDefault();\r\n                startTime = new Date();\r\n                _this.core.touchAction = 'zoomSwipe';\r\n                _LGel = _this.core\r\n                    .getSlideItem(_this.core.index)\r\n                    .find('.lg-img-wrap')\r\n                    .first();\r\n                var dragAllowedAxises = _this.getDragAllowedAxises(0);\r\n                allowY = dragAllowedAxises.allowY;\r\n                allowX = dragAllowedAxises.allowX;\r\n                if (allowX || allowY) {\r\n                    startCoords = _this.getSwipeCords(e);\r\n                }\r\n                possibleSwipeCords = _this.getPossibleSwipeDragCords();\r\n                // reset opacity and transition duration\r\n                _this.core.outer.addClass('lg-zoom-dragging lg-zoom-drag-transition');\r\n            }\r\n        });\r\n        this.core.$inner.on('touchmove.lg', function (e) {\r\n            if (e.touches.length === 1 &&\r\n                _this.core.touchAction === 'zoomSwipe' &&\r\n                (_this.$LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target))) {\r\n                e.preventDefault();\r\n                _this.core.touchAction = 'zoomSwipe';\r\n                endCoords = _this.getSwipeCords(e);\r\n                var distance = _this.getZoomSwipeCords(startCoords, endCoords, allowX, allowY, possibleSwipeCords);\r\n                if (Math.abs(endCoords.x - startCoords.x) > 15 ||\r\n                    Math.abs(endCoords.y - startCoords.y) > 15) {\r\n                    isMoved = true;\r\n                    _this.setZoomSwipeStyles(_LGel, distance);\r\n                }\r\n            }\r\n        });\r\n        this.core.$inner.on('touchend.lg', function (e) {\r\n            if (_this.core.touchAction === 'zoomSwipe' &&\r\n                (_this.$LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target))) {\r\n                e.preventDefault();\r\n                _this.core.touchAction = undefined;\r\n                _this.core.outer.removeClass('lg-zoom-dragging');\r\n                if (!isMoved) {\r\n                    return;\r\n                }\r\n                isMoved = false;\r\n                endTime = new Date();\r\n                var touchDuration = endTime.valueOf() - startTime.valueOf();\r\n                _this.touchendZoom(startCoords, endCoords, allowX, allowY, touchDuration);\r\n            }\r\n        });\r\n    };\r\n    Zoom.prototype.zoomDrag = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isDragging = false;\r\n        var isMoved = false;\r\n        // Allow x direction drag\r\n        var allowX = false;\r\n        // Allow Y direction drag\r\n        var allowY = false;\r\n        var startTime;\r\n        var endTime;\r\n        var possibleSwipeCords;\r\n        var _LGel;\r\n        this.core.outer.on('mousedown.lg.zoom', function (e) {\r\n            // Allow zoom only on image\r\n            if (!_this.isImageSlide(_this.core.index)) {\r\n                return;\r\n            }\r\n            var $item = _this.core.getSlideItem(_this.core.index);\r\n            if (_this.$LG(e.target).hasClass('lg-item') ||\r\n                $item.get().contains(e.target)) {\r\n                startTime = new Date();\r\n                _LGel = _this.core\r\n                    .getSlideItem(_this.core.index)\r\n                    .find('.lg-img-wrap')\r\n                    .first();\r\n                var dragAllowedAxises = _this.getDragAllowedAxises(0);\r\n                allowY = dragAllowedAxises.allowY;\r\n                allowX = dragAllowedAxises.allowX;\r\n                if (_this.core.outer.hasClass('lg-zoomed')) {\r\n                    if (_this.$LG(e.target).hasClass('lg-object') &&\r\n                        (allowX || allowY)) {\r\n                        e.preventDefault();\r\n                        startCoords = _this.getDragCords(e);\r\n                        possibleSwipeCords = _this.getPossibleSwipeDragCords();\r\n                        isDragging = true;\r\n                        _this.core.outer\r\n                            .removeClass('lg-grab')\r\n                            .addClass('lg-grabbing lg-zoom-drag-transition lg-zoom-dragging');\r\n                        // reset opacity and transition duration\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.$LG(window).on(\"mousemove.lg.zoom.global\" + this.core.lgId, function (e) {\r\n            if (isDragging) {\r\n                isMoved = true;\r\n                endCoords = _this.getDragCords(e);\r\n                var distance = _this.getZoomSwipeCords(startCoords, endCoords, allowX, allowY, possibleSwipeCords);\r\n                _this.setZoomSwipeStyles(_LGel, distance);\r\n            }\r\n        });\r\n        this.$LG(window).on(\"mouseup.lg.zoom.global\" + this.core.lgId, function (e) {\r\n            if (isDragging) {\r\n                endTime = new Date();\r\n                isDragging = false;\r\n                _this.core.outer.removeClass('lg-zoom-dragging');\r\n                // Fix for chrome mouse move on click\r\n                if (isMoved &&\r\n                    (startCoords.x !== endCoords.x ||\r\n                        startCoords.y !== endCoords.y)) {\r\n                    endCoords = _this.getDragCords(e);\r\n                    var touchDuration = endTime.valueOf() - startTime.valueOf();\r\n                    _this.touchendZoom(startCoords, endCoords, allowX, allowY, touchDuration);\r\n                }\r\n                isMoved = false;\r\n            }\r\n            _this.core.outer.removeClass('lg-grabbing').addClass('lg-grab');\r\n        });\r\n    };\r\n    Zoom.prototype.closeGallery = function () {\r\n        this.resetZoom();\r\n        this.zoomInProgress = false;\r\n    };\r\n    Zoom.prototype.destroy = function () {\r\n        // Unbind all events added by lightGallery zoom plugin\r\n        this.$LG(window).off(\".lg.zoom.global\" + this.core.lgId);\r\n        this.core.LGel.off('.lg.zoom');\r\n        this.core.LGel.off('.zoom');\r\n        clearTimeout(this.zoomableTimeout);\r\n        this.zoomableTimeout = false;\r\n    };\r\n    return Zoom;\r\n}());\n\nexport default Zoom;\n//# sourceMappingURL=lg-zoom.es5.js.map\n","/*!\n * lightgallery | 2.7.2 | September 20th 2023\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar autoplaySettings = {\r\n    autoplay: true,\r\n    slideShowAutoplay: false,\r\n    slideShowInterval: 5000,\r\n    progressBar: true,\r\n    forceSlideShowAutoplay: false,\r\n    autoplayControls: true,\r\n    appendAutoplayControlsTo: '.lg-toolbar',\r\n    autoplayPluginStrings: {\r\n        toggleAutoplay: 'Toggle Autoplay',\r\n    },\r\n};\n\n/**\r\n * Creates the autoplay plugin.\r\n * @param {object} element - lightGallery element\r\n */\r\nvar Autoplay = /** @class */ (function () {\r\n    function Autoplay(instance) {\r\n        this.core = instance;\r\n        // extend module default settings with lightGallery core settings\r\n        this.settings = __assign(__assign({}, autoplaySettings), this.core.settings);\r\n        return this;\r\n    }\r\n    Autoplay.prototype.init = function () {\r\n        var _this = this;\r\n        if (!this.settings.autoplay) {\r\n            return;\r\n        }\r\n        this.interval = false;\r\n        // Identify if slide happened from autoplay\r\n        this.fromAuto = true;\r\n        // Identify if autoplay canceled from touch/drag\r\n        this.pausedOnTouchDrag = false;\r\n        this.pausedOnSlideChange = false;\r\n        // append autoplay controls\r\n        if (this.settings.autoplayControls) {\r\n            this.controls();\r\n        }\r\n        // Create progress bar\r\n        if (this.settings.progressBar) {\r\n            this.core.outer.append('<div class=\"lg-progress-bar\"><div class=\"lg-progress\"></div></div>');\r\n        }\r\n        // Start autoplay\r\n        if (this.settings.slideShowAutoplay) {\r\n            this.core.LGel.once(lGEvents.slideItemLoad + \".autoplay\", function () {\r\n                _this.startAutoPlay();\r\n            });\r\n        }\r\n        // cancel interval on touchstart and dragstart\r\n        this.core.LGel.on(lGEvents.dragStart + \".autoplay touchstart.lg.autoplay\", function () {\r\n            if (_this.interval) {\r\n                _this.stopAutoPlay();\r\n                _this.pausedOnTouchDrag = true;\r\n            }\r\n        });\r\n        // restore autoplay if autoplay canceled from touchstart / dragstart\r\n        this.core.LGel.on(lGEvents.dragEnd + \".autoplay touchend.lg.autoplay\", function () {\r\n            if (!_this.interval && _this.pausedOnTouchDrag) {\r\n                _this.startAutoPlay();\r\n                _this.pausedOnTouchDrag = false;\r\n            }\r\n        });\r\n        this.core.LGel.on(lGEvents.beforeSlide + \".autoplay\", function () {\r\n            _this.showProgressBar();\r\n            if (!_this.fromAuto && _this.interval) {\r\n                _this.stopAutoPlay();\r\n                _this.pausedOnSlideChange = true;\r\n            }\r\n            else {\r\n                _this.pausedOnSlideChange = false;\r\n            }\r\n            _this.fromAuto = false;\r\n        });\r\n        // restore autoplay if autoplay canceled from touchstart / dragstart\r\n        this.core.LGel.on(lGEvents.afterSlide + \".autoplay\", function () {\r\n            if (_this.pausedOnSlideChange &&\r\n                !_this.interval &&\r\n                _this.settings.forceSlideShowAutoplay) {\r\n                _this.startAutoPlay();\r\n                _this.pausedOnSlideChange = false;\r\n            }\r\n        });\r\n        // set progress\r\n        this.showProgressBar();\r\n    };\r\n    Autoplay.prototype.showProgressBar = function () {\r\n        var _this = this;\r\n        if (this.settings.progressBar && this.fromAuto) {\r\n            var _$progressBar_1 = this.core.outer.find('.lg-progress-bar');\r\n            var _$progress_1 = this.core.outer.find('.lg-progress');\r\n            if (this.interval) {\r\n                _$progress_1.removeAttr('style');\r\n                _$progressBar_1.removeClass('lg-start');\r\n                setTimeout(function () {\r\n                    _$progress_1.css('transition', 'width ' +\r\n                        (_this.core.settings.speed +\r\n                            _this.settings.slideShowInterval) +\r\n                        'ms ease 0s');\r\n                    _$progressBar_1.addClass('lg-start');\r\n                }, 20);\r\n            }\r\n        }\r\n    };\r\n    // Manage autoplay via play/stop buttons\r\n    Autoplay.prototype.controls = function () {\r\n        var _this = this;\r\n        var _html = \"<button aria-label=\\\"\" + this.settings.autoplayPluginStrings['toggleAutoplay'] + \"\\\" type=\\\"button\\\" class=\\\"lg-autoplay-button lg-icon\\\"></button>\";\r\n        // Append autoplay controls\r\n        this.core.outer\r\n            .find(this.settings.appendAutoplayControlsTo)\r\n            .append(_html);\r\n        this.core.outer\r\n            .find('.lg-autoplay-button')\r\n            .first()\r\n            .on('click.lg.autoplay', function () {\r\n            if (_this.core.outer.hasClass('lg-show-autoplay')) {\r\n                _this.stopAutoPlay();\r\n            }\r\n            else {\r\n                if (!_this.interval) {\r\n                    _this.startAutoPlay();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    // Autostart gallery\r\n    Autoplay.prototype.startAutoPlay = function () {\r\n        var _this = this;\r\n        this.core.outer\r\n            .find('.lg-progress')\r\n            .css('transition', 'width ' +\r\n            (this.core.settings.speed +\r\n                this.settings.slideShowInterval) +\r\n            'ms ease 0s');\r\n        this.core.outer.addClass('lg-show-autoplay');\r\n        this.core.outer.find('.lg-progress-bar').addClass('lg-start');\r\n        this.core.LGel.trigger(lGEvents.autoplayStart, {\r\n            index: this.core.index,\r\n        });\r\n        this.interval = setInterval(function () {\r\n            if (_this.core.index + 1 < _this.core.galleryItems.length) {\r\n                _this.core.index++;\r\n            }\r\n            else {\r\n                _this.core.index = 0;\r\n            }\r\n            _this.core.LGel.trigger(lGEvents.autoplay, {\r\n                index: _this.core.index,\r\n            });\r\n            _this.fromAuto = true;\r\n            _this.core.slide(_this.core.index, false, false, 'next');\r\n        }, this.core.settings.speed + this.settings.slideShowInterval);\r\n    };\r\n    // cancel Autostart\r\n    Autoplay.prototype.stopAutoPlay = function () {\r\n        if (this.interval) {\r\n            this.core.LGel.trigger(lGEvents.autoplayStop, {\r\n                index: this.core.index,\r\n            });\r\n            this.core.outer.find('.lg-progress').removeAttr('style');\r\n            this.core.outer.removeClass('lg-show-autoplay');\r\n            this.core.outer.find('.lg-progress-bar').removeClass('lg-start');\r\n        }\r\n        clearInterval(this.interval);\r\n        this.interval = false;\r\n    };\r\n    Autoplay.prototype.closeGallery = function () {\r\n        this.stopAutoPlay();\r\n    };\r\n    Autoplay.prototype.destroy = function () {\r\n        if (this.settings.autoplay) {\r\n            this.core.outer.find('.lg-progress-bar').remove();\r\n        }\r\n        // Remove all event listeners added by autoplay plugin\r\n        this.core.LGel.off('.lg.autoplay');\r\n        this.core.LGel.off('.autoplay');\r\n    };\r\n    return Autoplay;\r\n}());\n\nexport default Autoplay;\n//# sourceMappingURL=lg-autoplay.es5.js.map\n","/*!\n * lightgallery | 2.7.2 | September 20th 2023\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar fullscreenSettings = {\r\n    fullScreen: true,\r\n    fullscreenPluginStrings: {\r\n        toggleFullscreen: 'Toggle Fullscreen',\r\n    },\r\n};\n\nvar FullScreen = /** @class */ (function () {\r\n    function FullScreen(instance, $LG) {\r\n        // get lightGallery core plugin instance\r\n        this.core = instance;\r\n        this.$LG = $LG;\r\n        // extend module default settings with lightGallery core settings\r\n        this.settings = __assign(__assign({}, fullscreenSettings), this.core.settings);\r\n        return this;\r\n    }\r\n    FullScreen.prototype.init = function () {\r\n        var fullScreen = '';\r\n        if (this.settings.fullScreen) {\r\n            // check for fullscreen browser support\r\n            if (!document.fullscreenEnabled &&\r\n                !document.webkitFullscreenEnabled &&\r\n                !document.mozFullScreenEnabled &&\r\n                !document.msFullscreenEnabled) {\r\n                return;\r\n            }\r\n            else {\r\n                fullScreen = \"<button type=\\\"button\\\" aria-label=\\\"\" + this.settings.fullscreenPluginStrings['toggleFullscreen'] + \"\\\" class=\\\"lg-fullscreen lg-icon\\\"></button>\";\r\n                this.core.$toolbar.append(fullScreen);\r\n                this.fullScreen();\r\n            }\r\n        }\r\n    };\r\n    FullScreen.prototype.isFullScreen = function () {\r\n        return (document.fullscreenElement ||\r\n            document.mozFullScreenElement ||\r\n            document.webkitFullscreenElement ||\r\n            document.msFullscreenElement);\r\n    };\r\n    FullScreen.prototype.requestFullscreen = function () {\r\n        var el = document.documentElement;\r\n        if (el.requestFullscreen) {\r\n            el.requestFullscreen();\r\n        }\r\n        else if (el.msRequestFullscreen) {\r\n            el.msRequestFullscreen();\r\n        }\r\n        else if (el.mozRequestFullScreen) {\r\n            el.mozRequestFullScreen();\r\n        }\r\n        else if (el.webkitRequestFullscreen) {\r\n            el.webkitRequestFullscreen();\r\n        }\r\n    };\r\n    FullScreen.prototype.exitFullscreen = function () {\r\n        if (document.exitFullscreen) {\r\n            document.exitFullscreen();\r\n        }\r\n        else if (document.msExitFullscreen) {\r\n            document.msExitFullscreen();\r\n        }\r\n        else if (document.mozCancelFullScreen) {\r\n            document.mozCancelFullScreen();\r\n        }\r\n        else if (document.webkitExitFullscreen) {\r\n            document.webkitExitFullscreen();\r\n        }\r\n    };\r\n    // https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Using_full_screen_mode\r\n    FullScreen.prototype.fullScreen = function () {\r\n        var _this = this;\r\n        this.$LG(document).on(\"fullscreenchange.lg.global\" + this.core.lgId + \" \\n            webkitfullscreenchange.lg.global\" + this.core.lgId + \" \\n            mozfullscreenchange.lg.global\" + this.core.lgId + \" \\n            MSFullscreenChange.lg.global\" + this.core.lgId, function () {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            _this.core.outer.toggleClass('lg-fullscreen-on');\r\n        });\r\n        this.core.outer\r\n            .find('.lg-fullscreen')\r\n            .first()\r\n            .on('click.lg', function () {\r\n            if (_this.isFullScreen()) {\r\n                _this.exitFullscreen();\r\n            }\r\n            else {\r\n                _this.requestFullscreen();\r\n            }\r\n        });\r\n    };\r\n    FullScreen.prototype.closeGallery = function () {\r\n        // exit from fullscreen if activated\r\n        if (this.isFullScreen()) {\r\n            this.exitFullscreen();\r\n        }\r\n    };\r\n    FullScreen.prototype.destroy = function () {\r\n        this.$LG(document).off(\"fullscreenchange.lg.global\" + this.core.lgId + \" \\n            webkitfullscreenchange.lg.global\" + this.core.lgId + \" \\n            mozfullscreenchange.lg.global\" + this.core.lgId + \" \\n            MSFullscreenChange.lg.global\" + this.core.lgId);\r\n    };\r\n    return FullScreen;\r\n}());\n\nexport default FullScreen;\n//# sourceMappingURL=lg-fullscreen.es5.js.map\n","import React from \"react\";\nimport LightGallery from \"lightgallery/react\";\nimport \"lightgallery/css/lightgallery.css\";\nimport \"lightgallery/css/lg-thumbnail.css\";\nimport \"lightgallery/css/lg-zoom.css\";\nimport \"lightgallery/css/lg-autoplay.css\";\nimport \"lightgallery/css/lg-fullscreen.css\";\nimport \"./styles.css\";\n\nimport lgThumbnail from \"lightgallery/plugins/thumbnail\";\nimport lgZoom from \"lightgallery/plugins/zoom\";\nimport lgAutoplay from \"lightgallery/plugins/autoplay\";\nimport lgFullscreen from \"lightgallery/plugins/fullscreen\";\n\nconst PhotoGallery = ({ photos, title }) => {\n  return (\n    <div>\n    <h2>{title}</h2>\n\n    <LightGallery speed={1000} plugins={[lgThumbnail, lgZoom, lgAutoplay, lgFullscreen]} mode=\"lg-fade\">\n      {photos.map((item) => (\n        <a key={item.id} href={item.image} data-sub-html={`<h4>${item.title}</h4>`}>\n          <img className=\"gallery-img\" src={item.image} alt={item.title} style={{width: \"225px\", height: \"165px\", border: \"3px solid #0e6e9b\", margin: \"5px\", borderRadius: \"10px\"}} />\n        </a>\n      ))}\n    </LightGallery>\n    </div>\n  );\n};\n\nexport default PhotoGallery;\n","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nimport photoJSON from \"/static/photo-gallery/gallery-metadata.json\";\nimport PhotoGallery from \"/src/components/image-gallery/Gallery.js\";\nimport \"/src/components/image-gallery/styles.css\";\nimport {Box, Grid, Text} from \"theme-ui\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    hr: \"hr\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", null, React.createElement(Text, {\n    children: `Image Gallery`,\n    sx: {\n      fontSize: [6],\n      fontWeight: `bold`,\n      color: `heading`\n    }\n  })), \"\\n\", React.createElement(\"div\", null, React.createElement(Text, {\n    children: `Amanzi-ATS Simulations for Environmental Applications`,\n    sx: {\n      fontSize: [4],\n      color: `subheading`\n    }\n  })), \"\\n\", React.createElement(_components.hr), \"\\n\", React.createElement(PhotoGallery, {\n    photos: photoJSON[\"photoGalleryRTM\"],\n    title: \"Contaminant Transport at Legacy Waste Sites\"\n  }), \"\\n\", React.createElement(PhotoGallery, {\n    photos: photoJSON[\"photoGalleryMF\"],\n    title: \"Matrix-Fracture Flow and Transport\"\n  }), \"\\n\", React.createElement(PhotoGallery, {\n    photos: photoJSON[\"photoGalleryArctic\"],\n    title: \"Thermal Hydrology in the Arctic\"\n  }), \"\\n\", React.createElement(PhotoGallery, {\n    photos: photoJSON[\"photoGalleryWatersheds\"],\n    title: \"Watersheds\"\n  }));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import React from \"react\";\nimport GATSBY_COMPILED_MDX from \"/home/runner/work/amanzi.github.io/amanzi.github.io/content/pages/gallery/index.mdx\";\nimport PageComponent, {Head} from \"../components/page\";\nPageComponent\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PageComponent, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport {Head};\nconst query = \"3297325238\";\n"],"names":["_ref","data","page","children","jsx","Layout","Heading","as","variant","title","sx","my","Head","_ref2","Seo","description","excerpt","MinimalBlogCorePage","props","React","Page","useSiteMetadata","useStaticQuery","site","siteMetadata","pathname","image","canonicalUrl","siteTitle","siteTitleAlt","defaultTitle","siteUrl","siteDescription","defaultDescription","siteImage","defaultImage","author","siteLanguage","seo","url","lang","name","content","property","rel","type","sizes","href","withPrefix","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","lGEvents","lightGalleryCoreSettings","mode","easing","speed","licenseKey","height","width","addClass","startClass","backdropDuration","container","startAnimationDuration","zoomFromOrigin","hideBarsDelay","showBarsAfter","slideDelay","supportLegacyBrowser","allowMediaOverlap","videoMaxSize","loadYouTubePoster","defaultCaptionHeight","ariaLabelledby","ariaDescribedby","resetScrollPosition","hideScrollbar","closable","swipeToClose","closeOnTap","showCloseIcon","showMaximizeIcon","loop","escKey","keyPress","trapFocus","controls","slideEndAnimation","hideControlOnEnd","mousewheel","getCaptionFromTitleOrAlt","appendSubHtmlTo","subHtmlSelectorRelative","preload","numberOfSlideItemsInDom","selector","selectWithin","nextHtml","prevHtml","index","iframeWidth","iframeHeight","iframeMaxWidth","iframeMaxHeight","download","counter","appendCounterTo","swipeThreshold","enableSwipe","enableDrag","dynamic","dynamicEl","extraProps","exThumbImage","isMobile","undefined","mobileSettings","plugins","strings","closeGallery","toggleMaximize","previousSlide","nextSlide","playVideo","mediaLoadingFailed","lgQuery","cssVenderPrefixes","_getSelector","firstElement","_getFirstEl","generateUUID","replace","c","r","Math","random","toString","context","document","substring","querySelector","querySelectorAll","_each","func","forEach","_setCssVendorPrefix","el","cssProperty","value","group1","toUpperCase","indexOf","style","charAt","toLowerCase","slice","isEventMatched","event","eventName","eventNamespace","split","filter","e","every","attr","getAttribute","setAttribute","find","$LG","first","eq","parent","parentElement","get","removeAttr","attributes","attrs","removeAttribute","wrap","className","wrapper","createElement","parentNode","insertBefore","removeChild","appendChild","classNames","classList","add","removeClass","remove","hasClass","contains","hasAttribute","attribute","toggleClass","css","_this","on","events","listener","Array","isArray","eventListeners","push","addEventListener","once","off","keys","removeEventListener","trigger","detail","customEvent","CustomEvent","dispatchEvent","load","fetch","then","res","text","html","innerHTML","append","insertAdjacentHTML","prepend","empty","scrollTop","body","documentElement","window","pageYOffset","scrollLeft","pageXOffset","offset","left","top","rect","getBoundingClientRect","bodyMarginLeft","marginLeft","parseFloat","currentStyle","getComputedStyle","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","params","bubbles","cancelable","evt","createEvent","initCustomEvent","Element","matches","msMatchesSelector","webkitMatchesSelector","defaultDynamicOptions","convertToData","g","utils","spacing","defaultLgSize","lgSize","isResponsiveSizes","wWidth","innerWidth","size_1","parseInt","size","cWidth","cHeight","maxWidth","min","maxHeight","ratio","bottom","imageSize","LGel","containerRect","wHeight","elWidth","elHeight","elStyle","x","borderLeft","y","borderTop","src","iframeTitle","altAttr","srcset","sources","imgMarkup","sourceTag","JSON","parse","map","source","key","srcItms","rsWidth","rsSrc","_src","splice","j","img","complete","naturalWidth","_poster","dummyImg","videoContStyle","playVideoString","_isVideo","youtube","vimeo","elements","element","display","visibility","items","dynamicElements","availableDynamicOptions","il","k","a","jl","__spreadArrays","item","specified","dynamicAttr","label","currentItem","alt","thumb","subHtml","test","navigator","userAgent","isHTML5VIdeo","html5","console","error","match","wistia","lgId","LightGallery","options","lgOpened","lGalleryOn","lgBusy","currentItemsInDom","prevScrollTop","bodyPaddingRight","isDummyImageRemoved","dragOrSwipeEnabled","mediaContainerPosition","generateSettings","buildModules","settings","galleryItems","getItems","normalizeSettings","init","validateLicense","addSlideVideoInfo","buildStructure","instance","setTimeout","triggerPosterClick","arrow","openGalleryOnItemClick","_loop_1","this_1","$element","uuid","preventDefault","currentItemIndex","openGallery","plugin","warn","getSlideItem","getSlideItemId","getIdName","id","getElementById","manageSingleSlideClassName","outer","$container","subHtmlCont","addClasses","containerClassName","closeIcon","maximizeIcon","template","$lgComponents","$backdrop","$inner","$content","$toolbar","outerClassNames","refreshOnResize","hideBars","manageCloseGallery","initModules","__slideVideoInfo","getMediaContainerPosition","_a","top_1","currentImageSize","resizeVideoSlide","imgStyle","getDummyImgStyles","lgVideoStyle","getVideoContStyle","updateSlides","currentSrc","updateControls","_index","some","galleryItem","itemIndex","organizeSlideItems","loadContent","updateCurrentCounter","shouldHideScrollbar","bodyRect","scrollbarWidth","resetScrollBar","itemsToBeInsertedToDom","getItemsToBeInsertedToDom","addHtml","transform","setMediaContainerPosition","timeout","currentSlide_1","slide","captionHeight","thumbContainer","clearTimeout","hideBarTimeout","initPictureFill","$img","picturefill","counterHtml","subHtmlUrl","fL","currentSlide","getDummyImageContent","$currentSlide","$currentItem","_dummyImgSrc","dummyImgContent","setImgMarkup","currentGalleryItem","isFirstSlideWithZoomAnimation","onSlideObjectLoad","$slide","isHTML5VideoWithoutPoster","onLoad","onError","mediaObject","onLgObjectLoad","delay","isFirstSlide","triggerSlideItemLoad","_speed","getSlideType","poster","video","rec","_html5Video","responsive","srcDyItms","videoInfo","iframe","top_2","videoSize","markup","html5Video","hasPoster","loadContentOnFirstSlideLoad","prevIndex","numberOfItems","possibleNumberOfItems","max","prevIndexItem","_element","idx","numberOfExistingItems","getPreviousSlideIndex","currentItemId","setDownloadValue","downloadUrl","$download","makeSlideAnimation","direction","currentSlideItem","previousSlideItem","fromTouch","fromThumb","numberOfGalleryItems","previousSlideItem_1","top_3","arrowDisable","touchPrev","touchNext","updateCounterTotal","touchMove","startCoords","endCoords","distanceX","pageX","distanceY","pageY","allowSwipe","swipeDirection","abs","setTranslate","offsetWidth","gutter","opacity","innerHeight","scale","touchEnd","distance","triggerClick","distanceAbs","goToNextSlide","goToPrevSlide","target","isPosterElement","isMoved","isSwiping","$item","touches","touchAction","manageSwipeClass","isDraging","_touchNext","_touchPrev","_loop","keyCode","$prev","$next","$el","xValue","yValue","scaleX","scaleY","lastCall","deltaY","now","Date","getTime","isSlideElement","playButton","invalidateItems","focus","preventScroll","focusableEls","firstFocusableEl","lastFocusableEl","shiftKey","activeElement","mousedown","force","top_4","_b","destroyModules","removeTimeout","blur","module","err","destroy","refresh","destroyGallery","closeTimeout","bind","LgMethods","elementClassNames","onAfterAppendSlide","onInit","onHasVideo","onContainerResize","onAfterAppendSubHtml","onBeforeOpen","onAfterOpen","onSlideItemLoad","onBeforeSlide","onAfterSlide","onPosterClick","onDragStart","onDragMove","onDragEnd","onBeforeNextSlide","onBeforePrevSlide","onBeforeClose","onAfterClose","onRotateLeft","onRotateRight","onFlipHorizontal","onFlipVertical","restProps","getOwnPropertySymbols","propertyIsEnumerable","__rest","$lg","useRef","registerEvents","useCallback","current","useEffect","lightGallery$1","ref","thumbnailsSettings","thumbnail","animateThumb","currentPagerPosition","alignThumbnails","thumbWidth","thumbHeight","thumbMargin","appendThumbnailsTo","toggleThumb","enableThumbDrag","enableThumbSwipe","thumbnailSwipeThreshold","loadYouTubeThumbnail","youTubeThumbSize","thumbnailPluginStrings","toggleThumbnails","Thumbnail","thumbOuterWidth","thumbTotalWidth","translateX","thumbClickable","core","setAnimateThumbStyles","build","toggleThumbBar","thumbKeyPress","setThumbMarkup","manageActiveClassOnSlideChange","$lgThumb","$target","rebuildThumbnails","thumbOuterClassNames","$thumbOuter","setThumbItemHtml","thumbDragUtils","cords","startX","endX","newTranslateX","startTime","endTime","touchMoveTime","isDragging","onThumbTouchMove","onThumbTouchEnd","targetTouches","getPossibleTransformX","position","valueOf","touchDuration","distanceXnew","speedX","getThumbHtml","thumbImg","slideVideoInfo","getThumbItemHtml","thumbList","$thumb","zoomSettings","zoom","infiniteZoom","actualSize","showZoomInOutIcons","actualSizeIcons","zoomIn","zoomOut","enableZoomAfter","zoomPluginStrings","viewActualSize","Zoom","buildTemplates","zoomIcons","enableZoom","zoomableTimeout","isImageSlide","setZoomEssentials","enableZoomOnSlideItemLoad","getDragCords","getSwipeCords","getDragAllowedAxises","scaleDiff","$image","offsetHeight","allowY","allowX","zoomImage","reposition","resetToMax","originalX","originalY","offsetX","offsetY","positionChanged","dragAllowedAxises","possibleSwipeCords","getPossibleSwipeDragCords","_x","_y","scaleVal","isBeyondPossibleLeft","minX","isBeyondPossibleRight","maxX","isBeyondPossibleTop","minY","isBeyondPossibleBottom","maxY","setZoomStyles","setZoomImageSize","resetImageTranslate","imageReset","actualSizeScale","getCurrentImageActualSizeScale","naturalHeight","ZOOM_TRANSITION_DURATION","$imageWrap","$dummyImage","setActualSize","zoomInProgress","prevScale","getScale","setPageCords","beginZoom","getNaturalWidth","getActualSizeScale","getPageCords","pageCords","manageActualPixelClassNames","resetZoom","tapped","_LGel","setZoomSwipeStyles","zoomDrag","pinchZoom","zoomSwipe","$actualSize","getTouchDistance","sqrt","startDist","pinchStarted","initScale","endDist","_scale","round","Number","EPSILON","diff","touchendZoom","distanceYnew","speedY","getZoomSwipeCords","diffMinY","diffMaxY","diffMinX","difMaxX","imgRect","imageHeight","imageWidth","autoplaySettings","autoplay","slideShowAutoplay","slideShowInterval","progressBar","forceSlideShowAutoplay","autoplayControls","appendAutoplayControlsTo","autoplayPluginStrings","toggleAutoplay","Autoplay","interval","fromAuto","pausedOnTouchDrag","pausedOnSlideChange","startAutoPlay","stopAutoPlay","showProgressBar","_$progressBar_1","_$progress_1","_html","setInterval","clearInterval","fullscreenSettings","fullScreen","fullscreenPluginStrings","toggleFullscreen","FullScreen","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","isFullScreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","photos","lgThumbnail","lgZoom","lgAutoplay","lgFullscreen","border","margin","borderRadius","_createMdxContent","_components","hr","_provideComponents","components","Text","fontSize","fontWeight","color","PhotoGallery","photoJSON","MDXLayout","GatsbyMDXWrapper","PageComponent","GATSBY_COMPILED_MDX"],"sourceRoot":""}